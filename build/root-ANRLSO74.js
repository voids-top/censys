import{a as It,b as vt,c as Ht,d as zt,f as Jt}from"/censys/build/_shared/chunk-AVESHRFL.js";import{c as Vt}from"/censys/build/_shared/chunk-S2IH2R6L.js";import{a as Ft,b as Wt}from"/censys/build/_shared/chunk-2ZE7U5EB.js";import"/censys/build/_shared/chunk-MBWLTMZZ.js";import{a as Ut}from"/censys/build/_shared/chunk-6GD6JLZ2.js";import"/censys/build/_shared/chunk-FKAW57YX.js";import"/censys/build/_shared/chunk-XFF644VA.js";import{b as Yt}from"/censys/build/_shared/chunk-5B22H335.js";import{b as Gt}from"/censys/build/_shared/chunk-PUNV2EUS.js";import{a as Dt,c as Lt,m as Mt}from"/censys/build/_shared/chunk-ZMYU5ULY.js";import"/censys/build/_shared/chunk-WMKH6XX3.js";import"/censys/build/_shared/chunk-3JU625ZU.js";import"/censys/build/_shared/chunk-I5BA26X4.js";import{a as Et}from"/censys/build/_shared/chunk-RAMDI2JB.js";import"/censys/build/_shared/chunk-O3SGPCPK.js";import"/censys/build/_shared/chunk-CJIEOTRC.js";import"/censys/build/_shared/chunk-JLZAPT5W.js";import"/censys/build/_shared/chunk-FSKKJDZY.js";import"/censys/build/_shared/chunk-M7IO6GB7.js";import{a as P,b as bt,d as z,e as wt,w as kt,x as $t,z as Y}from"/censys/build/_shared/chunk-W5Y6TOHF.js";import"/censys/build/_shared/chunk-AEP7YWHE.js";import"/censys/build/_shared/chunk-URNZPFSF.js";import"/censys/build/_shared/chunk-WK35ORSL.js";import"/censys/build/_shared/chunk-HG7D3PDC.js";import{a as At}from"/censys/build/_shared/chunk-ZKAH2G64.js";import{b as ut}from"/censys/build/_shared/chunk-BHFXHGPZ.js";import{c as L}from"/censys/build/_shared/chunk-G6DKMBFA.js";import"/censys/build/_shared/chunk-KIDII43I.js";import"/censys/build/_shared/chunk-RPAGMMSK.js";import"/censys/build/_shared/chunk-2G5R6E4Q.js";import"/censys/build/_shared/chunk-6XVOHWMX.js";import{c as xt,d as Pt}from"/censys/build/_shared/chunk-HLRAT4GD.js";import"/censys/build/_shared/chunk-HPK4AUA3.js";import{a as f}from"/censys/build/_shared/chunk-W2GUOEY7.js";import{a as Rt,b as v,c as Bt,d as _t,g as Nt,i as Ot}from"/censys/build/_shared/chunk-FQAS3FYV.js";import"/censys/build/_shared/chunk-P2FXGQA2.js";import{b as yt,c as Ct,e as St,h as ht,i as Tt}from"/censys/build/_shared/chunk-FH7VNUY3.js";import{c as dt}from"/censys/build/_shared/chunk-B7DSLLNE.js";import"/censys/build/_shared/chunk-GYDCO7LL.js";import"/censys/build/_shared/chunk-KMD3IRPL.js";import"/censys/build/_shared/chunk-Y7XN4DST.js";import{B as s,C as y,aa as H,cb as O,db as I,eb as gt,y as x,z as ft}from"/censys/build/_shared/chunk-UYH4GQ7Z.js";import{d as G}from"/censys/build/_shared/chunk-6URBRDCL.js";import{A as ct,D as mt,F as lt,a as ot,i as rt,k as nt,m as it,u as at,v as st,x as pt}from"/censys/build/_shared/chunk-Q6RLBVJI.js";import{a as h,c as a}from"/censys/build/_shared/chunk-XJAPXWKX.js";import{c as se,d as r}from"/censys/build/_shared/chunk-2QEWK57A.js";var ie=se((ar,ne)=>{ne.exports={}});var V="/censys/build/css-bundle-U7E4YPRV.css";var F=r(h(),1);var Kt=r(h(),1);function qt(t){let{i18n:e}=L();Kt.useEffect(()=>{e.language!==t&&e.changeLanguage(t)},[t,e])}var B=r(h(),1);var J={broadcastBanner:"Sx74w",animatingIn:"_-4d9V",animatingOut:"pQ-zB",hidden:"UloH7"};var Xt=r(a(),1);function b({testId:t,shouldShowBanner:e,children:n}){let{animationState:c,handleAnimationEnd:p}=Dt({shouldShowBanner:e});return c==="hidden"?null:(0,Xt.jsx)("div",{"data-testid":t,className:x(J.broadcastBanner,J[c]),"aria-hidden":!e,...!e&&{inert:""},onAnimationEnd:p,children:n})}var g=r(a(),1),me=G.object({isDismissed:G.boolean()}),Qt="ai-privacy-disclosure-banner-dismissed";function K(){let t=v("ACCOUNTS_SITE_URL"),e=v("SUPPORT_SITE_URL"),n=ht("ai-preferences"),[c,p]=(0,B.useState)(!0);(0,B.useEffect)(()=>{let d=It(Qt,me,{isDismissed:!1});p(d.isDismissed)},[]);let m=St(),l=P(m,1),E=(0,B.useCallback)(()=>{p(!0),vt(Qt,{isDismissed:!0})},[]);return n?(0,g.jsx)(b,{testId:"ai-privacy-settings-banner",shouldShowBanner:!c,children:(0,g.jsx)(I,{icon:"sparkling",title:"The Censys Query Assistant is generally available!",variant:O.INFO,onDismiss:E,actions:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(At,{button:{iconRight:"arrow-right",iconRightMode:"line",variant:y.DEFAULT},link:{to:l?`${t}/settings/organization/privacy`:`${t}/settings/privacy`,isExternal:!0,shouldOmitOrg:!1},children:"Configure"}),(0,g.jsxs)(f,{href:`${e}/docs/platform-query-assistant#configure-ai-tool-usage-and-privacy-settings`,isExternal:!0,shouldOmitOrg:!0,children:["Learn More",(0,g.jsx)(ft,{"aria-hidden":!0,icon:"arrow-right-line"})]})]}),children:"Configure AI Privacy Settings in Account Management."})}):null}var k=r(h(),1);var i=r(a(),1),Zt="low-credits-broadcast-banner",jt="no-credits-broadcast-banner",C="You have run out of credits",S="Your credits balance is low",de={[0]:{[1]:t=>({title:`${C}.`,actions:(0,i.jsx)(f,{href:`${t}/settings/plan`,isExternal:!0,shouldOmitOrg:!1,children:"Buy credits now!"})}),[0]:t=>({title:`${S}. ADMIN`,actions:(0,i.jsxs)(s,{children:[(0,i.jsx)(f,{href:`${t}/settings/plan`,isExternal:!0,shouldOmitOrg:!1,children:"Buy more now"})," ","before you run out!"]})})},[1]:{[1]:()=>({title:`${C} on your Free account.`,actions:(0,i.jsx)(s,{children:"Switch to your Organization account."})}),[0]:()=>({title:`${S} on your Free account.`,actions:(0,i.jsx)(s,{children:"Switch to your Organization account."})})},[2]:{[1]:t=>({title:`${C}.`,actions:(0,i.jsxs)(s,{children:[(0,i.jsx)(f,{href:`${t}/settings/plan`,isExternal:!0,shouldOmitOrg:!1,children:"Buy credits now"})," ","and enable"," ",(0,i.jsx)(f,{href:`${t}/settings/billing/auto-replenishment`,isExternal:!0,shouldOmitOrg:!1,children:"auto-replenish"}),"."]})}),[0]:t=>({title:`${S}.`,actions:(0,i.jsxs)(s,{children:[(0,i.jsx)(f,{href:`${t}/settings/plan`,isExternal:!0,shouldOmitOrg:!1,children:"Buy more now"})," ","and enable"," ",(0,i.jsx)(f,{href:`${t}/settings/billing/auto-replenishment`,isExternal:!0,shouldOmitOrg:!1,children:"auto-replenish"})," ","before you run out!"]})})},[3]:{[1]:()=>({title:`${C}.`,actions:(0,i.jsx)(s,{children:"Contact your Censys Sales Representative."})}),[0]:()=>({title:`${S}.`,actions:(0,i.jsx)(s,{children:"Contact your Censys Sales Representative."})})}},fe={[0]:{[1]:t=>({title:`${C}.`,actions:(0,i.jsx)(s,{children:(0,i.jsx)(f,{href:`${t}/settings/plan`,isExternal:!0,shouldOmitOrg:!1,children:"Buy credits now!"})})}),[0]:t=>({title:`${S}.`,actions:(0,i.jsxs)(s,{children:[(0,i.jsx)(f,{href:`${t}/settings/plan`,isExternal:!0,shouldOmitOrg:!1,children:"Buy more now"})," ","before you run out!"]})})},[1]:{[1]:()=>({title:`${C} on your Free account.`,actions:(0,i.jsxs)(s,{children:[(0,i.jsx)(Y,{buttonVariant:y.GHOST})," to your Organization account."]})}),[0]:()=>({title:`${S} on your Free account.`,actions:(0,i.jsxs)(s,{children:[(0,i.jsx)(Y,{buttonVariant:y.GHOST})," to your Organization account."]})})},[2]:{[1]:()=>({title:`${C}.`,actions:(0,i.jsx)(s,{children:"Contact your Admin to purchase more."})}),[0]:()=>({title:`${S}.`,actions:(0,i.jsx)(s,{children:"Contact your Admin to purchase more."})})},[3]:{[1]:()=>({title:`${C}.`,actions:(0,i.jsx)(s,{children:"Contact your Censys Sales Representative."})}),[0]:()=>({title:`${S}.`,actions:(0,i.jsx)(s,{children:"Contact your Censys Sales Representative."})})}},q={[0]:de,[1]:fe};var w=r(a(),1);function X(){let{consumptionState:t,accessState:e}=(0,k.useContext)(Ct),n=v("ACCOUNTS_SITE_URL"),[c,p]=(0,k.useState)(!0);if(!t)return null;let m=bt(e),l=1;e?.organization&&(l=P(e,1)?0:1);let E=kt(t),d,A;if(E===0){let{title:N,actions:R,message:W}=q[l][m][1](n);A=jt,d=(0,w.jsx)(I,{icon:"alert",title:N,variant:O.ERROR,actions:R,children:W})}else if($t(E,t.limit)){let{title:N,actions:R,message:W}=q[l][m][0](n);A=Zt,d=(0,w.jsx)(I,{icon:"alert",title:N,variant:O.CAUTION,onDismiss:()=>p(!1),actions:R,children:W})}return d?(0,w.jsx)(b,{testId:A,shouldShowBanner:c,children:d}):null}var T=r(a(),1);function Q(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(K,{}),(0,T.jsx)(X,{})]})}var $={layout:"_6-SEE",wrapper:"b5Uob"};var u=r(a(),1);function Z(){let t=nt(),e=wt(),n=(0,u.jsx)(z,{iconName:"file-damage",title:"Something went wrong",children:(0,u.jsxs)("div",{className:$.wrapper,children:[(0,u.jsx)(s,{children:"An unknown error has occurred"}),(0,u.jsx)(H,{role:"link","aria-label":"Attempt to refresh the page",onClick:()=>e(0),variant:y.SECONDARY,children:"Refresh"})]})});return ot(t)?n=(0,u.jsx)(z,{iconName:"pulse",title:"Something went wrong",children:(0,u.jsxs)("div",{className:$.wrapper,children:[(0,u.jsx)(s,{children:"Hang tight. We're looking into it! "}),(0,u.jsx)(H,{role:"link","aria-label":"Attempt to refresh the page",onClick:()=>e(0),variant:y.SECONDARY,children:"Refresh"})]})}):t instanceof Error&&(n=(0,u.jsx)(Ut,{error:t})),(0,u.jsx)("main",{className:$.layout,children:n})}var M=r(h(),1);var te=r(a(),1);function ge(t,e,n){switch(t){case"host":return`/hosts/${e}/pivots?jobId=${n}`;case"web":return`/web/${e}/pivots?jobId=${n}`;case"certificate":return`/certificates/${e}/pivots?jobId=${n}`;default:return null}}function j(){let{job:t,error:e}=Wt(),n=(0,M.useMemo)(()=>t?.name?xt(t.name):null,[t?.name]),c=(0,M.useMemo)(()=>t?.asset?Pt(t.asset):null,[t?.asset]),p=(0,M.useMemo)(()=>t?.asset?Gt(t.asset):"unknown",[t?.asset]);if(!t&&!e)return null;let m="LOADING",l=null;switch(t?.state){case"STATE_STARTED":m="LOADING";break;case"STATE_COMPLETED":m="SUCCESS";break;case"STATE_FAILED":case"STATE_UNRECOGNIZED":case"UNRECOGNIZED_ENUM_KEY":m="ERROR",l=[{title:"CensEye Error",description:t?.error??"CensEye encountered an unexpected error."}];break}e&&(m="ERROR",l=[{title:"CensEye Error",description:e}]);let E=c&&n?ge(p,c,n):null;return(0,te.jsx)(zt,{status:m,backgroundActions:E?[{scannedAssetHref:E}]:null,errors:l,messages:Ht,localStateKey:"app/censeye-background-actions-dialog"})}var _=r(h(),1);var D={bar:"XYok7",barShimmer:"L908J",gradientShimmer:"_26mkX",idle:"KhY80",complete:"ADlTH",submitting:"OGMei",loading:"_3n9vv",grow:"msnfb"};var tt=r(a(),1);function et({nav:t}){let e=(0,_.useRef)(null),[n,c]=(0,_.useState)(!0),p=t.state!=="idle";return(0,_.useEffect)(()=>{p&&c(!1);async function m(){e.current&&(await Promise.allSettled(e.current.getAnimations().map(({finished:l})=>l)),p||c(!0))}m()},[p]),(0,tt.jsx)("div",{ref:e,role:"progressbar","aria-label":"Page loading progress","aria-hidden":!p,"aria-valuetext":p?"Loading":void 0,className:x(D.bar,D[t.state],n&&D.complete),children:(0,tt.jsx)("div",{className:D.barShimmer,role:"presentation"})})}var U=r(h(),1),oe=r(a(),1);function ee({accessState:t,apiKey:e,nonce:n}){let c=(0,U.useMemo)(()=>({__html:`
      function bootstrapPendo(apiKey) {
        (function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
        v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
            o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
            y=e.createElement(n);y.async=!0;y.src='https://content.pendo.platform.censys.io/agent/static/'+apiKey+'/pendo.js';y.crossOrigin="true";
            z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');
      }
    `}),[]);return(0,U.useEffect)(()=>{typeof e=="string"&&window.bootstrapPendo?.(e),window&&window.pendo&&window.pendo.initialize({visitor:{id:`${t?.userId}`,email:`${t?.email}`},account:{id:`${t?.organization?.organizationId}`,name:`${t?.organization?.displayName}`,tier:`${t?.highestPlanType}`}})},[]),e?(0,oe.jsx)("script",{suppressHydrationWarning:!0,nonce:n,dangerouslySetInnerHTML:c}):null}var re={toastViewport:"_15mGY"};var Te=r(ie(),1),o=r(a(),1),Ee=()=>[...V?[{rel:"stylesheet",href:V}]:[]];function ye(){return!1}var Ce=()=>[{title:"Censys"}];function ae(){return(0,o.jsx)(it,{})}function Se({children:t}){let e=ct("root"),n=ut(),c=rt(),p=(0,F.useContext)(dt),m=e?.capabilities[10]||e?.capabilities[9],l=e?.featureFlags["th-censeye-historical"],E=e?.capabilities[13],d=e?.locale??"en",{i18n:A}=L(),N=(0,F.useMemo)(()=>A.dir(d),[A,d]);qt(d);let R=e?.accessState?.organization?.organizationId;return(0,o.jsx)(Tt,{value:e?{...e,setAppTheme:()=>{}}:yt,children:(0,o.jsxs)("html",{lang:d,dir:N,children:[(0,o.jsxs)("head",{children:[(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico",type:"image/x-icon"}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,o.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html;charset=utf-8"}),(0,o.jsx)(st,{}),(0,o.jsx)(at,{})]}),(0,o.jsx)(Nt,{children:(0,o.jsx)(_t,{value:e?.capabilities??Bt,children:(0,o.jsx)(gt,{viewportClassName:re.toastViewport,children:(0,o.jsx)(Ot,{children:(0,o.jsx)(Ft,{pollingEnabled:l&&E,children:(0,o.jsx)(Vt,{pollingEnabled:m,apiEndpoint:`${Yt}${R?`?org=${R}`:""}`,children:(0,o.jsxs)(Et,{token:e?.csrf??"",children:[(0,o.jsx)(Q,{}),(0,o.jsx)(et,{nav:c}),t,(0,o.jsx)(lt,{nonce:n}),(0,o.jsx)(pt,{nonce:n}),(0,o.jsx)(mt,{nonce:n}),(0,o.jsx)(Rt,{env:p,nonce:n}),e&&(0,o.jsx)(ee,{accessState:e.accessState,apiKey:p.PENDO_API_KEY,nonce:n}),(0,o.jsx)(Jt,{}),(0,o.jsx)(j,{})]})})})})})})})]})})}function he(){return(0,o.jsx)(Mt,{breadcrumbs:[],children:(0,o.jsx)(Lt,{children:(0,o.jsx)(Z,{})})})}export{he as ErrorBoundary,Se as Layout,ae as default,Ee as links,Ce as meta,ye as shouldRevalidate};
