import{f as u}from"/build/_shared/chunk-FH7VNUY3.js";import{c as f}from"/build/_shared/chunk-B7DSLLNE.js";import{c as P,s as L}from"/build/_shared/chunk-Q6RLBVJI.js";import{a as w,c as A}from"/build/_shared/chunk-XJAPXWKX.js";import{d as h}from"/build/_shared/chunk-2QEWK57A.js";var p="org";var o=h(w(),1);var R=h(A(),1),y={target:"_blank",rel:"noreferrer"},T=["mailto:","sms:","tel:"];function b(a,e){return[new URL(a.ACCOUNTS_SITE_URL),new URL(a.APP_SITE_URL)].some(i=>i.hostname===e.hostname)}function x({shouldPersistState:a=!0,shouldOmitOrg:e,state:i,to:t,isExternal:m,...k},S){let l=(0,o.useContext)(f),d=P(),s=u(),E=i??(a&&!m?d.state:void 0);e=e??m;let U=(0,o.useMemo)(()=>{if(s&&!e){let c,n;if(typeof t=="string"){if(T.some(_=>t.startsWith(_)))return t;let r=new URL(t,t.startsWith("http")?t:"http://localhost/");if(b(l,r))return r.searchParams.set(p,s.organizationId),r.toString();n=r.searchParams,c={hash:r.hash,pathname:r.pathname}}else c=t,n=new URLSearchParams(t.search);return n.has(p)||n.set(p,s.organizationId),{...c,search:`?${n.toString()}`}}return t},[s,l,e,t]);return(0,R.jsx)(L,{...k,...m?y:{},state:E,to:U,ref:S})}var g=(0,o.forwardRef)(x);export{p as a,g as b};
