import{a as f}from"/censys/build/_shared/chunk-7C4UGOB7.js";import{f as m}from"/censys/build/_shared/chunk-JMZ2MZXD.js";import{a as h}from"/censys/build/_shared/chunk-MOHCJWAV.js";import{e as E}from"/censys/build/_shared/chunk-2TWE7TSA.js";var e=E(h(),1);var L=()=>{let[o,r]=(0,e.useState)(""),[p,g]=(0,e.useState)(0),[n,i]=(0,e.useState)(null),[l,s]=(0,e.useState)(null),[a,C]=(0,e.useState)(!1),t=f(()=>`/api/collectionSizeEstimate?q=${encodeURIComponent(o)}`,[o,p]),c=(0,e.useCallback)(()=>{r(""),i(null),s(null)},[]),u=(0,e.useCallback)(d=>{g(z=>z+1),r(d)},[]);return(0,e.useEffect)(()=>{t.data&&(i(t.data.size),s(t.data.errorMessage||null)),t.error&&s("There was an error estimating your collection size"),C(t.state===0&&o.length>0)},[t.data,t.state,o.length]),(0,e.useMemo)(()=>({handleEstimateCollectionSize:u,fetcher:t,queryToEstimate:o,size:n,errorMessage:l,loading:a,clear:c}),[u,t,o,n,l,a,c])},M=()=>{let{collection:o}=m();return o};export{L as a,M as b};
