import{b as kn}from"/censys/build/_shared/chunk-TUDXVIEL.js";import{a as di}from"/censys/build/_shared/chunk-7C4UGOB7.js";import{a as Ci}from"/censys/build/_shared/chunk-EI6HYVQX.js";import{a as Ti}from"/censys/build/_shared/chunk-J22KWXE5.js";import{a as Ur}from"/censys/build/_shared/chunk-JDWADSGD.js";import{b as so,c as Tr}from"/censys/build/_shared/chunk-EMHGEENV.js";import{a as ii}from"/censys/build/_shared/chunk-4WX73TCZ.js";import{a as Pr}from"/censys/build/_shared/chunk-CJIEOTRC.js";import{a as Ei}from"/censys/build/_shared/chunk-5OP2ERYU.js";import{b as Ye}from"/censys/build/_shared/chunk-LOKTUJJ3.js";import{a as ui}from"/censys/build/_shared/chunk-BU2LL35M.js";import{l as fi,m as Si}from"/censys/build/_shared/chunk-IRHQADG7.js";import{c as Mr}from"/censys/build/_shared/chunk-FP2KPINM.js";import{d as ci}from"/censys/build/_shared/chunk-VKYVKQW2.js";import{b as hi,d as yi,e as De}from"/censys/build/_shared/chunk-OQUAXVLV.js";import{b as gi}from"/censys/build/_shared/chunk-RWVGPSU7.js";import{F as Ai,a as Dr,b as kr,z as Un}from"/censys/build/_shared/chunk-4DOFQKLI.js";import{a as pi}from"/censys/build/_shared/chunk-MB47ZWHU.js";import{a as rt}from"/censys/build/_shared/chunk-XTODG4BZ.js";import{a as Or}from"/censys/build/_shared/chunk-426SZY5O.js";import{a as w}from"/censys/build/_shared/chunk-TTVDHAYB.js";import{c as li,h as ko}from"/censys/build/_shared/chunk-6EMU7K4F.js";import{a as Ke}from"/censys/build/_shared/chunk-M5RKE22T.js";import{b as ne}from"/censys/build/_shared/chunk-ZP3FOFQD.js";import{a as So}from"/censys/build/_shared/chunk-E7FS2ZQL.js";import{a as Pn,c as mo,d as br,e as uo,f as Tt,h as ai,j as fo,k as si}from"/censys/build/_shared/chunk-ST66DGSY.js";import{B as mi,a as b,b as Dn,x as kt}from"/censys/build/_shared/chunk-QJVHIZ52.js";import{$ as ee,A as S,Aa as $s,B as M,Ba as Xs,Ca as Zs,F as lo,Fa as Js,G as Hs,H as Cr,J as _r,Ka as xr,Na as js,Oa as co,Pa as po,Ta as ei,Xa as de,Ya as ti,_ as Pt,_a as oi,aa as ue,ab as Do,ba as Pe,ca as z,fa as Fs,ga as Vs,ha as Qs,ia as Dt,ja as Ir,ka as vr,ma as Ys,n as hr,na as Ks,nb as ri,o as yr,oa as Lr,p as Ar,q as ot,r as io,s as Oe,sb as ni,ua as zs,w as Et,wa as Nr,x,xa as Rr,y as L,ya as Ws,z as T,za as qs}from"/censys/build/_shared/chunk-DN2SN5ZC.js";import{c as D}from"/censys/build/_shared/chunk-F5K75D4K.js";import{c as Bs}from"/censys/build/_shared/chunk-44DVAK2X.js";import{C as K,c as Us,q as Gs,t as ws}from"/censys/build/_shared/chunk-JMZ2MZXD.js";import{b as f}from"/censys/build/_shared/chunk-ZST4CTCB.js";import{a as v}from"/censys/build/_shared/chunk-MOHCJWAV.js";import{e as c}from"/censys/build/_shared/chunk-2TWE7TSA.js";var ze=c(v(),1);function yp({currentData:e,nextPageToken:t,filters:o}){let[r,n]=(0,ze.useState)([]),a=(0,ze.useRef)(null),s=(0,ze.useRef)([]),i=(0,ze.useRef)(o),p=Object.keys(o).some(m=>i.current[m]!==o[m]);return(0,ze.useEffect)(()=>{a.current===t&&!p||(p||t&&s.current.includes(t)?(n(e),s.current=[]):n(m=>[...m,...e]),a.current=t,t&&s.current.push(t),i.current=o)},[e,t,p]),(0,ze.useMemo)(()=>({data:r,hasNextPage:!!t,filterChanged:p}),[r,t,p])}var _i={mainContent:"nN6Ut"};var vi=c(f(),1);function Ii({children:e,testId:t}){return(0,vi.jsx)("div",{"data-testid":t,className:_i.mainContent,children:e})}var go=c(v(),1);function Ap(e,t,o){let r=o;if(typeof window<"u"&&window.localStorage){let n=window.localStorage.getItem(e);if(n!==null)try{let a=t.safeParse(JSON.parse(n));a.success&&(r=a.data)}catch{}}return r}function Cp(e,t){typeof window<"u"&&window.localStorage&&localStorage.setItem(e,JSON.stringify(t))}function Li(e,t,o){let[r,n]=(0,go.useState)(e),a=(0,go.useCallback)(s=>{n(i=>{let p=typeof s=="function"?s(i):s;return Cp(t,p),p})},[]);return(0,go.useEffect)(()=>{n(Ap(t,o,e))},[]),[r,a]}var wu="/api/convertQuery",Ni="query-to-convert",Ri="convert-query-fetcher";var Gn="exact-match-suggestion-item",wn='""';var Uo="Query Converter will automatically convert your Legacy Search queries into Platform queries until ",Go="2026-09-30T09:00:00.000Z",wo="https://docs.censys.com/docs/censys-platform-syntax-differences#/";var oe=c(v(),1);var F=c(v(),1);var Ut=c(v(),1);function _p({shouldShowBanner:e}){let[t,o]=(0,Ut.useState)(e),[r,n]=(0,Ut.useState)(e),a=Dn();(0,Ut.useEffect)(()=>{e?(o(!0),n(!0)):n(!1)},[e]);let s=(0,Ut.useCallback)(()=>{r?n(!1):e||setTimeout(()=>o(!1),500)},[r,e]);return{animationState:(()=>!a&&!e||a&&!e&&!t?"hidden":r?"animatingIn":!e&&t?"animatingOut":e&&!r?"visible":"hidden")(),handleAnimationEnd:s}}var xi=c(v(),1),Bn=()=>{let e=(0,xi.useRef)(!1);return{suppressOnce:()=>{e.current=!0},shouldSkip:()=>e.current?(e.current=!1,!0):!1}};var Hc=c(v(),1);var Lc=c(v(),1);var jr=c(v(),1);var Gt=c(v(),1);var nt={content:"i10Wb",popoverHeading:"DFtR8",action:"p-GaJ",actionLink:"_7yCGq",lock:"thisC"};var J=c(f(),1);function Hn({query:e,isValid:t}){let{t:o}=D(),[r,n]=(0,Gt.useState)(!1),[a,s]=(0,Gt.useState)(!1),p=!Us().pathname.startsWith("/collections"),m=Si(),g=fi({query:e,source:"search"}),A=(0,Gt.useCallback)(()=>{n(!1)},[]),E=(0,Gt.useCallback)(async()=>{try{let _=new URL(window.location.toString());_.searchParams.delete(So),await Pr(_.toString()),s(!0),n(!1)}catch{}},[]),y=(0,Gt.useCallback)(_=>{_||s(!1)},[]);return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(Ws,{children:[(0,J.jsx)($s,{asChild:!0,children:(0,J.jsx)(z,{variant:r?M.PRIMARY:M.DEFAULT,shape:Pe.ROUND,size:ue.LARGE,iconName:"list-settings",iconMode:"fill",type:"button","aria-label":o("Search Actions"),className:nt.moreActionsButton})}),(0,J.jsx)(qs,{children:(0,J.jsxs)(Xs,{align:"end",className:nt.content,children:[(0,J.jsx)(Js,{children:(0,J.jsx)(S,{variant:T.H4,as:"span",className:nt.popoverHeading,children:o("Search Actions")})}),(0,J.jsxs)(Zs,{children:[(0,J.jsxs)("div",{className:nt.action,children:[(0,J.jsx)(rt,{link:{title:t?"Create a collection based on this query":"Invalid query",to:g},button:{className:nt.actionLink,disabled:!t||!m,iconLeft:"add",onClick:A,variant:M.DEFAULT},children:o("Create a Collection")}),!m&&(0,J.jsx)(Mr,{className:nt.lock,action:"unlock"})]}),p&&(0,J.jsx)("div",{className:nt.action,children:(0,J.jsx)(ee,{className:nt.actionLink,disabled:!t,onClick:E,title:o("Copy a shareable link to your clipboard"),variant:M.DEFAULT,iconLeft:"link",iconLeftMode:"",children:o("Share link")})})]})]})})]}),a&&(0,J.jsx)(vr,{title:"Link copied",behavior:Ir.DISMISSIVE,variant:Dt.SUCCESS,onOpenChange:y,children:(0,J.jsx)(S,{children:"The link was successfully copied to your clipboard."})})]})}var bi="Search Censys data for...",Mi="Search Censys data using natural language or CenQL...",Fn="global-search-bar-input",Vn="q";var Qn={globalSearchBar:"I2r28"};var Yn="Will search across...",Kn="autocomplete-locked-suggestions-group",zn="Upgrade to a higher tier",Wn="Exact Match",Gr="example-queries-group",wr="Example Queries",Ip="host-crushftp-vuln",vp="hosts-exposed-polyfill",Lp="web-properties-google",Np="certs-lets-encrypt",qn=[{id:Ip,value:kt({kind:0,field:"host.services.cert.parsed.subject_dn",value:"OU=DEV, O=CrushFTP\\, LLC, L=Lake Tahoe, ST=NV, C=US, emailAddress=support@crushftp.com, CN=www.crushftp.com"}),label:"Hosts with CrushFTP zero-day virtual file system escape vulnerability CVE-2024-4040"},{id:vp,value:kt({kind:5,field:"host.services",content:'"cdn.bootcdn.net" or "cdn.bootcss.com" or "cdn.staticfile.net" or "cdn.staticfile.org"'}),label:"Exposed hosts referencing associated, potentially malicious Polyfill domains"},{id:Lp,value:kt({kind:0,field:"web.hostname",value:"google.com"}),label:"Find Google Web Property"},{id:Np,value:[kt({kind:0,field:"cert.parsed.issuer.organization",value:"Let's Encrypt"}),kt({kind:6,field:"cert.parsed.validity_period.not_before",value:"2024-10-29",operator:">"}),kt({kind:0,field:"cert.parsed.signature.signature_algorithm.name",value:"SHA256-RSA"})].join(" and "),label:"Find certificates from a specific issuer, within a particular validity period, matching certain cryptographic standards"}];var Jr=c(v(),1);var Bt=c(v(),1);var Oi={listBox:"KxvzQ"};var Rp='li[role="option"]';function Pi(e,t,o,r,n,a){let s=Array.from(e.currentTarget.querySelectorAll(Rp));if(s.length===0){n(void 0),o(null),a.current?.focus();return}let i=t!==null?t:s.findIndex(m=>m.id===r);switch(e.key){case"ArrowDown":i=(i+1)%s.length;break;case"ArrowUp":if(i===0){n(void 0),o(null),a.current?.focus(),e.preventDefault();return}i=(i-1+s.length)%s.length;break;case"Home":i=0;break;case"End":i=s.length-1;break;case"Tab":return;case"Escape":n(void 0),o(null),a.current?.focus(),e.preventDefault();return;default:(e.key==="ArrowRight"||e.key==="Enter"||e.key.length===1)&&i!==-1&&(s[i]?.click(),a.current?.focus(),o(null),n(void 0),e.key.length===1?a.current?.dispatchEvent(new InputEvent("input",{bubbles:!0,inputType:"insertText",data:e.key})):e.preventDefault());return}o(i),n(s[i]?.id);let p=s[i];p&&typeof window<"u"&&p.scrollIntoView({block:"center",behavior:"smooth"}),e.preventDefault()}var Di=c(f(),1);function xp({id:e,inputId:t,selectedOptionId:o,onSelectOption:r,inputRef:n,isLoading:a,children:s,className:i},p){let[m,g]=(0,Bt.useState)(null),A=(0,Bt.useCallback)(y=>{document.activeElement===y.currentTarget&&Pi(y,m,g,o,r,n)},[m,o,r,n]),E=(0,Bt.useCallback)(()=>{g(null),r(void 0)},[r]);return(0,Di.jsx)("div",{className:x(Oi.listBox,i),role:"listbox",ref:p,id:e,"aria-labelledby":t,"aria-activedescendant":o,tabIndex:0,onBlur:E,onKeyDown:A,"aria-busy":a,children:s})}var Br=(0,Bt.forwardRef)(xp);var Bo=c(v(),1);function Hr({suggestions:e,defaultSuggestions:t,inputValue:o,setInputValue:r,inputRef:n,handleCloseListBox:a}){let[s,i]=(0,Bo.useState)(void 0),m=o.length>0||!t?e:t,g=(0,Bo.useCallback)(y=>{i(y===-1?m[m.length-1]?.id:m[y]?.id)},[m]),A;if(s){let y=m.find(_=>_.id===s);y&&(A=y.replacement?ki(o,y.replacement):y.value)}let E=(0,Bo.useCallback)(y=>{if(!y){r(""),i(void 0),n.current?.focus();return}let _=m.find(N=>N.id===y);_&&(r(_.replacement?ki(o,_.replacement):_.value||o),i(void 0),n.current?.focus(),requestAnimationFrame(()=>{_.onSelect?.(),a&&_.shouldCloseListBoxOnSelect&&a()}))},[m,o,r,a]);return{activeDescendantId:s,tempInputValue:A,setActiveDescendantId:i,setInputValueById:E,selectOptionByIndex:g}}function ki(e,t){let{from:o,to:r,value:n}=t;return e.slice(0,o)+n+e.slice(r)}var Ui={list:"QPZT7"};var Gi=c(f(),1);function re({className:e,describedBy:t,children:o,...r}){return(0,Gi.jsx)("ul",{className:x(Ui.list,e),role:"group","aria-labelledby":"groupLabelId"in r?r.groupLabelId:void 0,"aria-label":"groupLabel"in r?r.groupLabel:void 0,"aria-describedby":t,children:o})}var wi={listGroupLabel:"_8um59"};var Ho=c(f(),1);function We({id:e,groupName:t,slots:o}){let{t:r}=D();return(0,Ho.jsxs)("li",{className:wi.listGroupLabel,role:"presentation",id:e,children:[(0,Ho.jsxs)("div",{children:[(0,Ho.jsx)(S,{variant:T.H5,as:"span",children:r(t)}),o?.bottom]}),o?.right]})}var Fr=c(v(),1);var Bi={listItem:"V50b2"};var Vr=c(f(),1);function ie({id:e,onSelectOption:t,isSelected:o,ariaDisabled:r,ariaBusy:n,ariaDescribedBy:a,ariaLabel:s,slots:i,children:p,className:m}){let g=(0,Fr.useRef)(null);(0,Fr.useEffect)(()=>{o&&g.current&&g.current.scrollIntoView?.({block:"nearest"})},[o]);let A=()=>{r||n||t(e)};return(0,Vr.jsxs)("li",{className:x(Bi.listItem,m),id:e,ref:g,role:"option","aria-disabled":r,"aria-busy":n,"aria-selected":o,"aria-describedby":a,"aria-label":s,onClick:A,children:[i?.left,(0,Vr.jsx)(S,{children:p}),i?.right]})}var Fo={icon:"mSe0P",backgroundPulse:"M6kTk",colorPulse:"J6pWS",loading:"_5pIaX",error:"xJBlL",loadingText:"yrZTs",shimmer:"DURLG",errorText:"XZHxU"};var Vo=c(f(),1);function Eo({id:e,onSelectOption:t,isSelected:o,itemState:r,loadingMessage:n,errorMessage:a,icon:s,children:i,...p}){let m=i;return r==="loading"?m=(0,Vo.jsx)(S,{className:Fo.loadingText,children:n}):r==="error"&&(m=(0,Vo.jsx)(S,{className:Fo.errorText,children:a})),(0,Vo.jsx)(ie,{...p,id:e,onSelectOption:t,isSelected:o,ariaDisabled:r!=="idle",ariaBusy:r==="loading",slots:{left:s&&(0,Vo.jsx)(L,{"aria-hidden":!0,icon:s.name,className:x(Fo.icon,Fo[r],s.className)})},children:m})}var Qi=c(v(),1);var Se={fieldGroup:"qcrBL",fieldGroupParent:"xQ0vJ",fieldGroupItem:"KJb4K",aliasMessage:"CEpRL",fieldGroupNested:"EGImx",aliasMessageContainer:"_8B9ZM",aliasCount:"xBUiI"};var Xn=c(f(),1);function at({id:e,onSelectOption:t,isSelected:o,optionValue:r,inputValue:n,className:a,slots:s,ariaLabel:i}){return(0,Xn.jsx)(ie,{id:e,onSelectOption:t,isSelected:o,className:x(Se.fieldGroupItem,a),slots:s,ariaLabel:i,children:(0,Xn.jsx)(ui,{value:r,searchTerm:n,highlightVariant:"bold"})})}var Qo=(g=>(g.COLON=":",g.EQUALS="=",g.REGEX="=~",g.LESS_THAN="<",g.LESS_THAN_OR_EQUAL="<=",g.GREATER_THAN=">",g.GREATER_THAN_OR_EQUAL=">=",g.AND="and",g.OR="or",g.NOT="not",g))(Qo||{});var _e=c(f(),1),Hi={[":"]:{label:"Contains",slotLeft:":"},["="]:{label:"Exact Match",slotLeft:"="},["=~"]:{label:"Regex",slotLeft:"=~"},["<"]:{label:"Less Than",slotLeft:"<"},["<="]:{label:"Less Than or Equal To",slotLeft:"<="},[">"]:{label:"Greater Than",slotLeft:">"},[">="]:{label:"Greater Than or Equal To",slotLeft:">="},["and"]:{label:"AND",slotRight:(0,_e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12",children:[(0,_e.jsx)("path",{fill:Ye.TEXT_SECONDARY,fillRule:"evenodd",d:"M9.342 9.935A5.484 5.484 0 0 0 11 6a5.484 5.484 0 0 0-1.658-3.935 4.1 4.1 0 1 1 0 7.87ZM8 10.9a5.5 5.5 0 1 1 0-9.8 5.5 5.5 0 1 1 0 9.8Zm-1.342-.965A4.104 4.104 0 0 1 1.399 6a4.1 4.1 0 0 1 5.259-3.935A5.484 5.484 0 0 0 5 6c0 1.542.635 2.937 1.658 3.935ZM8 9.251A4.094 4.094 0 0 1 6.4 6c0-1.324.626-2.501 1.6-3.251.974.75 1.6 1.927 1.6 3.251A4.094 4.094 0 0 1 8 9.251Z",clipRule:"evenodd"}),(0,_e.jsx)("path",{fill:Ye.TEXT_SECONDARY,d:"M8 1.5C5.736 3 3.5 7 8 10.5c2.264-1.5 4.5-6 0-9Z"})]})},["or"]:{label:"OR",slotRight:(0,_e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12",children:[(0,_e.jsx)("path",{fill:Ye.TEXT_SECONDARY,stroke:Ye.TEXT_SECONDARY,d:"M15.5 6c0 2.787-2.137 5-4.717 5-2.581 0-4.718-2.213-4.718-5s2.137-5 4.718-5c2.58 0 4.717 2.213 4.717 5Z"}),(0,_e.jsx)("path",{fill:Ye.TEXT_SECONDARY,stroke:Ye.TEXT_SECONDARY,d:"M9.935 6c0 2.787-2.137 5-4.718 5C2.637 11 .5 8.787.5 6s2.137-5 4.717-5c2.581 0 4.718 2.213 4.718 5Z"})]})},["not"]:{label:"NOT",slotRight:(0,_e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12",children:[(0,_e.jsx)("mask",{id:"a",fill:Ye.SURFACE_BG_CARD_1,children:(0,_e.jsx)("path",{fillRule:"evenodd",d:"M8 10.653C9.463 9.68 10.435 7.96 10.435 6c0-1.96-.972-3.679-2.435-4.653A5 5 0 0 1 10.783.5C13.664.5 16 2.962 16 6s-2.336 5.5-5.217 5.5A5 5 0 0 1 8 10.653Zm0 0a5 5 0 0 1-2.783.847C2.336 11.5 0 9.038 0 6S2.336.5 5.217.5A5 5 0 0 1 8 1.347C6.537 2.32 5.565 4.04 5.565 6c0 1.96.972 3.679 2.435 4.653Z",clipRule:"evenodd"})}),(0,_e.jsx)("path",{fill:Ye.TEXT_SECONDARY,fillRule:"evenodd",d:"M8 10.653C9.463 9.68 10.435 7.96 10.435 6c0-1.96-.972-3.679-2.435-4.653A5 5 0 0 1 10.783.5C13.664.5 16 2.962 16 6s-2.336 5.5-5.217 5.5A5 5 0 0 1 8 10.653Zm0 0a5 5 0 0 1-2.783.847C2.336 11.5 0 9.038 0 6S2.336.5 5.217.5A5 5 0 0 1 8 1.347C6.537 2.32 5.565 4.04 5.565 6c0 1.96.972 3.679 2.435 4.653Z",clipRule:"evenodd"}),(0,_e.jsx)("path",{fill:Ye.TEXT_SECONDARY,d:"M9.435 6c0 1.626-.806 3.033-1.99 3.821l1.11 1.665c1.742-1.16 2.88-3.194 2.88-5.486h-2Zm-1.99-3.821C8.63 2.967 9.436 4.374 9.436 6h2c0-2.292-1.138-4.325-2.88-5.486L7.444 2.18Zm1.11 0a4 4 0 0 1 2.228-.679v-2A6 6 0 0 0 7.446.514L8.554 2.18Zm2.228-.679C13.063 1.5 15 3.464 15 6h2c0-3.54-2.735-6.5-6.217-6.5v2ZM15 6c0 2.536-1.937 4.5-4.217 4.5v2C14.265 12.5 17 9.54 17 6h-2Zm-4.217 4.5c-.817 0-1.58-.247-2.229-.679l-1.108 1.665a6 6 0 0 0 3.337 1.014v-2Zm-3.337-.679a3.999 3.999 0 0 1-2.229.679v2a6 6 0 0 0 3.337-1.014L7.446 9.82Zm-2.229.679C2.937 10.5 1 8.536 1 6h-2c0 3.54 2.735 6.5 6.217 6.5v-2ZM1 6c0-2.536 1.937-4.5 4.217-4.5v-2C1.735-.5-1 2.46-1 6h2Zm4.217-4.5a4 4 0 0 1 2.229.679L8.554.514A6 6 0 0 0 5.217-.5v2ZM6.565 6c0-1.626.806-3.033 1.99-3.821L7.444.514C5.704 1.674 4.566 3.708 4.566 6h2Zm1.99 3.821C7.37 9.033 6.564 7.626 6.564 6h-2c0 2.292 1.138 4.325 2.88 5.486l1.11-1.665Z",mask:"url(#a)"})]})}};var Fi={operatorDisplaySlot:"o7OdN"};var Jn=c(f(),1);function Zn({id:e,operator:t,onSelectOption:o,isSelected:r}){let{t:n}=D(),a=bp(t);return a?(0,Jn.jsx)(ie,{id:e,onSelectOption:o,isSelected:r,slots:{left:a.slotLeft&&Vi(a.slotLeft),right:a.slotRight&&Vi(a.slotRight)},children:n(a.label)}):null}var Vi=e=>(0,Jn.jsx)(S,{"aria-hidden":!0,className:Fi.operatorDisplaySlot,children:e}),bp=e=>e?Hi[e]:void 0;var ke=c(f(),1);function jn({inputValue:e,onSelectOption:t,selectedOptionId:o,suggestions:r}){let{t:n}=D(),{operatorSuggestions:a,fieldSuggestions:s}=(0,Qi.useMemo)(()=>{let i=[],p=[];return r.forEach(m=>{Object.values(Qo).includes(m.value)?i.push(m):p.push(m)}),{operatorSuggestions:i,fieldSuggestions:p}},[r]);return(0,ke.jsxs)(re,{groupLabel:Yn,children:[a.map(i=>(0,ke.jsx)(Zn,{id:i.id,operator:i.value,onSelectOption:t,isSelected:o===i.id},i.id)),s.map(i=>i.relatedFields?.length?(0,ke.jsxs)("div",{className:Se.fieldGroup,role:"group","aria-labelledby":i.id,children:[(0,ke.jsx)(at,{id:i.id,optionValue:i.value,inputValue:e,onSelectOption:t,isSelected:o===i.id,className:Se.fieldGroupParent,ariaLabel:n("fieldWithAliases",{field:i.value,count:i.relatedFields.length}),slots:{right:(0,ke.jsxs)("div",{className:Se.aliasMessageContainer,children:[(0,ke.jsxs)(S,{variant:T.SMALL,className:Se.aliasMessage,"aria-hidden":!0,children:["(",n("search across all"),")"]}),(0,ke.jsx)(S,{variant:T.SMALL,className:Se.aliasCount,"aria-hidden":!0,children:n("alias",{count:i.relatedFields.length})})]})}}),i.relatedFields.map(p=>(0,ke.jsx)(at,{id:p.id,optionValue:p.value,inputValue:e,onSelectOption:t,isSelected:o===p.id,className:Se.fieldGroupNested},p.id))]},i.id):(0,ke.jsx)(at,{id:i.id,optionValue:i.value,inputValue:e,onSelectOption:t,isSelected:o===i.id},i.id))]})}var To={list:"_3JO-5",header:"yOSNd",divider:"exUYA",headerTitle:"adnfh",link:"XsUWP"};var Ie=c(f(),1);function Qr({inputValue:e,onSelectOption:t,selectedOptionId:o,suggestions:r}){let{t:n}=D(),a=ne("ACCOUNTS_SITE_URL");return(0,Ie.jsxs)(re,{className:To.list,groupLabelId:Kn,children:[(0,Ie.jsxs)("li",{className:To.header,id:Kn,role:"presentation",children:[(0,Ie.jsx)(Ke,{className:To.divider,variant:"line--horizontal",size:"100%"}),(0,Ie.jsxs)(S,{className:To.headerTitle,variant:T.SMALL,children:[(0,Ie.jsx)(w,{href:`${a}/settings/plan`,className:To.link,children:(0,Ie.jsx)(L,{icon:"lock-star-line",size:"sm"})}),zn]})]}),r.map(s=>s.relatedFields?.length?(0,Ie.jsxs)("div",{className:Se.fieldGroup,role:"group","aria-labelledby":s.id,children:[(0,Ie.jsx)(at,{id:s.id,optionValue:s.value,inputValue:e,onSelectOption:t,isSelected:o===s.id,className:Se.fieldGroupParent,slots:{right:(0,Ie.jsx)(S,{variant:T.SMALL,className:Se.aliasCount,children:n("alias",{count:s.relatedFields.length})})}}),s.relatedFields.map(i=>(0,Ie.jsx)(at,{id:i.id,optionValue:i.value,inputValue:e,onSelectOption:t,isSelected:o===i.id,className:Se.fieldGroupNested},i.id))]},s.id):(0,Ie.jsx)(at,{id:s.id,optionValue:s.value,inputValue:e,onSelectOption:t,isSelected:o===s.id},s.id))]})}var Op={["host"]:"Hosts",["web"]:"Web Properties",["cert"]:"Certificates"};var ea={icon:"F5w2p",scope:"Miq0Q"};var Yo=c(f(),1);function ta({inputValue:e,suggestions:t,selectedOptionId:o,onSelectOption:r}){let{t:n}=D();return!e||t.length===0?null:(0,Yo.jsx)(re,{groupLabel:"Query context suggestions",children:t.map(a=>(0,Yo.jsx)(ie,{id:a.id,onSelectOption:r,isSelected:a.id===o,slots:{left:(0,Yo.jsx)(L,{className:ea.icon,name:"search",mode:"line"}),right:(0,Yo.jsx)(S,{className:ea.scope,variant:T.H6,as:"span",children:a.label?n(a.label):a.value})},children:e},a.id))})}var Yi={icon:"qExpG"};var oa=c(f(),1);function ra({id:e,onSelectOption:t,isSelected:o,children:r}){return(0,oa.jsx)(ie,{id:e,onSelectOption:t,isSelected:o,slots:{left:(0,oa.jsx)(L,{"aria-hidden":!0,name:"lightbulb",mode:"line",className:Yi.icon})},children:r})}var Yr={docLink:"MElVo",linkContent:"OUQ11",linkText:"_4cwbZ"};var Ht=c(f(),1);function Ft({to:e,onClick:t,isExternal:o,children:r}){return(0,Ht.jsx)(w,{className:Yr.docLink,href:e,size:"sm",onClick:t,isExternal:o,children:(0,Ht.jsxs)("span",{className:Yr.linkContent,children:[(0,Ht.jsx)(L,{name:"booklet",mode:"line"}),(0,Ht.jsx)("span",{className:Yr.linkText,children:r}),(0,Ht.jsx)(L,{name:o?"external-link":"arrow-right",mode:"line"})]})})}var ho=c(f(),1);function na({onSelectOption:e,selectedOptionId:t,exampleQueries:o,handleCloseListBox:r}){let{t:n}=D();return(0,ho.jsxs)(re,{groupLabel:wr,groupLabelId:Gr,children:[(0,ho.jsx)(We,{id:Gr,groupName:n(wr),slots:{right:(0,ho.jsx)(Ft,{to:"/home/examples",onClick:r,children:n("See More Examples")})}}),o.map(a=>(0,ho.jsx)(ra,{id:a.id,onSelectOption:e,isSelected:a.id===t,children:a.label?n(a.label):a.value},a.id))]})}var Ki={icon:"yMIoU"};var aa=c(f(),1);function sa({id:e,onSelectOption:t,isSelected:o,children:r}){return(0,aa.jsx)(ie,{id:e,onSelectOption:t,isSelected:o,slots:{left:(0,aa.jsx)(L,{"aria-hidden":!0,name:"search",mode:"line",className:Ki.icon})},children:r})}var ia="Recent Searches",la="recent-searches-group";var Ko=c(f(),1);function ca({recentSearches:e,selectedOptionId:t,onSelectOption:o}){return e.length?(0,Ko.jsxs)(re,{groupLabel:ia,groupLabelId:la,children:[(0,Ko.jsx)(We,{id:la,groupName:ia}),e.map(r=>(0,Ko.jsx)(sa,{id:r.id,onSelectOption:o,isSelected:r.id===t,children:r.value},r.id))]}):null}var yo={listBox:"M5TMl",suggestionListsContainer:"mTBJB",loadingSpinner:"a1GwD"};var st=c(f(),1);function pa({exampleQueries:e,recentSearches:t,isLoadingRecentSearches:o,...r}){return!e?.length&&!t?.length&&!o?null:(0,st.jsxs)(st.Fragment,{children:[o?(0,st.jsx)("div",{className:yo.loadingSpinner,"aria-hidden":!0,"data-testid":"loading-spinner",children:(0,st.jsx)(_r,{size:Cr.LARGE})}):(0,st.jsx)(ca,{recentSearches:t||[],...r}),!!e?.length&&(0,st.jsx)(na,{exampleQueries:e,...r})]})}var Kr={exactMatchSuggestion:"_5lQbi",icon:"P-ILu",value:"drzAM"};var ht=c(f(),1);function ma({id:e,onSelectOption:t,isSelected:o,optionValue:r}){return(0,ht.jsx)("div",{className:Kr.exactMatchSuggestion,"data-testid":"exact-match-suggestion",children:(0,ht.jsx)(re,{groupLabel:Wn,children:(0,ht.jsx)(ie,{id:e,onSelectOption:t,isSelected:o,slots:{left:(0,ht.jsx)(L,{className:Kr.icon,"aria-hidden":!0,mode:"line",name:"search",size:"lg"})},children:(0,ht.jsxs)(S,{children:[(0,ht.jsx)("span",{className:Kr.value,children:r})," - Search for everything with value"]})})})})}var zi="Generated Query",ua="query-assistant-group",da="query-assistant-privacy-disclosure",Wi="query-assistant-generated-query-option",qi="Generating query...",$i="The Censys Query Assistant failed to generate a valid query from the input";var ji=c(v(),1);var fa={CONFIRM_BUTTON:{["censys-assistant"]:"ai-privacy-notification-confirm-button-censysassistant",["query-assistant"]:"ai-privacy-notification-confirm-button-queryassistant"},SETTINGS_BUTTON:{["censys-assistant"]:"ai-privacy-notification-settings-button-censysassistant",["query-assistant"]:"ai-privacy-notification-settings-button-queryassistant"}},Xi="app/ai-training-privacy-disclosure-acknowledged";var Zi=b.record(b.string(),b.boolean());function Vt(){let{accessState:e}=(0,ji.useContext)(mo),t=e?.organization,o=si(),r=ai("ai-privacy-disclosure"),[n,a]=Li({},Xi,Zi);if(!e||!t||!r)return{shouldShowDisclosure:!1};let s=e.userId,i=o,p=0;return Or(e,1)&&(s=`${e.userId}/${t.organizationId}`,p=1,i=t.preferences.aiOptIn&&t.preferences.aiTraining),!i||n[s]?{shouldShowDisclosure:!1}:{shouldShowDisclosure:i,userType:p,onDismiss:()=>a(m=>({...m,[s]:!0}))}}var zo={aiTrainingDisclosure:"qxPtg",contentContainer:"g871S",disclosureContent:"ZqMjy",disclosureActions:"Yualr"};var qe=c(f(),1);function Wo({feature:e}){let t=ne("ACCOUNTS_SITE_URL"),{shouldShowDisclosure:o,userType:r,onDismiss:n}=Vt();if(!o)return null;let a;switch(e){case"censys-assistant":a="chat data";break;case"query-assistant":a="query assistant data"}return(0,qe.jsx)(Rr,{className:zo.aiTrainingDisclosure,"data-testid":`privacy-disclosure-${e}`,children:(0,qe.jsxs)("div",{className:zo.contentContainer,children:[(0,qe.jsx)("div",{className:zo.disclosureContent,children:(0,qe.jsxs)(S,{children:["Censys collects anonymized ",a," to improve model accuracy. Read our"," ",(0,qe.jsx)(w,{href:"https://censys.com/privacy-policy",isExternal:!0,children:"Privacy Policy"})," ","to understand how Censys uses your data. You can opt"," ",r===1&&"your organization "," out of AI features at any time via Privacy Settings."]})}),(0,qe.jsxs)("div",{className:zo.disclosureActions,children:[(0,qe.jsx)(ee,{"data-pendoid":fa.CONFIRM_BUTTON[e],onClick:n,children:"Confirm"}),(0,qe.jsx)(w,{"data-pendoid":fa.SETTINGS_BUTTON[e],isExternal:!0,href:`${t}/settings${r===1?"/organization":""}/privacy`,children:"Privacy Settings"})]})]})})}var Ue=c(v(),1);var el="/api/assistant/feedback";var it=c(v(),1);var zr={feedbackModal:"Z3wU6",inputField:"vMYUJ",characterCount:"iNMWH"};var $e=c(f(),1),tl="feedback-comment-input",ol="feedback-character-count";function ga({onClose:e,onSubmit:t}){let[o,r]=(0,it.useState)(""),n=o.length<=250,a=(0,it.useCallback)(()=>{n&&t(o)},[o,t,n]),s=(0,it.useCallback)(m=>{let g=m.target.value;g.length<=250&&r(g)},[]),i=(0,it.useCallback)(m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),a())},[a]),p=(0,it.useCallback)(m=>{m||e()},[e]);return(0,it.useEffect)(()=>{let m=g=>{g.stopPropagation(),g.stopImmediatePropagation()};return document.addEventListener("mousedown",m,!0),()=>{document.removeEventListener("mousedown",m,!0)}},[]),(0,$e.jsx)(Lr,{open:!0,onOpenChange:p,header:(0,$e.jsx)(S,{variant:T.H2,children:"Help us improve"}),footerActions:[(0,$e.jsx)(ee,{variant:M.SECONDARY,onClick:e,"aria-label":"Cancel feedback submission",children:"Cancel"},"cancel-button"),(0,$e.jsx)(ee,{onClick:a,disabled:!n,"aria-label":"Submit feedback comment",children:"Submit Feedback"},"submit-button")],children:(0,$e.jsxs)("div",{className:zr.feedbackModal,children:[(0,$e.jsx)(Do,{label:"Additional feedback (optional)",labelFor:tl,className:zr.inputField,errorText:n?void 0:`Comment must be ${250} characters or less`,children:(0,$e.jsx)(lo,{id:tl,value:o,isFullWidth:!0,onChange:s,onKeyDown:i,placeholder:"Tell us what went wrong or how we can improve...",rows:4,"aria-describedby":ol})}),(0,$e.jsxs)(S,{id:ol,className:zr.characterCount,variant:T.SMALL,"aria-live":"polite",children:[o.length,"/",250," characters"]})]})})}var qr={feedbackContainer:"VC8Dd",successText:"ovVhr",text:"nuu8r"};var ge=c(f(),1),Dp="query-assistant-feedback-controls";function Ea({queryAssistantSuggestion:e,queryAssistantState:t,generatedQueryId:o}){let[r,n]=(0,Ue.useState)(!1),[a,s]=(0,Ue.useState)(!1),i=so(),p=K(),m=(0,Ue.useCallback)((_,N)=>{if(!o)return;let I=new FormData;I.set("csrf",i),I.set("auditLogEntryId",o.toString()),I.set("thumbsUp",_==="positive"?"true":"false"),N&&I.set("feedback",N),p.submit(I,{method:"post",action:el}),n(!0),s(!1)},[o,i]);(0,Ue.useEffect)(()=>{o&&n(!1)},[o]);let g=(0,Ue.useCallback)(()=>{m("positive")},[m]),A=(0,Ue.useCallback)(()=>{s(!0)},[]),E=(0,Ue.useCallback)(()=>{s(!1)},[]),y=(0,Ue.useCallback)(_=>{m("negative",_)},[m]);return!e||!o||t!=="idle"?null:r?(0,ge.jsxs)(S,{variant:T.SMALL,className:qr.successText,"aria-live":"polite",children:[(0,ge.jsx)(L,{icon:"checkbox-circle-line",size:"sm"}),"Thank you for your feedback!"]}):(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsxs)("div",{className:qr.feedbackContainer,"data-testid":Dp,children:[(0,ge.jsx)(S,{variant:T.SMALL,className:qr.text,children:"Was this helpful?"}),(0,ge.jsx)(Ke,{variant:"line--vertical",spacing:8}),(0,ge.jsx)(ee,{iconLeft:"thumb-up",iconLeftMode:"line",type:"button",variant:M.TERTIARY,size:Pt.SMALL,onClick:g,"aria-label":"Mark this query suggestion as helpful",children:"Yes"}),(0,ge.jsx)(Ke,{variant:"line--vertical",spacing:8}),(0,ge.jsx)(ee,{iconLeft:"thumb-down",iconLeftMode:"line",type:"button",variant:M.TERTIARY,size:Pt.SMALL,onClick:A,"aria-label":"Mark this query suggestion as not helpful and provide feedback",children:"No"})]}),a&&(0,ge.jsx)(ga,{onClose:E,onSubmit:y})]})}var rl=c(f(),1);function Ta({id:e,onSelectOption:t,isSelected:o,itemState:r,children:n}){let a=r==="loading"?"loading":r==="error"?"error":"idle";return(0,rl.jsx)(Eo,{id:e,onSelectOption:t,isSelected:o,itemState:a,loadingMessage:qi,errorMessage:$i,icon:{name:"sparkling-2-line"},children:n})}var nl={privacyDisclosure:"Tju-H"};var yt=c(f(),1);function $r({queryAssistantSuggestion:e,queryAssistantState:t,generatedQueryId:o,selectedOptionId:r,onSelectOption:n}){let{shouldShowDisclosure:a}=Vt();return!e&&t==="idle"?null:(0,yt.jsxs)(re,{groupLabelId:ua,children:[(0,yt.jsx)(We,{id:ua,groupName:zi,slots:{right:(0,yt.jsx)(Ea,{queryAssistantSuggestion:e,queryAssistantState:t,generatedQueryId:o})}}),(0,yt.jsx)(Ta,{id:e?.id||"",itemState:t,isSelected:!!e&&r===e?.id,onSelectOption:n,ariaDescribedBy:a&&t==="idle"?da:void 0,children:e?.value}),a&&t==="idle"&&(0,yt.jsx)("li",{id:da,role:"presentation",className:nl.privacyDisclosure,children:(0,yt.jsx)(Wo,{feature:"query-assistant"})})]})}var Ao=c(v(),1);var al="assistant-fetcher";function sl({prompt:e,isSyntaxInvalid:t,isLegacyQuery:o=!1}){let r=e.trim();return r?!r.includes(" ")&&/[^\x00-\x7F]/.test(r)?!0:o?!1:r.includes(" ")?t:!/[:=]|(=~)|(<=)|(>=)|[<>]/.test(r):!1}function ha(e,t,o,r){let[n,a]=(0,Ao.useState)("idle"),[s,i]=(0,Ao.useState)(void 0),m=Tt()?.organizationId,g=fo(),A=`${al}-${t}`,E=K({key:A}),y=e.trim();return(0,Ao.useEffect)(()=>{if(!g)return;let N=sl({prompt:y,isSyntaxInvalid:o,isLegacyQuery:r});if(i(void 0),!N){a("idle");return}a("loading");let I=setTimeout(()=>{E.load(`/api/assistant/generateQuery?prompt=${encodeURIComponent(y)}${m?`&org=${m}`:""}`)},2e3);return()=>{clearTimeout(I)}},[o,r,y,m,g]),(0,Ao.useEffect)(()=>{E.state==="idle"&&E.data&&typeof E.data=="object"&&("code"in E.data||"error"in E.data)?(i(void 0),a("error")):E.data&&E.state==="idle"&&(i(E.data&&"query"in E.data&&E.data.query?{id:`${Wi}-${E.data.id}`,query:`${E.data.query} `,generatedQueryId:E.data.id}:void 0),a("idle"))},[E.state,E.data]),!g||!y||y===s?.query.trim()?{queryAssistantSuggestion:void 0,queryAssistantState:void 0,generatedQueryId:void 0}:{queryAssistantSuggestion:s?{id:s.id,value:s.query,onSelect:()=>{i(void 0)},shouldCloseListBoxOnSelect:!0}:void 0,queryAssistantState:n,generatedQueryId:s?.generatedQueryId}}var il="Query Conversions",ya="legacy-query-converter-group",Aa="query-converter-option",ll="Converting query...",cl="Original query failed to convert";var pl={icon:"aauAa"};var ml=c(f(),1);function Ca({itemState:e,children:t,...o}){let r=e==="loading"?"loading":e==="error"?"error":"idle";return(0,ml.jsx)(Eo,{...o,itemState:r,loadingMessage:ll,errorMessage:cl,icon:{name:"swap-2-line",className:pl.icon},children:t})}var ul={description:"c-97V"};var Ge=c(f(),1),Up=[{id:"converted-query-special-state-option",value:null}],dl="query-converter-suggestions-description";function Zr({queryConverterState:e,convertedQueries:t=[],selectedOptionId:o,onSelectOption:r}){return t?.length===0&&e==="idle"?null:(0,Ge.jsxs)(re,{groupLabelId:ya,describedBy:dl,children:[(0,Ge.jsx)(We,{id:ya,groupName:il,slots:{right:(0,Ge.jsx)(Ft,{to:wo,isExternal:!0,children:"Learn About Platform Syntax"})}}),(e!=="idle"?Up:t).map(({id:n,value:a})=>(0,Ge.jsx)(Ca,{id:n,isSelected:o===n,onSelectOption:r,itemState:e,children:a},n)),(0,Ge.jsxs)("li",{role:"presentation",id:dl,className:ul.description,children:[(0,Ge.jsx)(L,{icon:"alert-fill",size:"xl"}),(0,Ge.jsxs)(S,{children:[Uo,(0,Ge.jsx)(S,{variant:T.DEFAULT_SEMIBOLD,children:(0,Ge.jsx)(xr,{timestamp:Go,format:"MMMM DD, YYYY"})}),"."]})]})]})}var Co=c(v(),1);function fl(e,t){let o=[];return e.converted_query&&o.push({id:Aa,value:e.converted_query,onSelect:t,shouldCloseListBoxOnSelect:!0}),e.alternative_queries&&e.alternative_queries.forEach((r,n)=>{o.push({id:`${Aa}-alt-${n}`,value:r.query,onSelect:t,shouldCloseListBoxOnSelect:!0})}),o}function _a(e,t,o){let[r,n]=(0,Co.useState)("idle"),[a,s]=(0,Co.useState)(void 0),i=`${Ri}-${t}`,p=K({key:i}),m=e.trim(),g=o&&!!m;return(0,Co.useEffect)(()=>{if(!g){n("idle"),s(void 0);return}n("loading"),s(void 0);let A=new URLSearchParams({[Ni]:m}).toString();p.load(`/api/convertQuery?${A}`)},[g,m]),(0,Co.useEffect)(()=>{if(typeof p.data=="object"&&"errorMessage"in p.data){s(void 0),n("error");return}p.state!=="idle"||!p.data||"convertedQuery"in p.data&&p.data.convertedQuery&&g&&(s(fl(p.data.convertedQuery,()=>{s(void 0)})),n("idle"))},[p.state,p.data,g]),{queryConverterSuggestions:a,queryConverterState:r}}var le=c(f(),1);function Gp({inputId:e,listBoxId:t,inputRef:o,onSelectOption:r,selectedOptionId:n,autocomplete:a,exactMatch:s,defaults:i={},contexts:p,recentSearches:m,queryAssistantSuggestion:g,queryAssistantState:A,generatedQueryId:E,queryConverterSuggestions:y,queryConverterState:_,inputValue:N,setActiveDescendantId:I,isLoading:l,isLoadingRecentSearches:d,handleCloseListBox:u},C){let{queries:h}=i,P=!!p?.length,U=y?.length||_!=="idle",[Q,V]=(0,Jr.useMemo)(()=>{let R=[],Z=[];for(let q of a)q.isLocked?Z.push(q):R.push(q);return[R,Z]},[a]),H;return N?Q.length||V.length?H=(0,le.jsxs)(le.Fragment,{children:[Q.length>0&&(0,le.jsx)(jn,{suggestions:Q,inputValue:N,selectedOptionId:n,onSelectOption:r}),V.length>0&&(0,le.jsx)(Qr,{suggestions:V,inputValue:N,selectedOptionId:n,onSelectOption:r})]}):l&&(H=(0,le.jsx)("div",{className:yo.loadingSpinner,"aria-hidden":!0,"data-testid":"loading-spinner",children:(0,le.jsx)(_r,{size:Cr.LARGE})})):H=(0,le.jsx)(pa,{exampleQueries:h,recentSearches:m,selectedOptionId:n,onSelectOption:r,handleCloseListBox:u,isLoadingRecentSearches:d}),H||s||P||A?(0,le.jsxs)(Br,{ref:C,className:yo.listBox,id:t,inputId:e,inputRef:o,selectedOptionId:n,onSelectOption:I,isLoading:l||d||A==="loading"||_==="loading",children:[P&&!!N&&(0,le.jsx)(ta,{suggestions:p,inputValue:N,selectedOptionId:n,onSelectOption:r}),!!A&&(0,le.jsx)($r,{queryAssistantState:A,selectedOptionId:n,onSelectOption:r,queryAssistantSuggestion:g,generatedQueryId:E}),!!_&&(0,le.jsx)(Zr,{queryConverterState:_,convertedQueries:y,selectedOptionId:n,onSelectOption:r}),H&&(0,le.jsx)("div",{className:yo.suggestionListsContainer,children:H}),s&&!!N&&!U&&(0,le.jsx)(ma,{id:s.id,optionValue:s.value,onSelectOption:r,isSelected:n===s.id})]}):null}var Ia=(0,Jr.forwardRef)(Gp);function Sl(e){return e?`/collections/${e}/results`:"/censys"}function gl(e){let t={};return e||(t.queries=qn),t}function El(e,t){if(!(!e||!t))return[{id:"collection-search",label:"Search within Collection",value:"",onSelect:t},{id:"global-search",label:"Search within Global Dataset",value:"",onSelect:()=>t(void 0,"/censys")}]}function Tl(e){let{t}=D();return t(e?Mi:bi)}var $o=c(f(),1);function La({q:e,placeholder:t,collectionId:o}){let r=Tt(),n=fo(),a=(0,jr.useRef)(null),s=Gs(),i=Sl(o),p=(0,jr.useCallback)((E,y)=>{E?.preventDefault();let _=new FormData(a.current);r&&_.set(So,r.organizationId),s(_,{action:y||i,method:"get"})},[r,i,a]),m=gl(o),g=El(o,p),A=Tl(n);return(0,$o.jsx)(ws,{action:i,method:"get",role:"search",ref:a,onSubmit:p,children:(0,$o.jsx)("div",{className:Qn.globalSearchBar,children:(0,$o.jsx)(va,{id:Fn,name:Vn,inputLabel:"Global Search Bar",placeholder:t||A,onEnterKeyDown:p,size:"large",variant:"rounded",defaultSuggestions:m,contextSuggestions:g,initialValue:e||((new URL(window.location.href)).searchParams.get("q") || "").trim(),rightInputSlot:(0,$o.jsx)(z,{className:Qn.searchButton,name:"Search",type:"submit",iconName:"arrow-right",iconMode:"line","aria-label":"Search",shape:Pe.ROUND,variant:M.PRIMARY}),rightContainerSlot:Hn})})})}var yl=c(v(),1);var Y={dropdownContent:"auXfc",dropdownGroup:"ckI63",captionHeading:"Nzc5M",dropdownItem:"eSGyu",dropdownItemText:"aebcD",externalLink:"IgQ-K",dropdownSeparator:"sJ355",dropdownLinkItem:"H79PL",feedbackButton:"Di-ye"};var O=c(f(),1);function Al(){let e=(0,yl.useRef)(null),{t}=D(),o=ne("COMMUNITY_SITE_URL"),r=ne("SUPPORT_SITE_URL"),n=ne("STATUS_SITE_URL"),a=s=>{(s.key==="Enter"||s.key===" ")&&e.current?.click()};return(0,O.jsxs)(hr,{children:[(0,O.jsx)(yr,{asChild:!0,children:(0,O.jsx)(z,{icon:"question-mark",size:ue.LARGE,variant:M.DEFAULT,"aria-label":t("Help")})}),(0,O.jsxs)(Ar,{align:"end",className:Y.dropdownContent,children:[(0,O.jsxs)(ot,{className:Y.dropdownGroup,children:[(0,O.jsx)(io,{children:(0,O.jsx)(S,{className:Y.captionHeading,variant:T.H4,as:"span",children:t("Help and Support")})}),(0,O.jsx)(Oe,{className:Y.dropdownItem,asChild:!0,children:(0,O.jsx)(w,{href:`${r}/docs`,className:Y.externalLink,isExternal:!0,shouldOmitOrg:!0,children:(0,O.jsxs)(S,{className:Y.dropdownItemText,children:[(0,O.jsx)(L,{name:"booklet",mode:"line",size:"lg"}),t("Product Documentation")]})})}),(0,O.jsx)(Oe,{className:Y.dropdownItem,asChild:!0,children:(0,O.jsx)(w,{href:o,className:Y.externalLink,isExternal:!0,shouldOmitOrg:!0,children:(0,O.jsxs)(S,{className:Y.dropdownItemText,children:[(0,O.jsx)(L,{name:"community",mode:"line",size:"lg"}),t("Community")]})})})]}),(0,O.jsx)(Et,{className:Y.dropdownSeparator}),(0,O.jsxs)(ot,{className:Y.dropdownGroup,children:[(0,O.jsx)(io,{children:(0,O.jsx)(S,{className:Y.captionHeading,variant:T.H4,as:"span",children:t("Release Notes and Status")})}),(0,O.jsx)(Oe,{className:Y.dropdownItem,asChild:!0,children:(0,O.jsx)(w,{href:`${r}/changelog`,className:Y.externalLink,isExternal:!0,shouldOmitOrg:!0,children:(0,O.jsxs)(S,{className:Y.dropdownItemText,children:[(0,O.jsx)(L,{name:"file-history",mode:"line",size:"lg"}),t("Release Notes")]})})}),(0,O.jsx)(Oe,{className:Y.dropdownItem,asChild:!0,children:(0,O.jsx)(w,{href:n,className:Y.externalLink,isExternal:!0,shouldOmitOrg:!0,children:(0,O.jsxs)(S,{className:Y.dropdownItemText,children:[(0,O.jsx)(L,{name:"dashboard-3",mode:"line",size:"lg"}),t("Service Status")]})})}),(0,O.jsx)(Oe,{className:Y.dropdownItem,asChild:!0,children:(0,O.jsx)(w,{href:"/certificates/logs",prefetch:"intent",children:(0,O.jsxs)(S,{className:Y.dropdownItemText,children:[(0,O.jsx)(L,{name:"award",mode:"line",size:"lg"}),t("Certificate Transparency Logs")]})})})]}),(0,O.jsx)(Et,{className:Y.dropdownSeparator}),(0,O.jsx)(ot,{className:Y.dropdownGroup,children:(0,O.jsx)(Oe,{className:Y.dropdownLinkItem,onKeyDown:a,children:(0,O.jsx)(rt,{link:{to:gi,isExternal:!0,shouldOmitOrg:!0},button:{iconLeft:"feedback",iconLeftMode:"line",variant:M.PRIMARY,size:Pt.LARGE,className:Y.feedbackButton},ref:e,children:t("Provide Feedback")})})})]})]})}var Cl={triggerTooltip:"fj0uK"};var Qt="assistant-chat-panel",ve={ACTIVE:"stream_active",COMPLETED:"completed",CANCELLED:"cancelled",ERROR:"error",INTERRUPTED:"interrupted"};var k={PANEL_TRIGGER:"topnav-assistant-button",NEW_CHAT_BUTTON:"assistant-newchat-button",CLOSE_BUTTON:"assistant-close-button",CHATS_BREADCRUMB:"assistant-chats-button",CURRENT_CHAT_BREADCRUMB:"assistant-currentchat-button",HISTORY_LATEST_CARD:"assistant-historylatest-card",HISTORY_OTHER_CARD:"assistant-historyother-card",MESSAGE_INPUT:"assistant-message-input",SEND_MESSAGE_BUTTON:"assistant-sendmessage-button",STOP_MESSAGE_STREAM_BUTTON:"assistant-stopmessagestream-button",MESSAGE_QUOTA_REACHED_CTA_BUTTON:"assistant-messagequotareached-ctabutton",FEEDBACK_THUMBS_UP_BUTTON:"assistant-chat-thumbsup-button",FEEDBACK_THUMBS_DOWN_BUTTON:"assistant-chat-thumbsdown-button",FEEDBACK_MODAL_CLOSE_BUTTON:"assistant-feedbackmodal-close-button",FEEDBACK_MODAL_REASON_TOGGLE_BUTTON:"assistant-feedbackmodal-toggle-button",FEEDBACK_MODAL_INPUT:"assistant-feedbackmodal-input",FEEDBACK_MODAL_SUBMIT_BUTTON:"assistant-feedbackmodal-submit-button",FEEDBACK_MODAL_CANCEL_BUTTON:"assistant-feedbackmodal-cancel-button",HOST_SUMMARY_CHAT_PIVOT_BUTTON:"assistant-host-summary-chat-pivot-button",WEB_SUMMARY_CHAT_PIVOT_BUTTON:"assistant-web-summary-chat-pivot-button",CERT_SUMMARY_CHAT_PIVOT_BUTTON:"assistant-cert-summary-chat-pivot-button",COPY_MESSAGE_BUTTON:"assistant-chat-copymessage-button",ENABLE_FEATURE_PERSONAL_SETTINGS_LINK:"assistant-enablefeature-personalsettings-link",ENABLE_FEATURE_ORG_SETTINGS_LINK:"assistant-enablefeature-organizationsettings-link",UNAUTHED_USER_REGISTER_LINK:"assistant-unauthorizeduser-registration-link",UNAUTHED_USER_LOGIN_LINK:"assistant-unauthorizeduser-login-link"};function _l(e){return{["aria-expanded"]:e,["aria-controls"]:e?Qt:void 0,["aria-label"]:`${e?"Close":"Open"} assistant chat panel`}}var Na=c(f(),1);function en(){let{isOpen:e,onToggle:t}=we();return(0,Na.jsx)(de,{content:"Censys Assistant",delayDuration:500,tabIndex:-1,triggerClassName:Cl.triggerTooltip,children:(0,Na.jsx)(z,{"data-pendoid":k.PANEL_TRIGGER,icon:"sparkling-2-line",size:ue.LARGE,variant:M.SECONDARY,onClick:t,..._l(e)})})}var In=c(v(),1);var Il=c(v(),1);var _o={aiDisabledView:"E-v1w",header:"_3-Tg8",text:"AlD0e",content:"zxjcT",ctas:"jon-0"};var $=c(f(),1),Hp="feature-disabled-view",Fp="personal-settings-cta",Vp="org-settings-cta",Qp="contact-admin-cta",Yp="unauth-user-cta";function Ra(){let e=(0,Il.useContext)(Bs),t=uo(),o=t?.organization,r=Or(t,1),n=t?.preferences.aiOptIn,a=o?.preferences.aiOptIn;if(a&&n)return null;let s="Let AI Accelerate your Internet Investigations",i="This conversational AI feature can be enabled in Privacy Settings.",p=["Investigate using natural language","Get immediate insights about internet assets"],m=(0,$.jsx)(rt,{dataTestId:Fp,dataPendoId:k.ENABLE_FEATURE_PERSONAL_SETTINGS_LINK,link:{to:`${e.ACCOUNTS_SITE_URL}/settings/privacy`,isExternal:!0},button:{iconRight:"external-link"},children:"Enable in Privacy Settings"});return t?o&&!a&&(r?m=(0,$.jsx)(rt,{dataTestId:Vp,dataPendoId:k.ENABLE_FEATURE_ORG_SETTINGS_LINK,link:{to:`${e.ACCOUNTS_SITE_URL}/settings/organization/privacy`,isExternal:!0},button:{iconRight:"external-link"},children:"Enable in Privacy Settings"}):m=(0,$.jsxs)(S,{"data-testid":Qp,className:_o.text,children:["Contact your"," ",(0,$.jsx)(S,{variant:T.DEFAULT_SEMIBOLD,children:"Censys Admin"})," ","to enable this feature."]})):(s="The fastest path from question to insight",i="No more spending valuable time writing queries or navigating multiple pages to analyze search results \u2014 simply ask a question in natural language, and let the assistant do the heavy lifting.",p.push("Connect disparate data points and identify patterns"),m=(0,$.jsxs)("div",{className:_o.ctas,"data-testid":Yp,children:[(0,$.jsx)(kr,{pendoId:k.UNAUTHED_USER_REGISTER_LINK}),(0,$.jsx)(Dr,{pendoId:k.UNAUTHED_USER_LOGIN_LINK})]})),(0,$.jsxs)("div",{className:_o.aiDisabledView,"data-testid":Hp,children:[(0,$.jsx)(js,{name:"sparkles-made-with-dashed-lines"}),(0,$.jsxs)("div",{className:_o.header,children:[(0,$.jsx)(S,{variant:T.H1_SUB_HEADLINE,children:"Censys Assistant"}),(0,$.jsx)(S,{variant:T.H5,as:"h2",children:s})]}),(0,$.jsxs)("div",{className:_o.content,children:[(0,$.jsx)(S,{children:i}),(0,$.jsx)("ul",{children:p.map((g,A)=>(0,$.jsxs)("li",{children:[(0,$.jsx)(L,{icon:"check-fill"}),(0,$.jsx)(S,{children:g})]},`bullet-${A}`))}),(0,$.jsxs)(S,{children:["Read our"," ",(0,$.jsx)(w,{href:"https://censys.com/privacy-policy",isExternal:!0,children:"Privacy Policy"})," ","to understand how Censys uses your"," ",!a&&r&&"organization's"," data."]})]}),m]})}var xa={["empty-state-new-chat"]:{icon:"sparkling-fill",heading:"What can I help you with?",description:"Our assistant can answer any question about Censys Internet data."},["error-fetching-messages"]:{icon:"emotion-unhappy-fill",heading:"Couldn't load the chat.",description:`We seem to have hit a snag loading the chat.
Please reload the chat panel to try again.`},["error-fetching-conversations"]:{icon:"emotion-unhappy-fill",heading:"Couldn't load chats.",description:`We seem to have hit a snag loading your chats.
Please reload the chat panel to try again.`},["empty-conversations-history"]:{icon:"sparkling-fill",heading:"Chat history empty.",description:"When you create a new chat it will appear in this list."}};var Io={specialState:"qCJNM",icon:"ZOB4I",text:"_4-jM9",heading:"crEl1",description:"tHk2-"};var At=c(f(),1);function Yt({state:e,action:t}){let o=xa[e];return(0,At.jsxs)("div",{className:Io.specialState,"data-testid":e,children:[(0,At.jsx)(L,{className:Io.icon,icon:o.icon}),(0,At.jsxs)("div",{className:Io.text,children:[(0,At.jsx)(S,{className:Io.heading,variant:T.H1_SUB_HEADLINE,as:"span",children:o.heading}),(0,At.jsx)(S,{className:Io.description,children:o.description})]}),!!t&&(0,At.jsx)(ee,{onClick:t.onClick,variant:M.TERTIARY,iconLeft:t.excludeIcon?void 0:"reset-right",iconLeftMode:"line",children:t.name})]})}var he=c(v(),1);var rn=c(v(),1);var Ll={chatMessage:"beUXA"};var tn=c(v(),1);var Nl=(e,t,o)=>{let r=(0,tn.useRef)(null);(0,tn.useEffect)(()=>{if(!e||!t.current)return;let n=a=>{switch(a.key){case"Tab":a.preventDefault(),a.stopPropagation();let s=Kp(t.current);if(s.length===0)return;let i=r.current?s.findIndex(g=>g===r.current):0,p;a.shiftKey?p=i<=0?s.length-1:i-1:p=i>=s.length-1?0:i+1;let m=s[p];m&&(Ti(m),m.focus(),r.current=m);break;case"Escape":a.preventDefault(),a.stopPropagation(),r.current=null,o();break}};return t.current.addEventListener("keydown",n),()=>t.current?.removeEventListener("keydown",n)},[e,o])},Kp=e=>{let t=[e],o=Array.from(e.querySelectorAll("a, button, table"));return o.sort((r,n)=>r.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1),t.push(...o),t};var Rl=c(f(),1);function Xo({id:e,className:t,isSelected:o,onClick:r,navigationLevel:n,exitMessageNavigation:a,children:s,...i}){let p=(0,rn.useRef)(null),m=o&&n==="message",g=(0,rn.useCallback)(()=>{o||r(e)},[r,o,e]);return Nl(m,p,a),(0,Rl.jsx)("li",{...i,ref:p,className:x(Ll.chatMessage,t),id:e,"aria-current":o,"aria-selected":m,tabIndex:n==="log"?0:-1,onClick:g,children:s})}var xl=c(v(),1);var ba=c(f(),1);function Ma({tabIndex:e,messageContent:t,addToast:o}){let r=(0,xl.useCallback)(async()=>{await Pr(t).then(()=>{o("Message copied to clipboard.",Dt.DEFAULT)})},[t,o]);return(0,ba.jsx)(de,{content:"Copy message text",tabIndex:-1,delayDuration:500,children:(0,ba.jsx)(z,{"data-pendoid":k.COPY_MESSAGE_BUTTON,tabIndex:e,shape:Pe.SQUARE,icon:"file-copy-line","aria-label":"Copy message text",onClick:r,variant:M.GHOST})})}var Zo=c(v(),1);var nn="/api/censys-assistant/feedback";var Be=c(v(),1);var lt={feedbackModal:"oAmhw",pendoCloseButton:"W8kcv",buttonGroup:"Lx9id",buttonOption:"mhT-G",labelText:"Zyzpp",hiddenCheckbox:"CiPKQ",inputField:"_5FdCF",characterCount:"tYjqF"};var te={POSITIVE:"positive",NEGATIVE:"negative"};var j=c(f(),1),Oa="feedback-comment-input",bl="feedback-character-count",Wp=[{value:"inaccurate",label:"Inaccurate"},{value:"incomplete",label:"Incomplete"},{value:"repetitive",label:"Repetitive or wordy"},{value:"misformatted",label:"Poorly formatted"}];function Pa({isOpen:e,messageId:t,conversationId:o,fetcher:r,onSubmit:n,onClose:a}){let s=(0,Be.useRef)(null),[i,p]=(0,Be.useState)(""),[m,g]=(0,Be.useState)([]),A=i.length<=250,E=(i.trim().length>0||m.length>0)&&A,y=(0,Be.useCallback)(()=>{p(""),g([]),a()},[a]),_=(0,Be.useCallback)(d=>{if(!E){d.preventDefault();return}n?.(),y()},[E,n,y]),N=(0,Be.useCallback)(d=>{let u=d.target.value;u.length<=250&&p(u)},[]),I=(0,Be.useCallback)(d=>{g(u=>u.includes(d)?u.filter(C=>C!==d):[...u,d])},[]),l=(0,Be.useCallback)(d=>{d||(s.current?.click(),y())},[y]);return(0,j.jsx)(Lr,{modal:!0,open:e,onOpenChange:l,headerBorder:Ys.NONE,footerBorder:Ks.NONE,contentProps:{onMouseDown:d=>d.stopPropagation(),onOpenAutoFocus:d=>{d.preventDefault(),document.getElementById(Oa)?.focus()}},header:(0,j.jsx)(S,{variant:T.H2,children:"Help Us Improve"}),footerActions:[(0,j.jsx)(ee,{"data-pendoid":k.FEEDBACK_MODAL_CANCEL_BUTTON,variant:M.SECONDARY,onClick:y,"aria-label":"Cancel feedback submission",children:"Cancel"},"cancel-button"),(0,j.jsx)(ee,{"data-pendoid":k.FEEDBACK_MODAL_SUBMIT_BUTTON,type:"submit",form:"feedback-modal-form",name:"feedback_type",value:te.NEGATIVE,disabled:!E,"aria-label":"Submit feedback",children:"Submit"},"submit-button")],children:(0,j.jsxs)(r.Form,{id:"feedback-modal-form",method:"post",action:nn,onSubmit:_,children:[(0,j.jsx)(Tr,{}),(0,j.jsx)("input",{type:"hidden",name:"message_id",value:t}),(0,j.jsx)("input",{type:"hidden",name:"conversation_id",value:o}),(0,j.jsxs)("div",{className:lt.feedbackModal,"data-testid":"feedback-modal-content",children:[(0,j.jsx)("button",{className:lt.pendoCloseButton,ref:s,"aria-hidden":"true",type:"button","data-pendoid":k.FEEDBACK_MODAL_CLOSE_BUTTON}),(0,j.jsx)(Do,{label:"Please tell us why this response wasn't helpful.",children:(0,j.jsx)("div",{className:lt.buttonGroup,role:"group","aria-label":"Feedback reasons",children:Wp.map(d=>{let u=m.includes(d.value);return(0,j.jsxs)("label",{className:lt.buttonOption,"data-checked":u,children:[(0,j.jsx)("input",{type:"checkbox","data-pendoid":k.FEEDBACK_MODAL_REASON_TOGGLE_BUTTON,name:"reasons",value:d.value,checked:u,onChange:()=>I(d.value),className:lt.hiddenCheckbox}),(0,j.jsx)(S,{className:lt.labelText,children:d.label})]},d.value)})})}),(0,j.jsx)(Do,{label:"Additional feedback (optional)",labelFor:Oa,className:lt.inputField,hintText:(0,j.jsxs)(S,{id:bl,className:lt.characterCount,variant:T.SMALL,"aria-live":"polite",children:[i.length,"/",250," characters"]}),errorText:A?void 0:`Comment must be ${250} characters or less`,children:(0,j.jsx)(lo,{id:Oa,"data-pendoid":k.FEEDBACK_MODAL_INPUT,name:"comment",value:i,isFullWidth:!0,onChange:N,placeholder:"Provide additional feedback to help us improve...",rows:4,"aria-describedby":bl})})]})]})})}var Ml={feedbackControlsForm:"vAmpv"};var Ee=c(f(),1);function Da({messageId:e,conversationId:t,tabIndex:o,addToast:r}){let[n,a]=(0,Zo.useState)(!1),[s,i]=(0,Zo.useState)(void 0),p=K(),m=p.state==="submitting"||p.state==="loading";(0,Zo.useEffect)(()=>{p.state==="idle"&&p.data&&(p.data.success||i(void 0))},[p.state,p.data]);function g(A){let y=A.nativeEvent.submitter?.value;if(m||y===te.POSITIVE&&s===te.POSITIVE||y===te.NEGATIVE&&s===te.NEGATIVE){A.preventDefault();return}r("Thank you for your feedback.",Dt.SUCCESS),i(y)}return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)(p.Form,{method:"post",action:nn,onSubmit:g,className:Ml.feedbackControlsForm,children:[(0,Ee.jsx)(Tr,{}),(0,Ee.jsx)("input",{type:"hidden",name:"message_id",value:e}),(0,Ee.jsx)("input",{type:"hidden",name:"conversation_id",value:t}),(0,Ee.jsx)(de,{content:s===te.POSITIVE?"Thumbs up given":"Give thumbs up",tabIndex:-1,delayDuration:500,children:(0,Ee.jsx)(z,{"data-pendoid":k.FEEDBACK_THUMBS_UP_BUTTON,type:"submit",name:"feedback_type",value:te.POSITIVE,tabIndex:o,shape:Pe.SQUARE,icon:s===te.POSITIVE?"thumb-up-fill":"thumb-up-line","aria-label":s===te.POSITIVE?"Thumbs up given":"Give thumbs up","aria-pressed":s===te.POSITIVE,"aria-disabled":m||s===te.POSITIVE,variant:M.GHOST})}),(0,Ee.jsx)(de,{content:s===te.NEGATIVE?"Leave additional feedback":"Give thumbs down",tabIndex:-1,delayDuration:500,children:(0,Ee.jsx)(z,{"data-pendoid":k.FEEDBACK_THUMBS_DOWN_BUTTON,type:"submit",name:"feedback_type",value:te.NEGATIVE,onClick:()=>{m||a(!0)},tabIndex:o,shape:Pe.SQUARE,icon:s===te.NEGATIVE?"thumb-down-fill":"thumb-down-line","aria-label":s===te.NEGATIVE?"Leave additional feedback":"Give thumbs down","aria-pressed":s===te.NEGATIVE,"aria-disabled":m||s===te.NEGATIVE,variant:M.GHOST})})]}),(0,Ee.jsx)(Pa,{isOpen:n,messageId:e,conversationId:t,fetcher:p,onSubmit:()=>r("Thank you for your feedback.",Dt.SUCCESS),onClose:()=>a(!1)})]})}var Ol={messageActions:"_54jvq"};var ct=c(v(),1),Dl=c(f(),1);function Pl(){let[e,t]=(0,ct.useState)([]),o=(0,ct.useRef)(0),r=(0,ct.useCallback)((s,i)=>{let p=`toast-${++o.current}`;t(m=>[...m,{id:p,title:s,variant:i}])},[]),n=(0,ct.useCallback)(s=>{t(i=>i.filter(p=>p.id!==s))},[]);return{toasts:(0,ct.useMemo)(()=>e.map(s=>(0,Dl.jsx)(vr,{title:s.title,behavior:Ir.DISMISSIVE,variant:s.variant,onMouseDown:i=>{i.stopPropagation()},onOpenChange:i=>{i||n(s.id)}},s.id)),[e,n]),addToast:r}}var He=c(f(),1),kl="censys-assistant-chat-ai-privacy-disclosure";function ka({isMessageActive:e,messageId:t,conversationId:o,messageContent:r,isMostRecentMessage:n}){let a=e?0:-1,{toasts:s,addToast:i}=Pl(),{shouldShowDisclosure:p}=Vt();return(0,He.jsxs)(He.Fragment,{children:[p&&n&&(0,He.jsx)("div",{id:kl,children:(0,He.jsx)(Wo,{feature:"censys-assistant"})}),(0,He.jsxs)("div",{className:Ol.messageActions,role:"toolbar","aria-label":"Message actions",children:[(0,He.jsx)("div",{role:"group","aria-label":"Feedback controls","aria-describedby":p?kl:void 0,children:(0,He.jsx)(Da,{messageId:t,conversationId:o,tabIndex:a,addToast:i})}),(0,He.jsx)(Ma,{tabIndex:a,messageContent:r,addToast:i})]}),s]})}var pn=c(v(),1);function Kt(){return Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},Kt.apply(this,arguments)}var qp=["children","options"];var Ul=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),Gl={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xA0",quot:"\u201C"},$p=["style","script","pre"],Xp=["src","href","data","formAction","srcDoc","action"],Zp=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,Jp=/mailto:/i,jp=/\n{2,}$/,wl=/^(\s*>[\s\S]*?)(?=\n\n|$)/,em=/^ *> ?/gm,tm=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,om=/^ {2,}\n/,rm=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,Bl=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,Hl=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,nm=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,am=/^(?:\n *)*\n/,sm=/\r\n?/g,im=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,lm=/^\[\^([^\]]+)]/,cm=/\f/g,pm=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,mm=/^\s*?\[(x|\s)\]/,Fl=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Vl=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Ql=/^([^\n]+)\n *(=|-){3,} *\n/,Ua=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,um=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,Yl=/^<!--[\s\S]*?(?:-->)/,dm=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,Ga=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,fm=/^\{.*\}$/,Sm=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,gm=/^<([^ >]+@[^ >]+)>/,Em=/^<([^ >]+:\/[^ >]+)>/,Tm=/-([a-z])?/gi,Kl=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,hm=/^[^\n]+(?:  \n|\n{2,})/,ym=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,Am=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Cm=/^\[([^\]]*)\] ?\[([^\]]*)\]/,_m=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Im=/\t/g,vm=/(^ *\||\| *$)/g,Lm=/^ *:-+: *$/,Nm=/^ *:-+ *$/,Rm=/^ *-+: *$/,mn="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",xm=RegExp(`^([*_])\\1${mn}\\1\\1(?!\\1)`),bm=RegExp(`^([*_])${mn}\\1(?!\\1)`),Mm=RegExp(`^(==)${mn}\\1`),Om=RegExp(`^(~~)${mn}\\1`),Pm=/^(:[a-zA-Z0-9-_]+:)/,Dm=/^\\([^0-9A-Za-z\s])/,km=/\\([^0-9A-Za-z\s])/g,Um=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,Gm=/^\n+/,wm=/^([ \t]*)/,Bm=/(?:^|\n)( *)$/,Va="(?:\\d+\\.)",Qa="(?:[*+-])";function $l(e){return"( *)("+(e===1?Va:Qa)+") +"}var Xl=$l(1),Zl=$l(2);function Jl(e){return RegExp("^"+(e===1?Xl:Zl))}var Hm=Jl(1),Fm=Jl(2);function jl(e){return RegExp("^"+(e===1?Xl:Zl)+"[^\\n]*(?:\\n(?!\\1"+(e===1?Va:Qa)+" )[^\\n]*)*(\\n|$)","gm")}var Vm=jl(1),Qm=jl(2);function ec(e){let t=e===1?Va:Qa;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}var tc=ec(1),oc=ec(2);function zl(e,t){let o=t===1,r=o?tc:oc,n=o?Vm:Qm,a=o?Hm:Fm;return{t:s=>a.test(s),o:vo(function(s,i){let p=Bm.exec(i.prevCapture);return p&&(i.list||!i.inline&&!i.simple)?r.exec(s=p[1]+s):null}),i:1,u(s,i,p){let m=o?+s[2]:void 0,g=s[0].replace(jp,`
`).match(n),A=!1;return{items:g.map(function(E,y){let _=a.exec(E)[0].length,N=RegExp("^ {1,"+_+"}","gm"),I=E.replace(N,"").replace(a,""),l=y===g.length-1,d=I.indexOf(`

`)!==-1||l&&A;A=d;let u=p.inline,C=p.list,h;p.list=!0,d?(p.inline=!1,h=jo(I)+`

`):(p.inline=!0,h=jo(I));let P=i(h,p);return p.inline=u,p.list=C,P}),ordered:o,start:m}},l:(s,i,p)=>e(s.ordered?"ol":"ul",{key:p.key,start:s.type==="20"?s.start:void 0},s.items.map(function(m,g){return e("li",{key:g},i(m,p))}))}}var Ym=RegExp(`^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),Km=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function jo(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function ln(e,t){return e.startsWith(t)}function zm(e,t,o){if(Array.isArray(o)){for(let r=0;r<o.length;r++)if(ln(e,o[r]))return!0;return!1}return o(e,t)}function Jo(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Wm(e){return Rm.test(e)?"right":Lm.test(e)?"center":Nm.test(e)?"left":null}function Wl(e,t,o,r){let n=o.inTable;o.inTable=!0;let a=[[]],s="";function i(){if(!s)return;let p=a[a.length-1];p.push.apply(p,t(s,o)),s=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((p,m,g)=>{p.trim()==="|"&&(i(),r)?m!==0&&m!==g.length-1&&a.push([]):s+=p}),i(),o.inTable=n,a}function qm(e,t,o){o.inline=!0;let r=e[2]?e[2].replace(vm,"").split("|").map(Wm):[],n=e[3]?function(s,i,p){return s.trim().split(`
`).map(function(m){return Wl(m,i,p,!0)})}(e[3],t,o):[],a=Wl(e[1],t,o,!!n.length);return o.inline=!1,n.length?{align:r,cells:n,header:a,type:"25"}:{children:a,type:"21"}}function ql(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function vo(e){return e.inline=1,e}function Ct(e){return vo(function(t,o){return o.inline?e.exec(t):null})}function _t(e){return vo(function(t,o){return o.inline||o.simple?e.exec(t):null})}function pt(e){return function(t,o){return o.inline||o.simple?null:e.exec(t)}}function sn(e){return vo(function(t){return e.exec(t)})}var $m=/(javascript|vbscript|data(?!:image)):/i;function Xm(e){try{let t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if($m.test(t))return null}catch{return null}return e}function Xe(e){return e&&e.replace(km,"$1")}function cn(e,t,o){let r=o.inline||!1,n=o.simple||!1;o.inline=!0,o.simple=!0;let a=e(t,o);return o.inline=r,o.simple=n,a}function Zm(e,t,o){let r=o.inline||!1,n=o.simple||!1;o.inline=!1,o.simple=!0;let a=e(t,o);return o.inline=r,o.simple=n,a}function Jm(e,t,o){let r=o.inline||!1;o.inline=!1;let n=e(t,o);return o.inline=r,n}var wa=(e,t,o)=>({children:cn(t,e[2],o)});function Ba(){return{}}function Ha(){return null}function jm(...e){return e.filter(Boolean).join(" ")}function Fa(e,t,o){let r=e,n=t.split(".");for(;n.length&&(r=r[n[0]],r!==void 0);)n.shift();return r||o}function eu(e="",t={}){t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?Kt({},Gl,t.namedCodesToUnicode):Gl;let o=t.slugify||Jo,r=t.sanitizer||Xm,n=t.createElement||pn.createElement,a=[wl,Bl,Hl,t.enforceAtxHeadings?Vl:Fl,Ql,Kl,tc,oc],s=[...a,hm,Ua,Yl,Ga];function i(l,d,...u){let C=Fa(t.overrides,l+".props",{});return n(function(h,P){let U=Fa(P,h);return U?typeof U=="function"||typeof U=="object"&&"render"in U?U:Fa(P,h+".component",h):h}(l,t.overrides),Kt({},d,C,{className:jm(d?.className,C.className)||void 0}),...u)}function p(l){l=l.replace(pm,"");let d=!1;t.forceInline?d=!0:t.forceBlock||(d=_m.test(l)===!1);let u=_(y(d?l:jo(l).replace(Gm,"")+`

`,{inline:d}));for(;typeof u[u.length-1]=="string"&&!u[u.length-1].trim();)u.pop();if(t.wrapper===null)return u;let C=t.wrapper||(d?"span":"div"),h;if(u.length>1||t.forceWrapper)h=u;else{if(u.length===1)return h=u[0],typeof h=="string"?i("span",{key:"outer"},h):h;h=null}return n(C,{key:"outer"},h)}function m(l,d){if(!d||!d.trim())return null;let u=d.match(Zp);return u?u.reduce(function(C,h){let P=h.indexOf("=");if(P!==-1){let U=function(R){return R.indexOf("-")!==-1&&R.match(dm)===null&&(R=R.replace(Tm,function(Z,q){return q.toUpperCase()})),R}(h.slice(0,P)).trim(),Q=function(R){let Z=R[0];return(Z==='"'||Z==="'")&&R.length>=2&&R[R.length-1]===Z?R.slice(1,-1):R}(h.slice(P+1).trim()),V=Ul[U]||U;if(V==="ref")return C;let H=C[V]=function(R,Z,q,no){return Z==="style"?function(ft){let be=[],tt="",Qe=!1,Mt=!1,ao="";if(!ft)return be;for(let Me=0;Me<ft.length;Me++){let me=ft[Me];if(me!=='"'&&me!=="'"||Qe||(Mt?me===ao&&(Mt=!1,ao=""):(Mt=!0,ao=me)),me==="("&&tt.endsWith("url")?Qe=!0:me===")"&&Qe&&(Qe=!1),me!==";"||Mt||Qe)tt+=me;else{let gt=tt.trim();if(gt){let Po=gt.indexOf(":");if(Po>0){let Sr=gt.slice(0,Po).trim(),Mn=gt.slice(Po+1).trim();be.push([Sr,Mn])}}tt=""}}let St=tt.trim();if(St){let Me=St.indexOf(":");if(Me>0){let me=St.slice(0,Me).trim(),gt=St.slice(Me+1).trim();be.push([me,gt])}}return be}(q).reduce(function(ft,[be,tt]){return ft[be.replace(/(-[a-z])/g,Qe=>Qe[1].toUpperCase())]=no(tt,R,be),ft},{}):Xp.indexOf(Z)!==-1?no(Xe(q),R,Z):(q.match(fm)&&(q=Xe(q.slice(1,q.length-1))),q==="true"||q!=="false"&&q)}(l,U,Q,r);typeof H=="string"&&(Ua.test(H)||Ga.test(H))&&(C[V]=p(H.trim()))}else h!=="style"&&(C[Ul[h]||h]=!0);return C},{}):null}let g=[],A={},E={0:{t:[">"],o:pt(wl),i:1,u(l,d,u){let[,C,h]=l[0].replace(em,"").match(tm);return{alert:C,children:d(h,u)}},l(l,d,u){let C={key:u.key};return l.alert&&(C.className="markdown-alert-"+o(l.alert.toLowerCase(),Jo),l.children.unshift({attrs:{},children:[{type:"27",text:l.alert}],noInnerParse:!0,type:"11",tag:"header"})),i("blockquote",C,d(l.children,u))}},1:{o:sn(om),i:1,u:Ba,l:(l,d,u)=>i("br",{key:u.key})},2:{t:l=>{let d=l[0];return d==="-"||d==="*"||d==="_"},o:pt(rm),i:1,u:Ba,l:(l,d,u)=>i("hr",{key:u.key})},3:{t:["    "],o:pt(Hl),i:0,u:l=>({lang:void 0,text:Xe(jo(l[0].replace(/^ {4}/gm,"")))}),l:(l,d,u)=>i("pre",{key:u.key},i("code",Kt({},l.attrs,{className:l.lang?"lang-"+l.lang:""}),l.text))},4:{t:["```","~~~"],o:pt(Bl),i:0,u:l=>({attrs:m("code",l[3]||""),lang:l[2]||void 0,text:l[4],type:"3"})},5:{t:["`"],o:_t(nm),i:3,u:l=>({text:Xe(l[2])}),l:(l,d,u)=>i("code",{key:u.key},l.text)},6:{t:["[^"],o:pt(im),i:0,u:l=>(g.push({footnote:l[2],identifier:l[1]}),{}),l:Ha},7:{t:["[^"],o:Ct(lm),i:1,u:l=>({target:"#"+o(l[1],Jo),text:l[1]}),l:(l,d,u)=>i("a",{key:u.key,href:r(l.target,"a","href")},i("sup",{key:u.key},l.text))},8:{t:["[ ]","[x]"],o:Ct(mm),i:1,u:l=>({completed:l[1].toLowerCase()==="x"}),l:(l,d,u)=>i("input",{checked:l.completed,key:u.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:pt(t.enforceAtxHeadings?Vl:Fl),i:1,u:(l,d,u)=>({children:cn(d,l[2],u),id:o(l[2],Jo),level:l[1].length}),l:(l,d,u)=>i("h"+l.level,{id:l.id,key:u.key},d(l.children,u))},10:{o:pt(Ql),i:0,u:(l,d,u)=>({children:cn(d,l[1],u),level:l[2]==="="?1:2,type:"9"})},11:{t:["<"],o:sn(Ua),i:1,u(l,d,u){let[,C]=l[3].match(wm),h=RegExp("^"+C,"gm"),P=l[3].replace(h,""),U=(Q=P,s.some(q=>q.test(Q))?Jm:cn);var Q;let V=l[1].toLowerCase(),H=$p.indexOf(V)!==-1,R=(H?V:l[1]).trim(),Z={attrs:m(R,l[2]),noInnerParse:H,tag:R};if(u.inAnchor=u.inAnchor||V==="a",H)Z.text=l[3];else{let q=u.inHTML;u.inHTML=!0,Z.children=U(d,P,u),u.inHTML=q}return u.inAnchor=!1,Z},l:(l,d,u)=>i(l.tag,Kt({key:u.key},l.attrs),l.text||(l.children?d(l.children,u):""))},13:{t:["<"],o:sn(Ga),i:1,u(l){let d=l[1].trim();return{attrs:m(d,l[2]||""),tag:d}},l:(l,d,u)=>i(l.tag,Kt({},l.attrs,{key:u.key}))},12:{t:["<!--"],o:sn(Yl),i:1,u:()=>({}),l:Ha},14:{t:["!["],o:_t(Km),i:1,u:l=>({alt:Xe(l[1]),target:Xe(l[2]),title:Xe(l[3])}),l:(l,d,u)=>i("img",{key:u.key,alt:l.alt||void 0,title:l.title||void 0,src:r(l.target,"img","src")})},15:{t:["["],o:Ct(Ym),i:3,u:(l,d,u)=>({children:Zm(d,l[1],u),target:Xe(l[2]),title:Xe(l[3])}),l:(l,d,u)=>i("a",{key:u.key,href:r(l.target,"a","href"),title:l.title},d(l.children,u))},16:{t:["<"],o:Ct(Em),i:0,u:l=>({children:[{text:l[1],type:"27"}],target:l[1],type:"15"})},17:{t:(l,d)=>!d.inAnchor&&!t.disableAutoLink&&(ln(l,"http://")||ln(l,"https://")),o:Ct(Sm),i:0,u:l=>({children:[{text:l[1],type:"27"}],target:l[1],title:void 0,type:"15"})},18:{t:["<"],o:Ct(gm),i:0,u(l){let d=l[1],u=l[1];return Jp.test(u)||(u="mailto:"+u),{children:[{text:d.replace("mailto:",""),type:"27"}],target:u,type:"15"}}},20:zl(i,1),33:zl(i,2),19:{o:pt(am),i:3,u:Ba,l:()=>`
`},21:{o:vo(function(l,d){if(d.inline||d.simple||d.inHTML&&l.indexOf(`

`)===-1&&d.prevCapture.indexOf(`

`)===-1)return null;let u="";l.split(`
`).every(h=>(h+=`
`,!a.some(P=>P.test(h))&&(u+=h,!!h.trim())));let C=jo(u);return C===""?null:[u,,C]}),i:3,u:wa,l:(l,d,u)=>i("p",{key:u.key},d(l.children,u))},22:{t:["["],o:Ct(ym),i:0,u:l=>(A[l[1]]={target:l[2],title:l[4]},{}),l:Ha},23:{t:["!["],o:_t(Am),i:0,u:l=>({alt:l[1]?Xe(l[1]):void 0,ref:l[2]}),l:(l,d,u)=>A[l.ref]?i("img",{key:u.key,alt:l.alt,src:r(A[l.ref].target,"img","src"),title:A[l.ref].title}):null},24:{t:l=>l[0]==="["&&l.indexOf("](")===-1,o:Ct(Cm),i:0,u:(l,d,u)=>({children:d(l[1],u),fallbackChildren:l[0],ref:l[2]}),l:(l,d,u)=>A[l.ref]?i("a",{key:u.key,href:r(A[l.ref].target,"a","href"),title:A[l.ref].title},d(l.children,u)):i("span",{key:u.key},l.fallbackChildren)},25:{t:["|"],o:pt(Kl),i:1,u:qm,l(l,d,u){let C=l;return i("table",{key:u.key},i("thead",null,i("tr",null,C.header.map(function(h,P){return i("th",{key:P,style:ql(C,P)},d(h,u))}))),i("tbody",null,C.cells.map(function(h,P){return i("tr",{key:P},h.map(function(U,Q){return i("td",{key:Q,style:ql(C,Q)},d(U,u))}))})))}},27:{o:vo(function(l,d){let u;return ln(l,":")&&(u=Pm.exec(l)),u||Um.exec(l)}),i:4,u(l){let d=l[0];return{text:d.indexOf("&")===-1?d:d.replace(um,(u,C)=>t.namedCodesToUnicode[C]||u)}},l:l=>l.text},28:{t:["**","__"],o:_t(xm),i:2,u:(l,d,u)=>({children:d(l[2],u)}),l:(l,d,u)=>i("strong",{key:u.key},d(l.children,u))},29:{t:l=>{let d=l[0];return(d==="*"||d==="_")&&l[1]!==d},o:_t(bm),i:3,u:(l,d,u)=>({children:d(l[2],u)}),l:(l,d,u)=>i("em",{key:u.key},d(l.children,u))},30:{t:["\\"],o:_t(Dm),i:1,u:l=>({text:l[1],type:"27"})},31:{t:["=="],o:_t(Mm),i:3,u:wa,l:(l,d,u)=>i("mark",{key:u.key},d(l.children,u))},32:{t:["~~"],o:_t(Om),i:3,u:wa,l:(l,d,u)=>i("del",{key:u.key},d(l.children,u))}};t.disableParsingRawHTML===!0&&(delete E[11],delete E[13]);let y=function(l){var d=Object.keys(l);function u(C,h){var P=[];if(h.prevCapture=h.prevCapture||"",C.trim())for(;C;)for(var U=0;U<d.length;){var Q=d[U],V=l[Q];if(!V.t||zm(C,h,V.t)){var H=V.o(C,h);if(H&&H[0]){C=C.substring(H[0].length);var R=V.u(H,u,h);h.prevCapture+=H[0],R.type||(R.type=Q),P.push(R);break}U++}else U++}return h.prevCapture="",P}return d.sort(function(C,h){return l[C].i-l[h].i||(C<h?-1:1)}),function(C,h){return u(function(P){return P.replace(sm,`
`).replace(cm,"").replace(Im,"    ")}(C),h)}}(E),_=(N=function(l,d){return function(u,C,h){let P=l[u.type].l;return d?d(()=>P(u,C,h),u,C,h):P(u,C,h)}}(E,t.renderRule),function l(d,u={}){if(Array.isArray(d)){let C=u.key,h=[],P=!1;for(let U=0;U<d.length;U++){u.key=U;let Q=l(d[U],u),V=typeof Q=="string";V&&P?h[h.length-1]+=Q:Q!==null&&h.push(Q),P=V}return u.key=C,h}return N(d,l,u)});var N;let I=p(e);return g.length?i("div",null,I,i("footer",{key:"footer"},g.map(function(l){return i("div",{id:o(l.identifier,Jo),key:l.identifier},l.identifier,_(y(l.footnote,{inline:!0})))}))):I}var rc=e=>{let{children:t="",options:o}=e,r=function(n,a){if(n==null)return{};var s,i,p={},m=Object.keys(n);for(i=0;i<m.length;i++)a.indexOf(s=m[i])>=0||(p[s]=n[s]);return p}(e,qp);return pn.cloneElement(eu(t,o),r)};var It={assistantMarkdown:"ZQLFN",heading:"bacdp"};var vt=c(f(),1),Ze=(e={})=>({component:S,props:e}),tu={h1:Ze({variant:T.H1,as:"span",className:It.heading}),h2:Ze({variant:T.H2,as:"span",className:It.heading}),h3:Ze({variant:T.H3,as:"span",className:It.heading}),h4:Ze({variant:T.H4,as:"span",className:It.heading}),h5:Ze({variant:T.H5,as:"span",className:It.heading}),h6:Ze({variant:T.H6,as:"span",className:It.heading}),ul:{component:e=>(0,vt.jsx)("ul",{...e})},ol:{component:e=>(0,vt.jsx)("ol",{...e})},li:{component:({children:e,...t})=>(0,vt.jsx)("li",{...t,children:(0,vt.jsx)(S,{children:e})})},table:{component:({children:e,...t})=>(0,vt.jsx)("table",{...t,tabIndex:-1,children:e})},a:{component:({children:e,href:t})=>(0,vt.jsx)(w,{tabIndex:-1,href:t,isExternal:!0,breakWord:!0,shouldOmitOrg:!t?.includes("https://platform.censys.io/"),children:e})},strong:Ze({variant:T.DEFAULT_SEMIBOLD}),em:{component:({children:e})=>`_${e}_`},p:Ze(),code:Ze({variant:T.DEFAULT_SOURCE}),pre:Ze({variant:T.SMALL_SOURCE})};function Ya({content:e}){return(0,vt.jsx)(rc,{options:{overrides:tu},className:It.assistantMarkdown,children:e})}var mt={assistantMessage:"I6Ms1",shimmer:"BfUPH",bounce:"k3dQe",blink:"SxGip",loadingText:"nQ-3H",ellipsis:"_-0R1d",requestTime:"Q82Ae",cursor:"YXOQ0",streamStateText:"_79RTB",errorText:"RrzJ0"};function nc(e){if(!e?.start||!e?.end)return;let t=Temporal.Now.instant(),o=ko(e.start)||t,r=ko(e.end)||t,n=Math.ceil(Number(r.epochMilliseconds-o.epochMilliseconds)/1e3);return n<=0?0:n}var ae=c(f(),1);function er({message:e,conversationId:t,isMostRecentMessage:o,...r}){let n=e.streamStatus===ve.ACTIVE,a;if(e.sender==="assistant"){if(n)a=(0,ae.jsxs)(S,{className:mt.loadingText,"data-testid":"assistant-streaming-loading-text",variant:T.SMALL,children:["Thinking",(0,ae.jsxs)("div",{className:mt.ellipsis,"aria-hidden":!0,children:[(0,ae.jsx)("div",{}),(0,ae.jsx)("div",{}),(0,ae.jsx)("div",{})]})]});else if(e.streamStatus===ve.COMPLETED){let i=nc(e.streamTime);i&&(a=(0,ae.jsxs)(S,{variant:T.SMALL,className:mt.requestTime,"data-testid":"assistant-stream-duration",children:["Thought for ",i," seconds"]}))}}let s=r.isSelected&&r.navigationLevel==="message";return(0,ae.jsxs)(Xo,{...r,className:mt.assistantMessage,id:e.id,role:n?"status":void 0,"aria-live":n?"polite":void 0,children:[a,(0,ae.jsxs)("div",{children:[!!e.content&&(0,ae.jsx)(Ya,{content:e.content}),n&&(0,ae.jsx)("span",{className:mt.cursor,"aria-hidden":!0,"data-testid":"assistant-stream-cursor",children:"|"}),(e.streamStatus===ve.ERROR||e.streamStatus===ve.CANCELLED)&&(0,ae.jsxs)(S,{variant:T.SMALL,className:x(mt.streamStateText,mt.errorText),"data-testid":"assistant-stream-error-text",children:[(0,ae.jsx)(L,{icon:"error-warning-line"}),(0,ae.jsx)("span",{children:"Censys Assistant failed to generate a response."})]}),e.streamStatus===ve.INTERRUPTED&&(0,ae.jsx)(S,{variant:T.SMALL,className:mt.streamStateText,"data-testid":"assistant-stream-interrupted-text",children:"The response was stopped."})]}),e.streamStatus===ve.COMPLETED&&(0,ae.jsx)(ka,{isMessageActive:s,messageId:e.id,conversationId:t,messageContent:e.content,isMostRecentMessage:o})]})}var Ka={userMessage:"_1cCHi",textContainer:"HKqtT"};var tr=c(f(),1);function dn({message:e,userName:t,...o}){return(0,tr.jsxs)(Xo,{...o,className:Ka.userMessage,id:e.id,children:[(0,tr.jsx)(S,{className:Ka.textContainer,"data-testid":"user-message-content",children:e.content}),(0,tr.jsx)(po,{label:t||"",size:co.SMALL})]})}var zt={messagesSkeleton:"r9NvH",message:"_7lavU",assistant:"CZnFG",user:"zUCeo",card:"a6KXv"};var Te=c(f(),1);function za(){return(0,Te.jsx)("ul",{className:zt.messagesSkeleton,children:["assistant","user","assistant","user"].map((e,t)=>(0,Te.jsxs)("li",{children:[e==="assistant"&&(0,Te.jsxs)("div",{className:x(zt.message,zt.assistant),"aria-hidden":!0,children:[(0,Te.jsx)(De,{variant:T.SMALL,color:"secondary",width:132}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)(De,{}),(0,Te.jsx)(De,{width:200})]})]}),e==="user"&&(0,Te.jsxs)("div",{className:x(zt.message,zt.user),"aria-hidden":!0,children:[(0,Te.jsxs)("div",{className:zt.card,children:[(0,Te.jsx)(De,{color:"secondary"}),(0,Te.jsx)(De,{color:"secondary",width:200})]}),(0,Te.jsx)(yi,{size:36,shape:"round"})]})]},`${e}-${t}`))})}var Wa={chatLog:"gainx",panelNavigation:"qhGKq"};function ac({event:e,messages:t,streamingMessage:o,activeDescendantId:r,setActiveDescendantId:n,navigationLevel:a,setNavigationLevel:s}){let i=o?[...t,o]:t;if(!(i.length===0||a==="message")){if(e.key==="Home"){e.preventDefault(),fn("first",i,r,n),a==="panel"&&s("log");return}if(e.key==="End"){e.preventDefault(),fn("last",i,r,n),a==="panel"&&s("log");return}if(a==="panel"){e.key==="Enter"&&(e.preventDefault(),fn("last",i,r,n),s("log"));return}else switch(e.key){case"Tab":e.preventDefault(),fn(e.shiftKey?"previous":"next",i,r,n);break;case"Escape":e.preventDefault(),n(void 0),s("panel");break;case"Enter":e.preventDefault(),s("message"),typeof window<"u"&&r&&document.getElementById(r)?.focus();break}}}function fn(e,t,o,r){if(t.length===0)return;let n;switch(e){case"first":n=0;break;case"last":n=t.length-1;break;case"next":{let a=o?t.findIndex(s=>s.id===o):-1;n=a>=t.length-1?0:a+1;break}case"previous":{let a=o?t.findIndex(s=>s.id===o):-1;n=a<=0?t.length-1:a-1;break}}t[n]&&(r(t[n].id),typeof window<"u"&&document.getElementById(t[n].id)?.scrollIntoView({behavior:"smooth"}))}var Lt=c(f(),1);function qa({messages:e,messageStreamState:t,conversationId:o,isStreaming:r,isFetching:n}){let[a,s]=(0,he.useState)(void 0),[i,p]=(0,he.useState)("panel"),m=(0,he.useRef)(null),{accessState:g}=(0,he.useContext)(mo),A=Ei("(prefers-reduced-motion: reduce)"),E=t.isActive&&t.conversationId===o?t.message:void 0,y=(0,he.useCallback)(l=>{ac({event:l,messages:e,streamingMessage:E,activeDescendantId:a,setActiveDescendantId:s,navigationLevel:i,setNavigationLevel:p})},[e,E,a,i,p]),_=(0,he.useCallback)(l=>{s(l),p("log")},[s,p]),N=(0,he.useCallback)(()=>{p("log"),m.current?.focus(),typeof window<"u"&&a&&document.getElementById(a)?.scrollIntoView({behavior:A?"auto":"smooth"})},[p,m,a,A]);(0,he.useEffect)(()=>{let l=d=>{!!m.current?.contains(d.target)||(s(void 0),p("panel"))};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),(0,he.useEffect)(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[n]);let I={exitMessageNavigation:N,onClick:_,navigationLevel:i};return(0,Lt.jsx)("div",{ref:m,className:x(Wa.chatLog,i==="panel"&&Wa.panelNavigation),"aria-busy":r||n,role:"log","aria-live":"polite","aria-atomic":!1,"aria-label":"Conversation history","data-testid":"chat-messages-list","aria-activedescendant":a,tabIndex:0,onKeyDown:y,children:n?(0,Lt.jsx)(za,{}):(0,Lt.jsxs)("ul",{"aria-label":"Chat messages in chronological order",children:[e.map((l,d)=>l.sender==="user"?(0,Lt.jsx)(dn,{message:l,isSelected:l.id===a,userName:g?.firstName,...I},l.id):(0,Lt.jsx)(er,{message:l,isSelected:l.id===a,conversationId:o,isMostRecentMessage:d===e.length-1&&!E,...I},l.id)),E&&(0,Lt.jsx)(er,{message:E,isSelected:E.id===a,conversationId:o,...I})]})})}var ut=c(v(),1);var sc="/api/censys-assistant/chat";var ic={["assistant-messages"]:{limit:25,windowSeconds:86400}};var Sn=c(v(),1);var lc="/api/censys-assistant/chat/messages/interrupt";var $a=c(f(),1);function Xa({messageId:e,cancelCurrentStream:t,dispatch:o}){let r=so(),n=K(),a=Ne(),s=n.state==="submitting"||n.state==="loading",i=(0,Sn.useCallback)(()=>{if(!e)return;let p=new FormData;p.append("csrf",r),n.submit(p,{method:"post",action:a(`${lc}/${e}`)})},[e,r,n,a]);return(0,Sn.useEffect)(()=>{n.state==="idle"&&n.data&&n.data.success&&(t(),o({type:"message-stream/interrupt"}))},[n.data,n.state,o,t]),(0,$a.jsx)(de,{content:"Stop",delayDuration:500,tabIndex:-1,children:(0,$a.jsx)(z,{"data-pendoid":k.STOP_MESSAGE_STREAM_BUTTON,type:"button",icon:"stop-fill","aria-label":"Stop generating response",size:ue.LARGE,variant:M.DEFAULT,onClick:i,isLoading:s,disabled:s})})}var Lo={messageInput:"CPB2c",error:"IVgGG",inputContainer:"EBcfV",messageButton:"Kjvjz",disclaimer:"vXCGO"};var ce=c(f(),1),cc="ai-assistant-chat-panel-disclaimer";function Za({dispatch:e,initialPrompt:t,conversationId:o,messageStream:r,onSubmitMessage:n,cancelCurrentStream:a,messageQuota:s}){let[i,p]=(0,ut.useState)(""),m=so(),g=s&&s.limit===s.used,E=!(r.isActive||g)&&!!i.trim(),y=r.isActive&&r.conversationId===o,_=(0,ut.useCallback)(u=>{y||p(u.target.value)},[y]),N=(0,ut.useCallback)(u=>{if(u.preventDefault(),E){let C=new FormData(u.currentTarget);C.append("csrf",m);let h=Wt(o)?null:o;n(C,h,r.isActive)}},[E,n,m,o,r.isActive]),I=(0,ut.useCallback)(u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),u.currentTarget.form?.requestSubmit())},[]);(0,ut.useEffect)(()=>{p(t||"")},[t]);let l=(0,ce.jsx)(z,{"data-pendoid":k.SEND_MESSAGE_BUTTON,type:"submit",icon:"arrow-up-line","aria-label":"Send message",size:ue.LARGE,isLoading:r.isActive&&o===r.conversationId&&!!i,disabled:!E}),d=l;return g?d=(0,ce.jsx)(de,{content:"Free chat limit reached",delayDuration:500,tabIndex:-1,children:l}):r.isActive&&(y&&r.message?d=(0,ce.jsx)(Xa,{messageId:r.message.id,cancelCurrentStream:a,dispatch:e}):d=(0,ce.jsx)(de,{content:"Thinking in another chat...",delayDuration:500,tabIndex:-1,children:l})),(0,ut.useEffect)(()=>{r.message&&y&&p("")},[r,y]),(0,ce.jsxs)("div",{className:Lo.messageInput,children:[g&&(0,ce.jsxs)(kn,{variant:"info",role:"status","aria-atomic":"true","aria-live":"polite",icon:"information-line",children:["As a free user, you are limited to"," ",(0,ce.jsxs)(S,{variant:T.DEFAULT_SEMIBOLD,children:[ic["assistant-messages"].limit," ","messages"]})," ","per day.",(0,ce.jsx)(Ai,{pendoId:k.MESSAGE_QUOTA_REACHED_CTA_BUTTON})]}),r.error&&!g&&r.conversationId===o&&(0,ce.jsx)(kn,{className:Lo.error,variant:"error","aria-atomic":"true","aria-live":"assertive",role:"alert",icon:"error-warning-line",handleClose:()=>e({type:"message-stream/reset"}),children:"Couldn't send message. Please try again."}),(0,ce.jsxs)("form",{className:Lo.inputContainer,onSubmit:N,"aria-label":"Send message form",children:[(0,ce.jsx)("input",{type:"hidden",name:"source",value:"primary"}),(0,ce.jsx)(lo,{"data-pendoid":k.MESSAGE_INPUT,value:i,name:"prompt",onChange:_,onKeyDown:I,placeholder:"Ask a question...",rows:3,disabled:y,isFullWidth:!0,"aria-describedby":cc,"aria-label":"Message input"}),(0,ce.jsx)("div",{className:Lo.messageButton,children:d})]}),(0,ce.jsx)(S,{id:cc,className:Lo.disclaimer,variant:T.SMALL,children:"AI responses are not guaranteed to be accurate. Please verify all responses."})]})}var mc={conversationView:"_4w2M-",errorText:"_4aAY4"};var qt=c(f(),1);function Ja({dispatch:e,initialPrompt:t,messages:o,messageStreamState:r,fetchMessagesState:n,conversationId:a,onSubmitMessage:s,cancelCurrentStream:i,messageQuota:p}){let m;return n.error?m=(0,qt.jsx)(Yt,{state:"error-fetching-messages",action:{onClick:()=>e({type:"fetch-messages/retry"}),name:"Reload chat"}}):!o.length&&!n.isLoading&&!n.shouldFetch?m=(0,qt.jsx)(Yt,{state:"empty-state-new-chat"}):m=(0,qt.jsx)(qa,{messages:o,messageStreamState:r,conversationId:a,isFetching:n.isLoading,isStreaming:r.isActive}),(0,qt.jsxs)("section",{className:mc.conversationView,"aria-label":"Current chat",children:[m,(0,qt.jsx)(Za,{dispatch:e,initialPrompt:t,messageStream:r,conversationId:a,onSubmitMessage:s,cancelCurrentStream:i,messageQuota:p})]})}var or="new-conversation",$t={id:or,name:"New Chat",summary:"",lastUpdated:Temporal.Now.instant().toString()};var gn=c(v(),1);function ja(e,t){let[o,r]=(0,gn.useState)(0);return(0,gn.useEffect)(()=>{e.current&&t&&r(e.current.getBoundingClientRect().top)},[t]),{offsetHeightStyle:o?{height:`calc(100dvh - ${o}px)`}:void 0}}var es=c(v(),1);var uc="/api/censys-assistant/getMessages";function ts(e,t,o){let r=K(),n=Ne();(0,es.useEffect)(()=>{r.data?.messages?e({type:"fetch-messages/success",payload:r.data.messages}):(r.data?.error||r.data!==void 0)&&e({type:"fetch-messages/error",payload:"Message history failed to load."})},[r.data,e]),(0,es.useEffect)(()=>{t&&o!==or&&(e({type:"fetch-messages/start"}),r.load(n(`${uc}/${o}`)))},[t,o,n,e])}var os=c(v(),1);var En="/api/censys-assistant/getConversations";function rs(e,t){let o=K(),r=Ne();(0,os.useEffect)(()=>{o.data?.conversations?e({type:"fetch-conversations/success",payload:o.data?.conversations}):(o.data?.error||o.data!==void 0)&&e({type:"fetch-conversations/error",payload:"Conversation history failed to load."})},[o.data,e]),(0,os.useEffect)(()=>{t&&(e({type:"fetch-conversations/start"}),o.load(r(En)))},[t,r,e])}var No=c(v(),1);var au=b.object({type:b.literal("message_start"),message_id:b.string(),conversation_id:b.string(),timestamp:b.string()}),su=b.object({type:b.literal("message_stop"),message_id:b.string(),stop_reason:b.string(),timestamp:b.string()}),iu=b.object({type:b.literal("tool_call_start")}),lu=b.object({type:b.literal("content_block_delta"),block_id:b.string(),delta:b.string(),timestamp:b.string()}),cu=b.object({type:b.literal("chat_title_generation"),title:b.string()}),pu=b.object({type:b.literal("error"),timestamp:b.string()}),mu=b.object({type:b.literal("stream_error"),message:b.string()}),uu=b.object({type:b.literal("stream_disconnected"),timestamp:b.string()}),du=b.looseObject({type:b.string()}),fu=b.union([au,su,iu,lu,cu,pu,mu,uu,du]);function dc(e){let t=JSON.parse(e);return fu.parse(t)}async function fc(e,t,o){for(;!o?.aborted;){let{done:r,value:n}=await e.read();if(r)break;let s=new TextDecoder().decode(n).split(`
`);for(let i of s)if(i.startsWith("data: "))try{let p=i.slice(6),m=dc(p),g=t[m.type];g&&g(m)}catch(p){console.error("Failed to parse event:",p)}}}function Su(e,t,o){return{message_start:r=>{e({type:"message-stream/start",payload:{...r,prompt:t}}),o({conversationId:r.conversation_id})},tool_call_start:()=>{e({type:"message-stream/tool-call-start"})},content_block_delta:r=>{e({type:"message-stream/content-block",payload:r})},message_stop:r=>{e({type:"message-stream/stop",payload:r}),o({completedAt:r.timestamp})},chat_title_generation:r=>{e({type:"message-stream/title-generation",payload:r}),o({conversationTitle:r.title})},error:r=>{e({type:"message-stream/chat-error",payload:r})},stream_error:()=>{e({type:"message-stream/error"})},stream_disconnected:r=>{e({type:"message-stream/chat-error",payload:r})}}}function rr(e){let t=Ne(),o=(0,No.useRef)(null),r=(0,No.useRef)(null),n=(0,No.useCallback)(async(s,i,p)=>{let g=s.get("prompt")?.trim();if(!g||p)return;let A=new AbortController;o.current=A,e({type:"message-stream/initiate"});try{s.set("prompt",g),i&&s.append("conversationId",i);let E=await fetch(t(sc),{method:"POST",body:s});if(!E.ok){e({type:"message-stream/error"}),console.error(`Chat request failed: ${E.status}`);return}let y=E.body?.getReader();if(!y){e({type:"message-stream/error"}),console.error(`Chat request failed: ${E.status} - no response body`);return}let _=Su(e,g,N=>{r.current=r.current?{...r.current,...N}:N});if(await fc(y,_,A.signal),r.current)return Promise.resolve(r.current)}catch(E){console.error(`Chat request failed with unknown error: ${E}`),e({type:"message-stream/error"})}finally{o.current===A&&(o.current=null),r.current=null}},[t,e]),a=(0,No.useCallback)(()=>{o.current?.abort()},[]);return{handleSubmitMessage:n,cancelCurrentStream:a}}var ns=c(v(),1);function as(e){let{isAssistantEnabled:t}=we(),o=K(),r=Ne();(0,ns.useEffect)(()=>{t&&o.state==="idle"&&!o.data&&o.load(r(En,{params:{limit:"1"}}))},[t,r]),(0,ns.useEffect)(()=>{o.data?.error?e({type:"ui/has-conversation-history",payload:!0}):o.data&&e({type:"ui/has-conversation-history",payload:!!o.data.conversations&&o.data.conversations.length>0})},[o.data,e])}var Tn=c(v(),1);var Ro={conversationItem:"-Z5PH",conversationCard:"kSpZ8",header:"vqdsw",timestamp:"B8OaE",summary:"FIJ-N"};var dt=c(f(),1);function ss({conversation:e,onSelectConversation:t,isMostRecentConversation:o,isCurrentConversation:r}){let n=(0,Tn.useMemo)(()=>{let s=Temporal.Now.instant(),i=ko(e.lastUpdated)||s;return Ci(i,s)},[e.lastUpdated]),a=(0,Tn.useCallback)(()=>t(e),[t,e]);return(0,dt.jsx)("li",{className:Ro.conversationItem,children:(0,dt.jsx)("button",{onClick:a,"data-pendoid":o?k.HISTORY_LATEST_CARD:k.HISTORY_OTHER_CARD,children:(0,dt.jsxs)(Rr,{className:Ro.conversationCard,variant:zs.INTERACTIVE,bodyPadding:Nr.NONE,"aria-selected":r,children:[(0,dt.jsxs)("div",{className:Ro.header,children:[(0,dt.jsx)(S,{children:e.name}),(0,dt.jsx)(S,{className:Ro.timestamp,variant:T.SMALL,children:n})]}),!!e.summary&&(0,dt.jsx)(S,{className:Ro.summary,variant:T.SMALL,children:e.summary})]})})})}var Sc=c(v(),1);var hn={historyItem:"xO3G1",header:"tcCj5",text:"f4fFU"};var Fe=c(f(),1);function is(){return(0,Fe.jsx)(Sc.Fragment,{children:Array.from({length:3}).map((e,t)=>(0,Fe.jsx)("li",{className:hn.historyItem,"aria-hidden":!0,children:(0,Fe.jsxs)(hi,{bodyPadding:Nr.NONE,children:[(0,Fe.jsxs)("div",{className:hn.header,children:[(0,Fe.jsx)(De,{color:"heading"}),(0,Fe.jsx)(De,{color:"secondary",variant:T.SMALL,width:100})]}),(0,Fe.jsxs)("div",{className:hn.text,children:[(0,Fe.jsx)(De,{variant:T.SMALL}),(0,Fe.jsx)(De,{variant:T.SMALL,width:150})]})]})},`conversation-${t}`))})}var ls={historyView:"yYKwY",specialState:"SkxpU"};var Xt=c(f(),1);function cs({conversations:e,fetchConversations:t,selectedConversationId:o,dispatch:r}){rs(r,t.shouldFetch);let n,a;return t.error?a=(0,Xt.jsx)(Yt,{state:"error-fetching-conversations",action:{onClick:()=>r({type:"fetch-conversations/retry"}),name:"Reload chats"}}):t.isLoading||t.shouldFetch?n=(0,Xt.jsx)(is,{}):e.length===0?a=(0,Xt.jsx)(Yt,{state:"empty-conversations-history",action:{onClick:()=>r({type:"conversation/select",payload:$t}),name:"Start a new chat",excludeIcon:!0}}):n=e.map((s,i)=>(0,Xt.jsx)(ss,{isMostRecentConversation:i===0,isCurrentConversation:s.id===o,conversation:s,onSelectConversation:()=>s.id===o?r({type:"ui/set-view",payload:"chat-conversation"}):r({type:"conversation/select",payload:s})},s.id)),(0,Xt.jsx)("section",{className:x(ls.historyView,!!a&&ls.specialState),"aria-label":"Conversation history",children:a||(0,Xt.jsx)("ul",{role:"list","aria-busy":t.isLoading,children:n})})}var An={header:"jHsKZ",text:"Qf5UB",buttonsContainer:"_8XuCB"};var Nt=c(f(),1);function ps({dispatch:e,hasChatHistory:t,isNewConversation:o}){let{closeChatPanel:r}=we();return(0,Nt.jsxs)("div",{className:An.header,children:[(0,Nt.jsxs)(S,{className:An.text,children:[(0,Nt.jsx)(L,{icon:"sparkling-2-line"}),"Censys Assistant"]}),(0,Nt.jsxs)("div",{className:An.buttonsContainer,children:[!o&&t&&(0,Nt.jsx)(ee,{"data-pendoid":k.NEW_CHAT_BUTTON,variant:M.GHOST,iconLeft:"add",iconLeftMode:"line",onClick:()=>e({type:"conversation/select",payload:$t}),children:"New Chat"}),(0,Nt.jsx)(z,{"data-pendoid":k.CLOSE_BUTTON,icon:"close-line","aria-label":"Close assistant chat panel","aria-controls":Qt,variant:M.GHOST,onClick:r})]})]})}var Cn={viewNavigation:"hdLu-",separator:"uSlvC",displayText:"H6DC7"};var ye=c(f(),1),gu="New Chat",Eu="Chats";function us({view:e,dispatch:t,hasChatHistory:o,chatTitle:r=gu}){return o?(0,ye.jsx)("nav",{className:Cn.viewNavigation,"aria-label":"Chat navigation",children:(0,ye.jsxs)("ol",{children:[(0,ye.jsx)(gc,{pendoId:k.CHATS_BREADCRUMB,isActive:e==="chat-history",inactiveAriaLabel:"Switch to view chat history",onSelect:()=>t({type:"ui/set-view",payload:"chat-history"}),children:Eu}),(0,ye.jsx)("span",{"aria-hidden":!0,children:(0,ye.jsx)(S,{className:Cn.separator,variant:T.H2,as:"div",children:"/"})}),(0,ye.jsx)(gc,{pendoId:k.CURRENT_CHAT_BREADCRUMB,isActive:e==="chat-conversation",inactiveAriaLabel:`Switch to view current chat '${r}'`,onSelect:()=>t({type:"ui/set-view",payload:"chat-conversation"}),children:r})]})}):(0,ye.jsx)(ms,{children:r})}var gc=({pendoId:e,isActive:t,inactiveAriaLabel:o,onSelect:r,children:n})=>(0,ye.jsx)("li",{"aria-current":t?"page":void 0,children:t?(0,ye.jsx)(ms,{children:n}):(0,ye.jsx)(ee,{"data-pendoid":e,variant:M.TERTIARY,"aria-label":o,onClick:r,children:(0,ye.jsx)(ms,{children:n})})}),ms=({children:e})=>(0,ye.jsx)(S,{className:Cn.displayText,variant:T.H2,as:"div",children:e});var _n={chatPanel:"URebH",panelHeader:"Rg3lH",navigationContainer:"AdECj"};function Wt(e){return e===or}var Je=c(f(),1);function vn(){let{isOpen:e,isAssistantEnabled:t,chatPanelState:o,chatPanelDispatch:r}=we(),n=(0,In.useRef)(null),{offsetHeightStyle:a}=ja(n,e);as(r),ts(r,o.fetchMessages.shouldFetch,o.conversation.id);let{handleSubmitMessage:s,cancelCurrentStream:i}=rr(r),p;switch(o.view){case"chat-conversation":p=(0,Je.jsx)(Ja,{dispatch:r,initialPrompt:o.initialPrompt,messages:o.messages,messageStreamState:o.messageStream,fetchMessagesState:o.fetchMessages,conversationId:o.conversation.id,onSubmitMessage:s,cancelCurrentStream:i,messageQuota:o.messageQuota});break;case"chat-history":p=(0,Je.jsx)(cs,{conversations:o.conversations,fetchConversations:o.fetchConversations,selectedConversationId:o.conversation.id,dispatch:r})}return(0,In.useEffect)(()=>{e||r({type:"ui/reset-view"})},[e]),e?(t||(p=(0,Je.jsx)(Ra,{})),(0,Je.jsxs)("aside",{id:Qt,role:"complementary","aria-label":"Assistant chat panel",className:_n.chatPanel,ref:n,style:a,children:[(0,Je.jsxs)("header",{className:_n.panelHeader,children:[(0,Je.jsx)(ps,{dispatch:r,hasChatHistory:o.hasConversationHistory,isNewConversation:Wt(o.conversation.id)}),t&&(0,Je.jsx)("div",{className:_n.navigationContainer,children:(0,Je.jsx)(us,{view:o.view,dispatch:r,hasChatHistory:o.hasConversationHistory,chatTitle:o.conversation.name})})]}),p]})):null}var pe={hasConversationHistory:!1,view:"chat-conversation",conversations:[],initialPrompt:void 0,fetchConversations:{shouldFetch:!1,isLoading:!1,error:void 0},conversation:$t,messages:[],fetchMessages:{shouldFetch:!1,isLoading:!1,error:void 0},messageStream:{isActive:!1,prompt:void 0,conversationId:void 0,message:void 0,error:void 0},messageQuota:void 0};function ds(e,t){switch(t.type){case"ui/has-conversation-history":return{...e,hasConversationHistory:t.payload};case"ui/set-view":return{...e,view:t.payload,fetchConversations:{...pe.fetchConversations,shouldFetch:t.payload==="chat-history"}};case"ui/reset-view":return{...pe,hasConversationHistory:e.hasConversationHistory};case"pivot/start-chat-with-prompt":return{...e,view:"chat-conversation",conversation:$t,messages:[],initialPrompt:t.payload};case"conversation/select":return{...e,view:"chat-conversation",conversation:t.payload,messages:[],initialPrompt:void 0,fetchMessages:{...pe.fetchMessages,shouldFetch:!Wt(t.payload.id)}};case"fetch-conversations/start":return{...e,conversations:[],fetchConversations:{shouldFetch:!1,isLoading:!0,error:void 0}};case"fetch-conversations/success":return{...e,conversations:t.payload,fetchConversations:pe.fetchConversations};case"fetch-conversations/error":return{...e,conversations:[],fetchConversations:{shouldFetch:!1,isLoading:!1,error:t.payload}};case"fetch-conversations/retry":return{...e,conversations:[],fetchConversations:{...pe.fetchConversations,shouldFetch:!0}};case"fetch-messages/start":return{...e,messages:[],fetchMessages:{shouldFetch:!1,isLoading:!0,error:void 0}};case"fetch-messages/success":{let o=t.payload;return e.messageStream.isActive&&e.messageStream.conversationId===e.conversation.id&&(o=o.slice(0,o.length-1)),{...e,messages:o,fetchMessages:pe.fetchMessages}}case"fetch-messages/error":return{...e,messages:[],fetchMessages:{shouldFetch:!1,isLoading:!1,error:t.payload}};case"fetch-messages/retry":return{...e,messages:[],fetchMessages:{...pe.fetchMessages,shouldFetch:!0}};case"message-stream/initiate":return{...e,messageStream:{...pe.messageStream,isActive:!0,conversationId:e.conversation.id}};case"message-stream/start":{let{timestamp:o,message_id:r,conversation_id:n,prompt:a}=t.payload,s=[...e.messages,{id:`user-message-${r}`,sender:"user",content:a}],i={id:r,sender:"assistant",content:"",streamTime:{start:o},streamStatus:ve.ACTIVE};return{...e,initialPrompt:void 0,conversation:{...e.conversation,id:n,lastUpdated:o},messages:s,messageStream:{...e.messageStream,prompt:a,conversationId:n,message:i}}}case"message-stream/content-block":return{...e,messageStream:{...e.messageStream,message:e.messageStream.message?{...e.messageStream.message,content:e.messageStream.message.content+t.payload.delta}:void 0}};case"message-stream/tool-call-start":return{...e,messageStream:{...e.messageStream,message:e.messageStream.message?{...e.messageStream.message,content:e.messageStream.message.content+`

`}:void 0}};case"message-stream/title-generation":return{...e,hasConversationHistory:!0,conversation:e.conversation.id===e.messageStream.conversationId?{...e.conversation,name:t.payload.title}:e.conversation};case"message-stream/interrupt":return{...e,initialPrompt:e.conversation.id===e.messageStream.conversationId?e.messageStream.prompt:e.initialPrompt,messageStream:pe.messageStream,messages:e.messageStream.message&&e.conversation.id===e.messageStream.conversationId?[...e.messages,{...e.messageStream.message,streamStatus:ve.INTERRUPTED}]:e.messages};case"message-stream/stop":return{...e,messageStream:pe.messageStream,messages:e.messageStream.message&&e.conversation.id===e.messageStream.conversationId?[...e.messages,{...e.messageStream.message,streamTime:{...e.messageStream.message.streamTime,end:t.payload.timestamp},streamStatus:ve.COMPLETED}]:e.messages};case"message-stream/chat-error":return{...e,messageStream:pe.messageStream,messages:e.messageStream.message?[...e.messages,{...e.messageStream.message,streamStatus:ve.ERROR,streamTime:{...e.messageStream.message.streamTime,end:t.payload.timestamp}}]:e.messages};case"message-stream/error":return{...e,messageStream:{...e.messageStream,message:void 0,isActive:!1,error:!0}};case"message-stream/reset":return{...e,messageStream:pe.messageStream};case"message-quota/set":return{...e,messageQuota:t.payload};default:return e}}var fs=c(v(),1),Ae=c(v(),1);var xo=c(v(),1);var Ec="/api/feature-quota/getQuota",Tc="meteredFeature";function hc(e,t=!0){let o=K(),r=Ne(),[n,a]=(0,xo.useState)(),s=(0,xo.useCallback)(()=>{t&&o.load(r(Ec,{params:{[Tc]:e}}))},[o.load,r,e,t]);return(0,xo.useEffect)(()=>{if(t&&o.state==="idle"&&o.data?.featureQuota){let{resetsAt:i}=o.data.featureQuota;a({...o.data.featureQuota,resetsAt:i?Temporal.Instant.from(i):null})}},[o.data,t]),{getFeatureQuota:s,featureQuota:n,isLoading:o.state==="loading",isError:!!(o.state==="idle"&&o.data?.error)}}var Ac=c(f(),1),yc={isOpen:!1,isAssistantEnabled:!1,openChatPanel:()=>{},closeChatPanel:()=>{},onToggle:()=>{},startChat:async()=>{},openChat:()=>{},chatPanelState:pe,chatPanelDispatch:()=>{}},Ss=(0,Ae.createContext)(yc),we=()=>(0,Ae.useContext)(Ss),Tu=({initialIsOpen:e=yc.isOpen,children:t})=>{let[o,r]=(0,Ae.useState)(e),[n,a]=(0,Ae.useReducer)(ds,pe),s=!!uo(),i=fo(),p=s&&i,m=Tt(),g=p&&!m,{featureQuota:A,getFeatureQuota:E}=hc("assistant-messages",g);(0,fs.useEffect)(()=>{g&&E()},[g,E,o,n.messageStream.isActive]),(0,fs.useEffect)(()=>{a({type:"message-quota/set",payload:A})},[A]);let{handleSubmitMessage:y}=rr(a),_=(0,Ae.useCallback)(()=>{r(!0)},[]),N=(0,Ae.useCallback)(()=>{r(!1)},[]),I=(0,Ae.useCallback)(()=>{r(C=>!C)},[]),l=(0,Ae.useCallback)(async C=>{if(r(!0),!p)return;let h=C.get("prompt");if(a({type:"pivot/start-chat-with-prompt",payload:h}),!n.messageStream.isActive)return await y(C,null,n.messageStream.isActive)},[p,a,y,n.messageStream.isActive]),d=(0,Ae.useCallback)(C=>{r(!0),p&&a({type:"conversation/select",payload:C})},[p,a]),u={isOpen:o,isAssistantEnabled:p,openChatPanel:_,closeChatPanel:N,onToggle:I,startChat:l,openChat:d,chatPanelState:n,chatPanelDispatch:a};return(0,Ac.jsx)(Ss.Provider,{value:u,children:t})};var Re=c(v(),1);var vc=c(f(),1),hu={query:"",updateQuery:()=>{}},Cc=(0,Re.createContext)(hu);function _c(){let e=(0,Re.useContext)(Cc);if(!e)throw new Error("useSearchContext must be used within a SearchContextProvider");return e}function Ic({initialValue:e="",children:t}){let[o,r]=(0,Re.useState)(e);(0,Re.useEffect)(()=>{r(e)},[e]);let n=(0,Re.useCallback)((s,i=!1)=>{let p=i?mi(o,s):s;r(p)},[o,r]),a=(0,Re.useMemo)(()=>({query:o,updateQuery:n}),[o,n]);return(0,vc.jsx)(Cc.Provider,{value:a,children:t})}var nr={topHeaderContainer:"OBrof",contentLeft:"Giwtn",searchBarWrapper:"_6EE3F",headerRight:"tLDAr"};var je=c(f(),1);function Ln({placeholder:e,breadcrumbs:t,children:o,collectionId:r}){let{query:n}=_c(),a=(0,Lc.useMemo)(()=>t.map(s=>"pathName"in s?{...s,pathName:s.pathName}:s),[t]);return(0,je.jsxs)("header",{className:nr.topHeaderContainer,children:[(0,je.jsxs)("div",{className:nr.contentLeft,children:[(0,je.jsx)(ri,{breadcrumbs:a}),(0,je.jsx)("div",{className:nr.searchBarWrapper,children:(0,je.jsx)(La,{q:n,placeholder:e,collectionId:r})}),(0,je.jsxs)("div",{className:nr.headerRight,children:[(0,je.jsx)(en,{}),(0,je.jsx)(Al,{})]})]}),o]})}var Rn=c(v(),1);var Rt=c(v(),1);var Nc=c(v(),1);var gs={toggleContainer:"SXZqD",darkMode:"_3vGqO",lightMode:"IeVLg",iconColor:"m4szN"};var ar=c(f(),1),Rc=(0,Nc.forwardRef)(function({onAppThemeToggle:t},o){let{theme:r}=br(),{t:n}=D();return(0,ar.jsxs)("div",{className:gs.toggleContainer,children:[(0,ar.jsx)(L,{icon:r==="theme-default"?"sun-line":"moon-line",className:gs.iconColor,size:"lg"}),(0,ar.jsx)(Fs,{initialState:r==="theme-default",leftText:n("Light Mode"),rightText:n("Dark Mode"),onToggle:t,ref:o})]})});var xc=c(v(),1);function bc(e,t=!1){let{featureFlags:o}=(0,xc.useContext)(mo);return Array.isArray(e)?e.every(r=>o[r]??t):o[e]??t}var Mc=c(v(),1);var bo={dropdownItem:"_3prCG",dropdownItemText:"_7yaZc"};var Zt=c(f(),1),yu={},Au={rel:void 0,target:"_self"},Mo=(0,Mc.forwardRef)(({iconName:e,href:t,shouldOmitOrg:o=!1,shouldOpenNewWindow:r=!0,text:n},a)=>{let s=r?yu:Au;return(0,Zt.jsx)(Oe,{className:bo.dropdownItem,ref:a,asChild:!0,children:(0,Zt.jsx)(w,{className:bo.dropdownLink,href:t,isExternal:r,shouldOmitOrg:o,...s,children:(0,Zt.jsxs)(S,{className:bo.dropdownItemText,children:[(0,Zt.jsx)(L,{className:bo.dropdownLinkIcon,name:e,mode:"line",size:"lg"}),n,r&&(0,Zt.jsx)(L,{className:bo.dropdownLinkIcon,name:"external-link",mode:"line",size:"lg"})]})})})});var Es={accountStatus:"_7qEcp",accountStatusText:"ArpOi"};var sr=c(f(),1);function Ts({accessState:e}){return(0,sr.jsxs)("div",{className:Es.accountStatus,children:[(0,sr.jsx)(po,{label:e.firstName,size:co.SMALL}),(0,sr.jsx)(S,{className:Es.accountStatusText,children:Ur(e)})]})}var fe={dropdownTrigger:"w6x9e",avatarContainer:"mryY8",dropdownContent:"Vqvrx",dropdownGroup:"QAdrJ",dropdownItem:"ir9f7",dropdownItemContainer:"bxkzE",captionHeading:"Gn0Nk",dropdownSeparator:"WTpVA"};var hs=c(v(),1);function Oc(e,t){return(0,hs.useCallback)(o=>{if(!(o.key==="ArrowDown"||o.key==="ArrowUp"))return;o.preventDefault(),o.stopPropagation(),(o.key==="ArrowUp"?e:t).current?.focus()},[e,t])}function Pc(e){return(0,hs.useCallback)(t=>{(t.key==="ArrowDown"||t.key==="ArrowUp")&&(t.preventDefault(),t.stopPropagation(),e.current?.focus())},[e])}var wc=c(v(),1);var Dc="/api/preferredAppTheme",kc="preferredAppTheme",Uc="/language",Gc="language";var ys={toggleContainer:"UypTu",iconColor:"bJ0l2"};var ir=c(f(),1);function As(){let{t:e,i18n:t}=D(),o=K({key:Gc});return(0,ir.jsxs)("div",{className:ys.toggleContainer,children:[(0,ir.jsx)(L,{icon:"translate",className:ys.iconColor,size:"lg"}),(0,ir.jsx)(Hs,{value:t.language,onValueChange:r=>{o.submit({locale:r},{method:"POST",action:Uc}),(0,wc.startTransition)(()=>{t.changeLanguage(r)})},options:[{label:e("English"),value:"en"},{label:e("Spanish"),value:"es"},{label:e("French"),value:"fr"},{label:e("Italian"),value:"it"},{label:e("German"),value:"de"},{label:e("Swedish"),value:"sv"},{label:e("Portuguese"),value:"pt"},{label:e("Japanese"),value:"ja"}]})]})}var B=c(f(),1);function Cs({accessState:e,onAppThemeToggle:t}){let o=(0,Rt.useRef)(null),r=(0,Rt.useRef)(null),n=(0,Rt.useRef)(null),[a,s]=(0,Rt.useState)(!1),{t:i}=D(),p=bc("internationalization"),m=!!e?.currentPlanType,g=ne("ACCOUNTS_SITE_URL"),A=ne("APP_SITE_URL"),E=ne("ASM_SITE_URL"),y=(0,Rt.useCallback)(I=>{s(I)},[]),_=Oc(o,n),N=Pc(r);return(0,B.jsxs)(hr,{open:a,onOpenChange:y,children:[(0,B.jsx)(yr,{className:fe.dropdownTrigger,children:(0,B.jsxs)("div",{className:fe.avatarContainer,children:[(0,B.jsx)(po,{label:Ur(e),size:co.MEDIUM,isActive:a}),(0,B.jsx)(L,{name:a?"arrow-drop-up":"arrow-drop-down",mode:"line",size:"2xl"})]})}),(0,B.jsxs)(Ar,{align:"end",className:fe.dropdownContent,children:[(0,B.jsxs)(ot,{className:fe.dropdownGroup,children:[(0,B.jsx)(io,{className:fe.captionHeading,asChild:!0,children:(0,B.jsx)(S,{variant:T.H4,as:"span",children:i("Welcome back")})}),(0,B.jsx)(Ts,{accessState:e}),(0,B.jsx)(Et,{className:fe.dropdownSeparator}),(0,B.jsx)(Mo,{iconName:"user",href:`${g}/settings`,text:i("My Account"),ref:m?void 0:o,shouldOpenNewWindow:!0}),m&&(0,B.jsx)(Mo,{iconName:"exchange-2",href:`${g}/settings/personal-access-tokens`,text:i("API Access"),ref:o,shouldOpenNewWindow:!0})]}),(0,B.jsx)(Et,{className:fe.dropdownSeparator}),(0,B.jsxs)(ot,{className:fe.dropdownGroup,children:[(0,B.jsx)(Oe,{className:fe.dropdownItemContainer,onKeyDown:_,onKeyUp:N,onSelect:I=>{I.preventDefault()},children:(0,B.jsx)(Rc,{onAppThemeToggle:t,ref:r})}),p&&(0,B.jsx)(As,{})]}),(0,B.jsx)(Et,{className:fe.dropdownSeparator}),(0,B.jsxs)(ot,{className:fe.dropdownGroup,children:[(0,B.jsx)(io,{children:(0,B.jsx)(S,{className:fe.captionHeading,variant:T.H4,as:"span",children:"Switch to..."})}),(0,B.jsx)(Mo,{iconName:"arrow-left-right",href:E,shouldOmitOrg:!0,text:i("Attack Surface Management"),ref:n})]}),(0,B.jsx)(Et,{className:fe.dropdownSeparator}),(0,B.jsx)(ot,{className:fe.dropdownGroup,children:(0,B.jsx)(Mo,{iconName:"logout-box-r",href:li(g,A),shouldOpenNewWindow:!1,text:i("Logout")})})]})]})}var Jt=c(v(),1);var lr={buttonContainer:"_4aRFs",panelOffset:"QMnU7",buttonText:"lDv2l",button:"s8VII"};var cr=c(f(),1);function _s({containerRef:e}){let[t,o]=(0,Jt.useState)(!1),{t:r}=D(),{isOpen:n}=we(),a=(0,Jt.useCallback)(()=>{let i=e?.current;if(!i)return;let p=i.clientHeight;o(i.scrollTop>p)},[e]);(0,Jt.useEffect)(()=>{let i=e?.current;if(i)return a(),i.addEventListener("scroll",a,{passive:!0}),()=>{i.removeEventListener("scroll",a)}},[e,a]);let s=(0,Jt.useCallback)(i=>{i.preventDefault();let m=window.matchMedia("(prefers-reduced-motion: reduce)").matches?"auto":"smooth";e.current?.scrollTo({top:0,behavior:m})},[e]);return t?(0,cr.jsxs)("div",{className:x(lr.buttonContainer,n&&lr.panelOffset),role:"navigation","aria-label":"Scroll to top of page",children:[(0,cr.jsx)(z,{iconName:"arrow-up-double",iconMode:"fill",size:ue.LARGE,onClick:s,className:lr.button,"aria-label":"Scroll to top of page"}),(0,cr.jsx)(S,{variant:T.DEFAULT,className:lr.buttonText,"aria-hidden":"true",children:r("Scroll to top")})]}):null}var xe={appLayout:"CZL5V",sideNav:"IJWvu",rightContainer:"FS5Lm",header:"CRqJm",loginRegisterActions:"pLljX",loginRegisterDivider:"Amv8K",contentContainer:"_3aZJA",sideContent:"nmfiW",actions:"XvXwy",navTabs:"mfo-C",pageContent:"CAkVT"};var jt={footerContainer:"oKIZG",innerContainer:"V53bw",helpBlurb:"_5SsQP",footerText:"RYRpQ"};var se=c(f(),1),Is=4;function Nn(){let{t:e}=D(),t=ne("PRODUCT_SITE_URL"),o=ne("SUPPORT_SITE_URL"),r=new Date().getUTCFullYear();return(0,se.jsxs)("footer",{className:jt.footerContainer,children:[(0,se.jsxs)("div",{className:jt.innerContainer,children:[(0,se.jsx)(w,{size:"md",href:`${o}`,isExternal:!0,children:e("Resource Hub")}),(0,se.jsx)(Ke,{variant:"dot",size:Is}),(0,se.jsx)(w,{size:"md",href:`${t}/attack-surface-management/`,isExternal:!0,children:e("Attack Surface Management")}),(0,se.jsx)(Ke,{variant:"dot",size:Is}),(0,se.jsx)(w,{size:"md",href:`${t}/contact-government/`,isExternal:!0,children:e("Government")}),(0,se.jsx)(Ke,{variant:"dot",size:Is}),(0,se.jsx)(w,{size:"md",href:`${o}/docs/research-access-to-censys-data#/`,isExternal:!0,children:e("Research Access")})]}),(0,se.jsxs)("div",{className:jt.innerContainer,children:[(0,se.jsxs)(S,{className:x(jt.helpBlurb,jt.footerText),children:[e("Need help?"),"\xA0\xA0",(0,se.jsx)(w,{size:"md",href:o,isExternal:!0,children:e("Help Center")}),"\xA0or\xA0",(0,se.jsx)(w,{size:"md",href:"mailto:support@censys.com",children:"support@censys.com"})]}),(0,se.jsx)(Ke,{variant:"line--vertical"}),(0,se.jsxs)(S,{className:jt.footerText,children:["\xA9",r," Censys"]})]})]})}var G=c(f(),1);function Cu({breadcrumbs:e}){return(0,G.jsx)(Ln,{breadcrumbs:e,children:(0,G.jsx)(Iu,{})})}var _u=({breadcrumbs:e})=>({searchHeader:(0,G.jsx)(Cu,{breadcrumbs:e})});function Bc({children:e,breadcrumbs:t,initialQuery:o="",slots:r={},navTabClassName:n="",headerClassName:a=""}){r={..._u({breadcrumbs:t}),...r};let s=(0,Rn.useRef)(null);return(0,G.jsx)(Ic,{initialValue:o,children:(0,G.jsxs)("div",{className:xe.appLayout,children:[(0,G.jsx)("div",{className:xe.sideNav,children:(0,G.jsx)(Un,{})}),(0,G.jsxs)("div",{className:xe.rightContainer,children:[(0,G.jsx)("div",{className:xe.header,children:r.searchHeader}),(0,G.jsxs)("div",{className:xe.contentContainer,ref:s,id:pr,children:[(0,G.jsxs)("main",{children:[r.header&&(0,G.jsx)("header",{className:a,children:r.header}),r.actions&&(0,G.jsx)("section",{className:xe.actions,"aria-label":"Page Actions Section",children:r.actions}),r.navTabs&&(0,G.jsx)("div",{className:x(xe.navTabs,n),"aria-label":"Navigation tabs",children:r.navTabs}),(0,G.jsx)("section",{"aria-label":"Page Content",className:xe.pageContent,children:e}),(0,G.jsx)("div",{className:xe.sideContent,children:(0,G.jsx)(vn,{})})]}),(0,G.jsx)(Nn,{}),(0,G.jsx)(_s,{containerRef:s})]})]})]})})}function Iu(){let{accessState:e,setAppTheme:t}=br(),o=K({key:kc}),r=(0,Rn.useCallback)(n=>{let a=n?"theme-default":Pn.DARK_MODE;o.submit({theme:a},{method:"post",action:Dc}),t?.(a)},[o,t]);return e?(0,G.jsx)(Cs,{accessState:e,onAppThemeToggle:r}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(oi,{variant:ti.PIPE,className:xe.loginRegisterDivider}),(0,G.jsxs)("div",{className:xe.loginRegisterActions,children:[(0,G.jsx)(Dr,{}),(0,G.jsx)(kr,{})]})]})}var pr="app-main-content-container";function vu(){return(0,Hc.useCallback)(()=>{let e=document.getElementById(pr);if(!e)return;let o=window.matchMedia("(prefers-reduced-motion: reduce)").matches?"auto":"smooth";e.scrollTo({top:0,behavior:o})},[])}var Fc=c(v(),1);function Ne(){let e=Tt();return(0,Fc.useMemo)(()=>(t,o={})=>{let{params:r={}}=o,[n,a]=t.split("?"),s=new URLSearchParams(a);e?.organizationId&&s.set(So,e.organizationId),Object.entries(r).forEach(([p,m])=>{m!=null&&s.set(p,String(m))});let i=s.toString();return i?`${n}?${i}`:n},[e?.organizationId])}var Ve={expandableInputContainer:"_2leAj",large:"zqHRp",rounded:"L9rab",rightSlots:"_--OlM",expanded:"yTJSC",innerContentContainer:"pxaT5",controlsContainer:"ydkkT",leftSlots:"-RLhH",inputContainer:"_4vVyx",lowerContainer:"siA62"};var Oo=c(v(),1),mr=24,Lu=300;function Nu(e,t,o,r,n,a){let s=o.current,i=r.current,p=n.current,m=a.current;!s||!i||!p||(e?(i.style.height=`${t}px`,p.style.height=`${t}px`,m&&(m.style.marginTop=`${Math.max(t,s.clientHeight)}px`)):(i.style.height=`${mr}px`,p.style.height=`${mr}px`,m&&(m.style.marginTop=`${s.clientHeight}px`)))}function Vc(e,t,o){let r=e.current;if(!r)return;r.style.height="auto";let n=r.scrollHeight,a=Math.min(n,Lu);o?r.style.height=`${a}px`:r.style.height=`${mr}px`,t(a)}function Qc({value:e,isExpanded:t,innerRef:o,inputContainerRef:r,inputRef:n,lowerRef:a}){let[s,i]=(0,Oo.useState)(mr);return(0,Oo.useEffect)(()=>{Vc(n,i,t)},[n,e,t]),(0,Oo.useEffect)(()=>{let p=n.current;if(!p)return;let m=new ResizeObserver(()=>{Vc(n,i,t)});return m.observe(p),()=>{m.disconnect()}},[n,t]),(0,Oo.useEffect)(()=>{Nu(t,s,o,r,n,a)},[t,s]),{isMultiline:!!e&&(s>mr||e.includes(`
`))}}function Yc(e,t,o,r,n){e.key==="Enter"&&!e.shiftKey?(e.preventDefault(),r.current?.blur()):e.key==="Escape"&&t&&o.current?.focus(),n?.(e)}var Ce=c(f(),1);function Ru({size:e="medium",variant:t="default",slots:o,value:r,setValue:n,shouldForceOpen:a,onClickOutside:s,onInput:i,onKeyDown:p,onChange:m,placeholder:g="Enter text here...",className:A,...E},y){let[_,N]=(0,F.useState)(!1),I={inner:(0,F.useRef)(null),inputContainer:(0,F.useRef)(null),input:(0,F.useRef)(null),lower:(0,F.useRef)(null),controls:(0,F.useRef)(null),toggle:(0,F.useRef)(null)},l=Bn();(0,F.useImperativeHandle)(y,()=>I.input.current);let{isMultiline:d}=Qc({value:r,isExpanded:_,innerRef:I.inner,inputContainerRef:I.inputContainer,inputRef:I.input,lowerRef:I.lower}),u=(0,F.useMemo)(()=>({size:e==="medium"?ue.SMALL:ue.MEDIUM,variant:M.GHOST,shape:Pe.SQUARE,type:"button",iconMode:"line"}),[e]),C=(0,F.useCallback)(()=>{m?.({target:{value:""}}),n(""),I.input.current?.focus()},[n,m]),h=(0,F.useCallback)(()=>{N(R=>!R)},[]),P=(0,F.useCallback)(()=>{d&&N(!0)},[d]),U=(0,F.useCallback)(()=>{l.shouldSkip()||a||(I.input.current&&(I.input.current.scrollTop=0),N(!1))},[a]),Q=(0,F.useCallback)(R=>{Yc(R,_,I.toggle,I.input,p)},[_,p]),V=(0,F.useCallback)(R=>{n(R.target.value),m?.(R)},[n,m]),H=(0,F.useCallback)(()=>{l.suppressOnce()},[]);return(0,F.useEffect)(()=>{a||N(!1)},[a]),(0,F.useEffect)(()=>{(I.input.current&&document.activeElement===I.input.current||a)&&N(d)},[d,a]),(0,F.useEffect)(()=>{let R=Z=>{!!I.lower.current?.contains(Z.target)||!!I.input.current?.contains(Z.target)||!!I.controls.current?.contains(Z.target)||(s?.(),N(!1))};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[_,s]),(0,Ce.jsxs)("div",{className:x(A,Ve.expandableInputContainer,Ve[e],Ve[t]),children:[(0,Ce.jsxs)("div",{className:Ve.innerContentContainer,ref:I.inner,children:[o?.left&&(0,Ce.jsx)("div",{className:Ve.leftSlots,children:o.left}),(0,Ce.jsx)("div",{className:Ve.inputContainer,ref:I.inputContainer,children:(0,Ce.jsx)("textarea",{...E,className:x(_&&Ve.expanded),ref:I.input,value:r,onChange:V,placeholder:g,rows:1,onKeyDown:Q,onFocus:P,onBlur:U})}),!!r&&(0,Ce.jsxs)("div",{className:Ve.controlsContainer,ref:I.controls,children:[(0,Ce.jsx)(de,{content:"Clear",tabIndex:-1,children:(0,Ce.jsx)(z,{...u,name:"clear","aria-label":"Clear input value",iconName:"close",iconMode:"line",onMouseDown:H,onClick:C})}),d&&(0,Ce.jsx)(de,{content:_?"Collapse":"Expand",tabIndex:-1,children:(0,Ce.jsx)(z,{...u,ref:I.toggle,name:"expand-control","aria-label":`${_?"Collapse":"Expand"} input field`,"aria-expanded":_,iconName:_?"collapse-diagonal":"expand-diagonal",iconMode:"line",onMouseDown:H,onClick:h})})]}),o?.right&&(0,Ce.jsx)("div",{className:Ve.rightSlots,children:o.right})]}),(0,Ce.jsx)("div",{ref:I.lower,className:Ve.lowerContainer,children:o?.bottom})]})}var vs=(0,F.forwardRef)(Ru);var ap=c(v(),1);var Kc={pill:"Fi4VD"};var Ls=c(f(),1);function Ns(){return(0,Ls.jsx)(ei,{className:Kc.pill,size:"sm",children:(0,Ls.jsx)(Mr,{})})}var zc="This is a regular expression (Regex) query";var Rs={advancedContainer:"Zfc79",header:"iAxfV"};var xt=c(f(),1);function Wc({hasAdvancedQueryAccess:e}){let{t}=D(),o=ne("SUPPORT_SITE_URL");return(0,xt.jsxs)("div",{className:Rs.advancedContainer,children:[(0,xt.jsxs)("div",{className:Rs.header,children:[(0,xt.jsx)(S,{variant:T.H3,children:"Advanced Query"}),!e&&(0,xt.jsx)(Ns,{})]}),(0,xt.jsx)(S,{variant:T.SMALL,children:zc}),(0,xt.jsx)(w,{size:"sm",href:`${o}/docs/censys-query-language#/`,isExternal:!0,children:t("Learn more")})]})}var et={indicator:"UuMtG",indicatorWithLabel:"KkT80",legacy:"YYuo1",initial:"cTEK2",invalid:"bpiwh",valid:"P0vLJ",indicatorLabel:"Z6w3M",fadeIn:"xKDpM"};var ur=c(f(),1),qc={["INITIAL"]:{indicatorProps:{["data-testid"]:`indicator-icon_${"INITIAL"}`,role:void 0,["aria-live"]:"off"},iconProps:{className:et.initial,name:"search",mode:"line",["aria-hidden"]:!0}},["INVALID"]:{indicatorProps:{["data-testid"]:`indicator-icon_${"INVALID"}`,role:"status",["aria-live"]:"polite",["aria-label"]:"Syntax error detected. Open for details"},iconProps:{className:et.invalid,name:"close-circle",mode:"fill"}},["VALID"]:{indicatorProps:{["data-testid"]:`indicator-icon_${"VALID"}`,role:"status",["aria-live"]:"polite",["aria-label"]:"No syntax errors detected"},iconProps:{className:et.valid,name:"checkbox-circle",mode:"fill"}},["VALID_ADVANCED"]:{indicatorProps:{["data-testid"]:`indicator-icon_${"VALID_ADVANCED"}`,role:"status",["aria-live"]:"polite",["aria-label"]:"Advanced query with no syntax errors detected"},iconProps:{className:et.valid,name:"checkbox-circle",mode:"fill"}},["INVALID_ADVANCED"]:{indicatorProps:{["data-testid"]:`indicator-icon_${"INVALID_ADVANCED"}`,role:"status",["aria-live"]:"polite",["aria-label"]:"Advanced query with syntax error detected. Open for details"},iconProps:{className:et.invalid,name:"close-circle",mode:"fill"}},["LEGACY_QUERY"]:{indicatorProps:{["data-testid"]:`indicator-icon_${"LEGACY_QUERY"}`,role:"status",["aria-live"]:"polite",["aria-label"]:"Legacy query syntax detected. Open for details"},iconProps:{className:et.legacy,name:"alert",mode:"fill"}}};function bs({status:e}){let t=e==="INVALID_ADVANCED"||e==="VALID_ADVANCED";return(0,ur.jsxs)("div",{...qc[e].indicatorProps,className:x(et.indicator,t&&et.indicatorWithLabel),children:[(0,ur.jsx)(L,{...qc[e].iconProps,size:"lg"}),t&&(0,ur.jsx)(S,{className:et.indicatorLabel,variant:T.SMALL,children:"Advanced"})]})}var xn=c(v(),1);var W={popover:"_0L8rh",popoverWrapper:"_5lk6X",dismissButton:"qTrPy",container:"XyG-a",content:"n-7Wr",errorContent:"SZivP",validContainer:"wJ35h",validText:"Q0-1-",list:"MrXHX",syntaxErrorList:"jZtZj",syntaxErrorText:"cHu9H",errorLocationList:"bj-Ae",errorLocationListItem:"mqzNP",errorLocationLineNumber:"CI28R",errorLocationMsg:"sC9zW",errorIcon:"BHJx6",learnMoreButton:"zd0W-",messageContent:"_2FjaH"};var eo=c(f(),1),$c=({errorLines:e})=>(0,eo.jsx)("ol",{className:x(W.list,W.errorLocationList),"data-testid":"error-location-list","aria-hidden":!0,children:e.map(({lineNumber:t,hasError:o,line:r})=>(0,eo.jsxs)("li",{className:W.errorLocationListItem,"aria-describedby":`syntax-error-${t}`,children:[o&&(0,eo.jsx)(L,{name:"close-circle",mode:"fill",className:W.errorIcon}),(0,eo.jsx)(S,{className:W.errorLocationLineNumber,children:t}),(0,eo.jsx)(S,{className:W.errorLocationMsg,children:r})]},t))});var dr=c(f(),1),Xc=({errorLines:e})=>(0,dr.jsx)("ol",{className:x(W.list,W.syntaxErrorList),"data-testid":"syntax-error-list",children:e.filter(({syntaxError:t})=>t).map(({lineNumber:t,syntaxError:o})=>(0,dr.jsx)("li",{children:(0,dr.jsxs)(S,{id:`syntax-error-${t}`,variant:T.SMALL,className:W.syntaxErrorText,"aria-label":`Line ${t} has error ${o}`,children:["Line ",t,": ",o]})},t))});var Zc="Query syntax is valid",Jc="Syntax Validation",jc="Syntax Error",ep="Legacy Query Syntax Detected",tp="https://docs.censys.com/docs/censys-query-language";var fr=c(f(),1),op=()=>{let{t:e}=D();return(0,fr.jsxs)("div",{className:W.validContainer,children:[(0,fr.jsx)(L,{name:"checkbox-circle",mode:"fill"}),(0,fr.jsx)(S,{className:W.validText,children:e(Zc)})]})};var rp=(e,t)=>{if(!t.length)return[];let o=t.sort((a,s)=>(a.Position?.offset??0)-(s.Position?.offset??0)),r=0,n=o.reduce((a,{message:s,Position:i})=>{let{offset:p=0,offset_end:m=0}=i??{};return r<p&&a.push({hasError:!1,line:e.slice(r,p).trim(),lineNumber:a.length+1,syntaxError:""}),a.push({hasError:!0,line:e.slice(p,m).trim(),lineNumber:a.length+1,syntaxError:s}),r=m,a},[]);return r<e.length&&n.push({hasError:!1,line:e.slice(r).trim(),lineNumber:n.length+1,syntaxError:""}),n};var X=c(f(),1),xu={popover:W.popover,contentWrapper:W.popoverWrapper,dismissButton:W.dismissButton};function Ms({children:e,query:t,statusIndicator:o,syntaxErrors:r,isLegacyQuery:n,onOpenSyntaxPopover:a}){let{t:s}=D(),[i,p]=(0,xn.useState)(!1),m=(0,xn.useMemo)(()=>n?[]:rp(t,r),[t,r,n]),g=y=>{y?(p(!0),a?.()):p(!1)},A,E;return n?(A=ep,E=(0,X.jsx)("div",{className:W.messageContent,children:(0,X.jsx)(Qs,{variant:Vs.INFO,children:(0,X.jsxs)("div",{children:[Uo,(0,X.jsx)(S,{variant:T.DEFAULT_SEMIBOLD,children:(0,X.jsx)(xr,{timestamp:Go,format:"MMMM DD, YYYY"})}),".",(0,X.jsx)(Ft,{to:wo,isExternal:!0,children:"Learn About Platform Syntax"})]})})})):(A=m.length?s(jc):s(Jc),m.length===0?E=(0,X.jsx)(op,{}):E=(0,X.jsx)(bu,{errorLines:m})),(0,X.jsx)(ni,{contentProps:{align:"start",alignOffset:-11,sideOffset:8.5},modal:!0,isDismissible:!0,side:"bottom",customClassNames:xu,trigger:(0,X.jsx)("div",{children:o}),onOpenChange:g,open:i,children:(0,X.jsxs)("div",{className:W.container,"data-testid":"popover-content",children:[(0,X.jsx)(S,{variant:T.H2,children:A}),(0,X.jsxs)("div",{className:W.content,children:[E,e]})]})})}var bu=({errorLines:e})=>{let{t}=D();return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:W.errorContent,tabIndex:0,children:[(0,X.jsx)(Xc,{errorLines:e}),(0,X.jsx)($c,{errorLines:e})]}),(0,X.jsx)(rt,{link:{to:tp,isExternal:!0},button:{variant:M.TERTIARY,iconRight:"external-link",className:W.learnMoreButton,size:Pt.SMALL},children:t("Learn about the Censys Query Language")})]})};var np=(e,t,o)=>{if(e.length===0)return"INITIAL";let r=o?.isAdvancedQuery||!1;return ci(e)||pi(e)?r?"VALID_ADVANCED":"VALID":o?.isLegacyQuery?"LEGACY_QUERY":t.length>0?r?"INVALID_ADVANCED":"INVALID":r?"VALID_ADVANCED":"VALID"};var bn=c(f(),1);function Os({hasAdvancedQueryAccess:e,inputQuery:t,queryDetails:o,syntaxErrors:r,onOpenSyntaxPopover:n}){let a=(0,ap.useMemo)(()=>np(t,r,o),[r,t,o]),s=(0,bn.jsx)(bs,{status:a});return a==="INITIAL"?s:(0,bn.jsx)(Ms,{query:t,syntaxErrors:r,statusIndicator:s,onOpenSyntaxPopover:n,isLegacyQuery:o?.isLegacyQuery||!1,children:o?.isAdvancedQuery&&!o?.isLegacyQuery&&(0,bn.jsx)(Wc,{hasAdvancedQueryAccess:e})})}var Ps={inputContainer:"n4D0h",withListbox:"L9yX8"};var to=c(v(),1);var sp="/api/search-history",ip="search-history";var lp=()=>{let t=!!uo(),o=K({key:ip}),r=(0,to.useCallback)(()=>{t&&o.load(sp)},[o.load,t]);(0,to.useEffect)(()=>{r()},[r]);let n=(0,to.useMemo)(()=>(o.data?.recentSearches||[]).map(s=>({...s,shouldCloseListBoxOnSelect:!0})),[o.data?.recentSearches]),a=o.state==="loading";return(0,to.useMemo)(()=>({recentSearches:n,isLoading:a,fetchSearchHistory:r}),[n,a,r])};var ro=c(v(),1);function cp(e){let t=[],o=new Set;e.suggestions.forEach(n=>{n.related_fields&&n.related_fields.forEach(a=>o.add(a))}),e.suggestions.forEach((n,a)=>{let{edit:s,restricted:i,suggested_text:p,related_fields:m}=n;if(o.has(p))return;let g=`api-response-suggestion-${a}`;if(s){let A={from:s.replace_from,to:s.replace_to,value:s.replacement},E={id:g,isLocked:i,value:p,replacement:A};m&&m.length>0&&(E.relatedFields=m.map((y,_)=>({id:`${g}-related-${_}`,isLocked:i,value:y,replacement:{...A,value:y}}))),t.push(E)}});let r;return e.full_document_query&&e.full_document_query!==wn&&(r={id:Gn,value:e.full_document_query,shouldCloseListBoxOnSelect:!0}),{autocomplete:t,errors:e.errors,hasAdvancedQueryAccess:e.hasAdvancedQueryAccess,details:{isAdvancedQuery:e.details?.regex_present||!1,isLegacyQuery:e.legacy_query_detected},exactMatch:r}}function pp({inputValue:e,hasSuggestions:t,hasDefaultSuggestions:o,isLoadingSuggestions:r}){return e?t||r:o}function mp({hasContent:e,isListBoxTriggered:t}){return t&&e}function up(e,t,o,r,n,a,s){let i=oo(e);s&&i.unshift(...oo(s)),a&&i.unshift(...oo([a])),o&&i.unshift(...oo(o)),t&&i.push(...oo([t]));let p=[];return r&&p.push(...oo(r)),n?.queries&&p.push(...oo(n.queries)),{listBoxSuggestions:i,listBoxDefaults:p.length?p:void 0}}function oo(e){let t=[];return e.forEach(o=>{t.push(o),o.relatedFields&&o.relatedFields.forEach(r=>{t.push(r)})}),t}function dp(e,t,o,r,n,a){if(e.key==="Escape"||e.key==="Enter"&&!e.shiftKey){e.key==="Enter"&&!e.shiftKey&&a?.(),o(!1);return}if((e.key==="ArrowDown"||e.key==="ArrowUp"||e.key.length===1&&!e.ctrlKey&&!e.metaKey)&&!t){o(!0);return}if(e.key==="ArrowDown"||e.key==="ArrowUp"){r.current?.focus(),n(e.key==="ArrowDown"?0:-1);return}}var fp=({query:e="",onSelectExactMatch:t})=>{let[o,r]=(0,ro.useState)(`q=${e}`),n=di(()=>`/api/suggestions?${o}`,[o]),a=(0,ro.useCallback)((E,y)=>{r(new URLSearchParams([["q",E],["cursorPosition",y.toString()]]).toString())},[]),{autocomplete:s=[],errors:i=[],hasAdvancedQueryAccess:p=!0,details:m,exactMatch:g}=(0,ro.useMemo)(()=>{if(n.data){let E=cp(n.data);return t&&E.exactMatch&&(E.exactMatch={...E.exactMatch,onSelect:t}),E}return{}},[n.data?.suggestions,t]),A=n.state===0&&s.length===0&&i.length===0;return(0,ro.useMemo)(()=>({autocomplete:s,errors:i,details:m,exactMatch:g,getSuggestions:a,hasAdvancedQueryAccess:p,isLoading:A}),[s,i,m,p,g,a,A])};var bt=c(f(),1);function va({id:e,name:t,inputLabel:o,onEnterKeyDown:r,onChange:n,placeholder:a,size:s,variant:i,rightInputSlot:p,rightContainerSlot:m,initialValue:g="",defaultSuggestions:A,contextSuggestions:E,isLoading:y,onIsValidChange:_}){let N=`${e}-suggestions-listbox`,I=(0,oe.useRef)(null),l=(0,oe.useRef)(null),[d,u]=(0,oe.useState)(g),{autocomplete:C=[],errors:h=[],hasAdvancedQueryAccess:P,details:U,exactMatch:Q,getSuggestions:V,isLoading:H}=fp({query:d,onSelectExactMatch:r}),{queryAssistantSuggestion:R,queryAssistantState:Z,generatedQueryId:q}=ha(d,e,!!h.length,!!U?.isLegacyQuery),{queryConverterSuggestions:no,queryConverterState:ft}=_a(d,e,!!U?.isLegacyQuery),{recentSearches:be,isLoading:tt,fetchSearchHistory:Qe}=lp(),{listBoxSuggestions:Mt,listBoxDefaults:ao}=(0,oe.useMemo)(()=>up(C,Q,E,be,A,R,no),[C,Q,E,be,A,R,no]),[St,Me]=(0,oe.useState)(!1),me=(0,oe.useCallback)(()=>Me(!1),[]),gt=(0,oe.useCallback)(()=>{Me(!0)},[]),Po=(0,oe.useCallback)(Ot=>{u(Ot??""),n?.({target:{value:Ot},currentTarget:I.current})},[n,u]),{activeDescendantId:Sr,setActiveDescendantId:Mn,tempInputValue:gp,setInputValueById:Ep,selectOptionByIndex:Ds}=Hr({suggestions:Mt,defaultSuggestions:ao,inputValue:d,setInputValue:Po,inputRef:I,handleCloseListBox:me}),gr=ii({value:d,delay:250}),Er=mp({hasContent:pp({inputValue:d,hasSuggestions:!!Mt.length,hasDefaultSuggestions:!!ao,isLoadingSuggestions:H}),isListBoxTriggered:St}),Tp=(0,oe.useCallback)(Ot=>{n?.(Ot);let{value:On}=Ot.target;u(On),On===""&&(V(On,0),Qe())},[n,u,V,Qe]),ks=(0,oe.useCallback)(()=>{r?.()},[r]),hp=(0,oe.useCallback)(Ot=>{dp(Ot,St,Me,l,Ds,ks)},[St,l,Ds,ks]);return(0,oe.useEffect)(()=>{gr&&I.current&&V(gr,I.current.selectionStart||gr.length)},[gr,V]),(0,oe.useEffect)(()=>{u(g)},[g,u]),(0,oe.useEffect)(()=>{_?.(h.length===0)},[h.length,_]),(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(vs,{className:x(Ps.inputContainer,Er&&Ps.withListbox),ref:I,id:e,name:t,"aria-label":o,value:gp||d,setValue:u,onChange:Tp,onKeyDown:hp,onClick:gt,size:s,variant:i,"aria-invalid":!!h.length,role:"combobox","aria-autocomplete":"list",autoComplete:"off",spellCheck:"false","aria-controls":N,"aria-activedescendant":Sr,"aria-expanded":Er,placeholder:a,"aria-busy":y,onClickOutside:me,shouldForceOpen:Er,slots:{left:(0,bt.jsx)(Os,{hasAdvancedQueryAccess:P,inputQuery:d,queryDetails:U,syntaxErrors:h,onOpenSyntaxPopover:me}),right:p,bottom:Er&&(0,bt.jsx)(Ia,{inputId:e,listBoxId:N,inputRef:I,ref:l,autocomplete:C,exactMatch:Q,inputValue:d,defaults:A,contexts:E,recentSearches:be,queryAssistantState:Z,queryAssistantSuggestion:R,generatedQueryId:q,queryConverterState:ft,queryConverterSuggestions:no,setActiveDescendantId:Mn,selectedOptionId:Sr,onSelectOption:Ep,isLoading:H,isLoadingRecentSearches:tt,handleCloseListBox:me})}}),m?.({query:d,isValid:h.length===0})]})}export{_p as a,yp as b,Ii as c,Ap as d,Cp as e,Li as f,wu as g,Ni as h,wo as i,va as j,Fn as k,k as l,we as m,Tu as n,_c as o,Ln as p,Cu as q,Bc as r,Iu as s,vu as t,Ne as u};
