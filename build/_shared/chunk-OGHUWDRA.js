import{b as po}from"/censys/build/_shared/chunk-XSZMCSJH.js";import{a as io,b as lo}from"/censys/build/_shared/chunk-4KKS33MW.js";import{b as j,d as oo,e as eo,f as ro,l as to,s as ao,u as no}from"/censys/build/_shared/chunk-IUMSQHOS.js";import{a as so}from"/censys/build/_shared/chunk-AEM63NKL.js";import{a as E}from"/censys/build/_shared/chunk-WNJFRA3F.js";import{a as G,b as U}from"/censys/build/_shared/chunk-LOKTUJJ3.js";import{f as Q}from"/censys/build/_shared/chunk-426SZY5O.js";import{a as w}from"/censys/build/_shared/chunk-TTVDHAYB.js";import{a as J}from"/censys/build/_shared/chunk-M5RKE22T.js";import{a as K,d as X}from"/censys/build/_shared/chunk-ST66DGSY.js";import{A as a,B as F,ca as z,ea as v,ra as f,wa as L,x as I,xa as x,y as q,z as R}from"/censys/build/_shared/chunk-DN2SN5ZC.js";import{b as y}from"/censys/build/_shared/chunk-ZST4CTCB.js";import{a as B}from"/censys/build/_shared/chunk-MOHCJWAV.js";import{e as c}from"/censys/build/_shared/chunk-2TWE7TSA.js";var _={countriesAndTableContainer:"Lxbty",tableCard:"_4y0JA",cardSubHeader:"DPfs1"};var M=c(B(),1);var b={countriesMap:"rnWvO",countriesMapLegend:"t0D3X",countriesMapLegendGradient:"CEZZM",countriesMapLegendGradientItem:"Spv0n",zoomControls:"oSAsH",mapCard:"beoRN",mapHeader:"KFZNG",mapTitle:"bbcAZ",logoContainer:"_5HU8g"};var l=c(y(),1),co=2,uo=6,Co="rgba(0, 0, 0, 0.5)",go=o=>Math.pow(o,.2),yo=o=>Math.round(Math.pow(o,5));function V({countsByCountryCode:o,strokeColor:m,colorRange:n,label:u,dotColor:d=Co,pendoId:g,getOnCountryClickHandler:r}){let{theme:i}=X(),{zoom:C}=ro(),O=(0,M.useCallback)(({isoA2:N})=>go(o[N]??0),[o]),P=(0,M.useMemo)(()=>i===K.DARK_MODE?n.dark:n.light,[i]),Z=(0,M.useMemo)(()=>i===K.DARK_MODE?m.dark:m.light,[i]),A=(0,M.useMemo)(()=>{let N=0;for(let D of Object.values(o))D>N&&(N=D);return N},[o]),H=(0,M.useCallback)(()=>{C(.25)},[C]),mo=(0,M.useCallback)(()=>{C(-.25)},[C]);return(0,l.jsxs)(j,{children:[(0,l.jsxs)("div",{className:b.countriesMap,"data-pendoid":g,children:[(0,l.jsx)(ao,{getCount:O,dotRadiusMin:co,dotRadiusMax:uo,dotColor:d,colorRange:[...P],strokeColor:Z,getCountryClickHandler:r}),(0,l.jsxs)(x,{bodyPadding:L.NONE,className:b.countriesMapLegend,children:[(0,l.jsxs)(a,{variant:R.H5,children:["0 ",E(u,0)]}),(0,l.jsx)("div",{className:b.countriesMapLegendGradient,children:P.map((N,D)=>(0,l.jsx)("div",{className:b.countriesMapLegendGradientItem,style:{backgroundColor:N}},D))}),(0,l.jsxs)(a,{variant:R.H5,children:[A.toLocaleString()," ",E(u,A)]})]}),(0,l.jsxs)("div",{className:b.zoomControls,children:[(0,l.jsx)(z,{iconName:"zoom-out",iconMode:"line",variant:F.DEFAULT,"aria-label":"Zoom Out",onClick:mo}),(0,l.jsx)(z,{iconName:"zoom-in",iconMode:"line",variant:F.DEFAULT,"aria-label":"Zoom In",onClick:H})]})]}),(0,l.jsx)(no,{className:b.tooltipContainer,render:({data:N})=>(0,l.jsx)(lo,{children:(0,l.jsx)(io,{title:(0,l.jsx)(v,{value:yo(N?.count??0)}),subtitle:N?.name??""})}),offsetY:10})]})}var h=c(y(),1);function W({title:o,renderMap:m,countsByCountryCode:n,strokeColor:u,colorRange:d,label:g,dotColor:r,pendoId:i,getOnCountryClickHandler:C}){return(0,h.jsxs)(x,{bodyPadding:L.NONE,className:b.mapCard,children:[(0,h.jsxs)("div",{className:b.mapHeader,children:[(0,h.jsx)(a,{variant:R.H4,className:b.mapTitle,children:o}),(0,h.jsx)("div",{className:b.logoContainer,children:(0,h.jsx)(Q,{})})]}),m&&(0,h.jsx)(eo,{children:(0,h.jsx)(V,{countsByCountryCode:n,strokeColor:u,colorRange:d,label:g,dotColor:r,getOnCountryClickHandler:C,pendoId:i})})]})}var Y=c(B(),1);var p={countriesTable:"DrePL",tableRow:"u3ayN",flagIcon:"Ls-vl",tableCell:"_3-2a6",flagCell:"qOXgI",countCell:"pvcly",noResults:"opuYr"};var e=c(y(),1);function $({countsByCountryCode:o,otherCount:m,shouldDisplayOtherCount:n=!0,getUrlForCountry:u}){let d=(0,Y.useMemo)(()=>Object.entries(o).map(([r,i])=>({country:r,countryName:po(r.toLowerCase()),count:i,link:u(r)})),[o,u]),g=(0,Y.useMemo)(()=>Object.values(o).reduce((r,i)=>r+=i,n?m:0),[o,m]);return(0,e.jsx)("div",{className:p.countriesTable,children:d.length===0?(0,e.jsx)("div",{className:p.noResults,children:(0,e.jsx)(a,{children:"No results to display."})}):(0,e.jsx)(f.Root,{"data-testid":"countries-table",children:(0,e.jsxs)(f.Body,{children:[(0,e.jsxs)(f.Row,{className:p.tableRow,children:[(0,e.jsx)(f.Cell,{className:p.tableCell,children:(0,e.jsx)(a,{children:"All"})}),(0,e.jsx)(f.Cell,{className:I(p.countCell,p.tableCell),children:(0,e.jsx)(w,{href:u(),target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(v,{value:g})})})]},"all"),d.map(({country:r,countryName:i,count:C,link:O})=>{let P=r.toLowerCase();return(0,e.jsxs)(f.Row,{className:p.tableRow,children:[(0,e.jsxs)(f.Cell,{className:p.tableCell,children:[(0,e.jsx)(so,{countryCode:P,className:p.flagIcon}),(0,e.jsx)(a,{children:i})]}),(0,e.jsx)(f.Cell,{className:I(p.countCell,p.tableCell),children:(0,e.jsx)(w,{href:O,target:"_blank",rel:"noopener noreferrer",children:(0,e.jsx)(v,{value:C})})})]},r)}),n&&(0,e.jsxs)(f.Row,{className:p.tableRow,children:[(0,e.jsx)(f.Cell,{className:p.tableCell,children:(0,e.jsx)(a,{children:"Remaining Results"})}),(0,e.jsx)(f.Cell,{className:I(p.countCell,p.tableCell),children:(0,e.jsx)(a,{children:(0,e.jsx)(v,{value:m??0})})})]},"other")]})})})}var k=c(y(),1);function bo({countsByCountryCode:o,strokeColor:m,colorRange:n,dotColor:u,getUrlForCountry:d,label:g,bucketCount:r,renderMap:i=!0,mapTitle:C,tableTitle:O,otherCount:P,shouldDisplayOtherCount:Z=!0}){let A=r<200?`Top ${r} `:"",H=C??`${A}${E("Country",r)} by ${g} Count`;return(0,k.jsxs)("div",{className:_.countriesAndTableContainer,children:[(0,k.jsx)(W,{title:H,renderMap:i,countsByCountryCode:o,strokeColor:m,colorRange:n,label:g,dotColor:u}),(0,k.jsxs)(x,{bodyPadding:L.NONE,className:_.tableCard,children:[(0,k.jsx)(a,{variant:R.H4,className:_.cardSubHeader,children:O??`Country and Total ${E(g,10)}`}),(0,k.jsx)($,{countsByCountryCode:o,otherCount:P,shouldDisplayOtherCount:Z,getUrlForCountry:d})]})]})}var t={container:"YGxPG",header:"_6sLBp",titleContainer:"fV9Uq",topRow:"TqGX2",iconContainer:"FqBS7",icon:"wCc66",count:"Y2ACp",countLink:"bCBkb",title:"BxwAu",list:"TJW7A",item:"eOF69",clickableItem:"nMZz5",itemContent:"LpbEH",itemLeft:"fbdnZ",itemName:"c5Zz-",chartContainer:"fBl0i",itemCount:"E4Tm-",listContainer:"uVbPB"};var s=c(y(),1);function To({icon:o,title:m,count:n,showList:u=!0,viewAllHref:d,pendoId:g,children:r}){let i=d&&n>0?(0,s.jsx)(w,{href:d,isExternal:!0,pendoId:g,size:"lg",children:(0,s.jsx)(a,{className:t.countLink,children:(0,s.jsx)(v,{value:n})})}):(0,s.jsx)(a,{className:t.count,children:(0,s.jsx)(v,{value:n})}),C=u&&n>0;return(0,s.jsxs)("div",{className:t.container,children:[(0,s.jsxs)("div",{className:t.header,children:[(0,s.jsx)("div",{className:t.iconContainer,children:(0,s.jsx)(q,{name:o,mode:"line",className:t.icon})}),(0,s.jsxs)("div",{className:t.titleContainer,children:[(0,s.jsx)("div",{className:t.topRow,children:i}),(0,s.jsx)(a,{className:t.title,children:m})]})]}),C&&(0,s.jsxs)("div",{className:t.listContainer,children:[(0,s.jsx)(J,{variant:"line--horizontal",size:"100%",inheritColor:!0}),(0,s.jsx)("ul",{className:t.list,children:r})]})]})}var S=c(B(),1);var T=c(y(),1);function vo({item:o,icon:m,onApplyFilter:n,totalCount:u,filterKey:d,pendoId:g}){let r=(0,S.useRef)(null),i=u-o.count,C=(0,S.useCallback)(()=>{n&&d&&n(d,o.key)},[n,o.key,d]);return(0,T.jsx)("li",{className:I(t.item,n&&t.clickableItem),onClick:C,role:"menuitem","aria-label":o.name,"data-pendoid":g,children:(0,T.jsxs)("div",{className:t.itemContent,children:[(0,T.jsxs)("div",{className:t.itemLeft,children:[m&&(0,T.jsx)("div",{className:t.icon,children:m}),(0,T.jsx)(a,{className:t.itemName,children:o.name})]}),(0,T.jsx)("div",{className:t.chartContainer,ref:r,children:(0,T.jsx)(oo,{ref:r,children:(0,T.jsx)(to,{data:[{id:o.name,count:o.count,remaining:i}],stackKeys:["count","remaining"],fillColors:[G.VIZ2,U.BORDERLINE_SECONDARY],strokeColors:[G.VIZ2,U.BORDERLINE_SECONDARY],gap:0,roundness:2,isRounded:!0})})}),(0,T.jsx)(a,{className:t.itemCount,children:(0,T.jsx)(v,{value:o.count})})]})})}export{W as a,bo as b,To as c,vo as d};
