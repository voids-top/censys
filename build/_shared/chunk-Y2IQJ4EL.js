import{a as Ae}from"/censys/build/_shared/chunk-7C4UGOB7.js";import{a as Pe}from"/censys/build/_shared/chunk-5OP2ERYU.js";import{a as _e}from"/censys/build/_shared/chunk-OQUAXVLV.js";import{c as De,d as He}from"/censys/build/_shared/chunk-MB47ZWHU.js";import{b as Re}from"/censys/build/_shared/chunk-ZP3FOFQD.js";import{a as Se}from"/censys/build/_shared/chunk-E7FS2ZQL.js";import{f as Oe}from"/censys/build/_shared/chunk-ST66DGSY.js";import{$ as Me,A as H,B as re,aa as be,ca as Ee,la as Ne,oa as Le,x as U,y as q,z as Y}from"/censys/build/_shared/chunk-DN2SN5ZC.js";import{b as L}from"/censys/build/_shared/chunk-ZST4CTCB.js";import{a as F}from"/censys/build/_shared/chunk-MOHCJWAV.js";import{e as f}from"/censys/build/_shared/chunk-2TWE7TSA.js";var P=f(F(),1);var Q=f(F(),1);var we={intersection:"gA71Z"};var Ue=f(L(),1);function se({children:e,config:t}){let n=(0,Q.useRef)(null),[a,I]=(0,Q.useState)(!1);return(0,Q.useEffect)(()=>{if(!n.current)return;let s=new IntersectionObserver(g=>{g.some(C=>C.isIntersecting)&&(I(!0),s.disconnect())},t);return s.observe(n.current),()=>{s.disconnect()}},[]),(0,Ue.jsx)("div",{ref:n,className:U(a&&we.intersection),children:a?e:null})}var M=f(F(),1);function J(e,t,n,a){let[I,s]=(0,M.useState)(null),[g,m]=(0,M.useState)(new Set),[C,h]=(0,M.useState)(!0),[E,S]=(0,M.useState)(a??new Set),[b,u]=(0,M.useState)(n??new Set),x=e?.filter(c=>!g.has(c.src))||[],o=(0,M.useCallback)((c,i)=>{if(!e.length)return;if(i==="explicit_content"){N(c);return}let y=I!==null?I:t,_=e[y]?.src;if(m(A=>new Set([...A,_])),e.filter(A=>!g.has(A.src)&&A.src!==_).length===0)return;let k=(y+1)%e.length,T=0;for(;T<e.length;){let A=e[k];if(A&&!g.has(A.src)&&A.src!==_)break;k=(k+1)%e.length,T++}T<e.length&&s(k)},[e,g,I,t,x.length]),N=(0,M.useCallback)(c=>{s(null),h(!1),S(i=>{let y=new Set(i);return y.add(c),y})},[]),d=(0,M.useCallback)(c=>{u(i=>{let y=new Set(i);return y.add(c),y})},[]),R=(0,M.useCallback)(()=>{s(null),h(!1)},[]),l=(0,M.useCallback)(()=>{s(null)},[]),Z=(0,M.useCallback)(()=>{s(null),m(new Set),h(!0)},[]);return(0,M.useEffect)(()=>{n&&u(n),a&&S(a)},[n,a]),{availableScreenshots:x,isImageLoading:C,explicitContentErrorIndexes:E,approvedExplicitContentIndexes:b,handleImageError:o,handleImageLoad:R,resetFallbackIndex:l,resetErrorHandling:Z,handleExplicitContentError:N,handleShowExplicitContent:d}}var ae=f(F(),1);function me({screenshots:e,thumbnailFocusState:t,onThumbnailFocusChange:n,onNavigation:a,hasMoreScreenshots:I,onMoreButtonFocus:s,onMoreButtonClick:g}){let m=t?.type==="thumbnail",C=m&&t.index===0,h=m&&t.index===e.length-1,E=t?.type==="moreButton",S=(0,ae.useCallback)(()=>{if(C&&I){s?.();return}let N=(()=>m&&t.index>0?t.index-1:e.length-1)();n(N),a?.()},[t,e.length,n,a,s,I]),b=(0,ae.useCallback)(()=>{if(h&&I){s?.();return}if(E||h){n(0),a?.();return}let o=m?t.index+1:0;n(o),a?.()},[t,e.length,n,a,s]),u=(0,ae.useCallback)(o=>{n(o),a?.()},[n,a]),x=(0,ae.useCallback)(o=>{if(e?.length)switch(o.key){case"ArrowLeft":o.preventDefault(),S();return;case"ArrowRight":o.preventDefault(),b();return;case"Enter":case" ":o.preventDefault(),s&&E&&g?.();return;default:return}},[e.length,S,b,t,s,g]);return{handlePrevious:S,handleNext:b,handleThumbnailClick:u,handleKeyDown:x}}var B={carouselContainer:"OqrC7",largeImageContainer:"jYf96",largeImageButton:"vAQle",largeImage:"cmbgM",thumbnails:"GWMXs",noScreenshots:"bYTvy",noScreenshotsIcon:"NNSZ-",explicitContentErrorContainer:"-bdB6"};function ke(e){let t=Math.max(48,e*.143);return{imageHeight:.75*e,thumbnailWidth:t,thumbnailHeight:t*.75}}var D=f(F(),1);var j={container:"tpC3T",imageLoading:"kzk2K",imageLoaded:"b-U5v",errorContainer:"_2xQtD",loadingContainer:"WDHMM"};var G=f(L(),1);function $({src:e,alt:t,className:n,shouldShowExplicitContent:a,onLoad:I,onError:s,...g}){let[m,C]=(0,D.useState)(null),h=(0,D.useRef)(null),E=Oe(),S=Re("APP_SITE_URL"),b=(0,D.useMemo)(()=>{if(!E?.organizationId)return e;let l=new URL(e,S);return l.searchParams.has(Se)||l.searchParams.set(Se,E.organizationId),a&&l.searchParams.set(He.explicitContent,"true"),l.toString()},[e,E?.organizationId,a]),{state:u,data:x,error:o}=Ae(()=>b,[b],{headers:{accept:De.join(", ")}});(0,D.useEffect)(()=>{if(u===1&&x){let l=URL.createObjectURL(x);C(l)}},[u,x]),(0,D.useEffect)(()=>()=>{m&&URL.revokeObjectURL(m)},[m]);let N=(0,D.useCallback)(()=>{I?.()},[I]);(0,D.useEffect)(()=>{if(u===2){let l={code:"unknown"};o!==null&&typeof o=="object"&&"code"in o&&(l=o),s?.(l.code)}},[u,o,s]);let d=u===0,R=u===2;return(0,G.jsxs)("div",{className:j.container,"data-testid":"async-image-container",children:[R&&!d&&(0,G.jsx)("div",{className:j.errorContainer,"data-testid":"error-container",role:"status","aria-live":"assertive","aria-label":`Failed to load image: ${t}`,children:(0,G.jsx)(q,{name:"image",mode:"line",size:"2xl"})}),d&&(0,G.jsx)("div",{className:U(j.loadingContainer,_e.skeletonPulse),"data-testid":"loading-container",role:"status","aria-busy":"true","aria-label":`Loading image: ${t}`,"aria-live":"polite"}),!R&&m&&(0,G.jsx)("img",{ref:h,src:m,alt:t,onLoad:N,className:U(d?j.imageLoading:j.imageLoaded,n),loading:"lazy",decoding:"async",...g},b)]})}var ue={errorContent:"_8liNq",errorIcon:"_0ONWg",errorContentText:"Fq0yN"};var V=f(L(),1);function ie({onApprovedExplicitContent:e}){return(0,V.jsxs)("div",{className:ue.errorContent,children:[(0,V.jsx)(q,{name:"eye-off",mode:"line",className:ue.errorIcon}),(0,V.jsxs)("div",{className:ue.errorContentText,children:[(0,V.jsx)(H,{variant:Y.DEFAULT_SEMIBOLD,children:"Sensitive Content"}),(0,V.jsx)(H,{children:"This screenshot may contain sensitive content which some people may find offensive or disturbing."})]}),(0,V.jsx)(Me,{onClick:e,variant:re.DEFAULT,children:"View Screenshot"})]})}var p=f(F(),1);var de={x:0,y:0};var W={modal:"XvbTR",content:"XuD3d",modalControls:"FEzJ2",imageContainer:"mWJX-",image:"G974N",dragging:"Gii-6",thumbnails:"ZKbgW",explicitContentErrorContainer:"Cbvn5"};var X=f(F(),1);var pe=f(F(),1);function Be(e,t={inline:"center",block:"nearest"}){let n=Pe("(prefers-reduced-motion: reduce)"),a=(0,pe.useCallback)(()=>{if(!e.current)return;let I=n?"auto":"smooth";e.current.scrollIntoView?.({behavior:I,...t})},[e,t,n]);(0,pe.useEffect)(()=>{a()},[e,a])}var K={thumbnailButton:"iCUyJ",thumbnailLimit:"u9Plc",thumbnailImage:"PTRk1",selected:"v-VgN"};var z=f(L(),1);function Ze({screenshots:e,className:t,thumbnailFocusState:n,approvedExplicitContentIndexes:a,explicitContentErrorIndexes:I,onSelectedChange:s,onError:g,thumbnailWidth:m,thumbnailHeight:C,maxWidth:h,pendoId:E,moreScreenshotsCount:S=0,onOpenModal:b,hasContainerFocus:u=!1}){let x=(0,X.useRef)([]),o=n?.type==="thumbnail"?n.index:null;Be({current:o!==null?x.current[o]:null});let{handleImageError:N,explicitContentErrorIndexes:d,approvedExplicitContentIndexes:R}=J(e,o??0,a,I),l=(0,X.useCallback)((c,i)=>{N(c,i),g(c,i)},[N,g]),Z=(0,X.useCallback)(c=>{s(c)},[s,s]);return(0,z.jsxs)("div",{className:t,style:{maxWidth:h},role:"listbox","aria-label":"Screenshot thumbnails","aria-orientation":"horizontal",tabIndex:-1,children:[e.map((c,i)=>{let y=c.description??`Thumbnail of screenshot ${i+1} of ${e.length}`;return(0,z.jsx)("button",{type:"button",ref:_=>{x.current[i]=_},className:u&&i===o?U(K.thumbnailButton,K.selected):K.thumbnailButton,style:{minWidth:m,minHeight:C},"aria-label":`Show screenshot ${i+1} of ${e.length}`,"data-index":i,tabIndex:u&&i===o?0:-1,onClick:()=>Z(i),"data-pendoid":E,children:d.has(i)&&!R.has(i)?(0,z.jsx)(H,{children:(0,z.jsx)(q,{name:"eye-off",mode:"line"})}):(0,z.jsx)(se,{children:(0,z.jsx)($,{src:c.src,alt:y,className:K.thumbnailImage,style:{width:m,height:C},shouldShowExplicitContent:R.has(i),onError:_=>l(i,_)})})},c.src)}),S>0&&b&&(0,z.jsxs)("button",{"aria-label":"Show all screenshots",className:U(K.thumbnailLimit,u&&n?.type==="moreButton"?K.selected:""),onClick:b,style:{width:m,height:C},tabIndex:u&&n?.type==="moreButton"?0:-1,children:["+",S]})]})}var le=(0,X.memo)(Ze);var v=f(L(),1);function Ce({selectedIndex:e,screenshots:t,assetName:n,renderTitle:a,explicitContentErrorIndexes:I,approvedExplicitContentIndexes:s,isOpen:g,onClose:m,onApprovedExplicitContent:C}){let[h,E]=(0,p.useState)(1),[S,b]=(0,p.useState)(de),[u,x]=(0,p.useState)(!1),[o,N]=(0,p.useState)(de),[d,R]=(0,p.useState)(e),[l,Z]=(0,p.useState)(null),c=(0,p.useCallback)(()=>{if(l){let r=l.getBoundingClientRect();return{x:r.width/2,y:r.height/2}}return de},[l]),i=(0,p.useCallback)(()=>{E(r=>Math.min(r*1.25,5))},[]),y=(0,p.useCallback)(()=>{E(r=>Math.max(r/1.25,1))},[]),_=(0,p.useCallback)(()=>{E(1);let r=c();b(r)},[c]),te=(0,p.useCallback)(r=>{x(!0),N({x:r.clientX-S.x,y:r.clientY-S.y})},[S]),k=(0,p.useCallback)(r=>{u&&b({x:r.clientX-o.x,y:r.clientY-o.y})},[u,o]),T=(0,p.useCallback)(()=>{x(!1)},[]),A=(0,p.useCallback)(r=>{let Ie=r.deltaY>0?.9:1.1;E($e=>Math.max(1,Math.min($e*Ie,5)))},[]),{handleThumbnailClick:oe,handleKeyDown:fe}=me({screenshots:t,thumbnailFocusState:{type:"thumbnail",index:d},onThumbnailFocusChange:r=>{R(r)},onNavigation:_}),{handleShowExplicitContent:ne,handleImageError:w,explicitContentErrorIndexes:ye,approvedExplicitContentIndexes:ge}=J(t,d,s,I),ze=(0,p.useCallback)(r=>{ne(r),C(r)},[ne,C]);(0,p.useEffect)(()=>{let r=c();b(r)},[d,c]),(0,p.useEffect)(()=>{if(l){let r=new ResizeObserver(()=>{let Ie=c();b(Ie)});return r.observe(l),()=>r.disconnect()}},[c]),(0,p.useEffect)(()=>(R(e),()=>{R(e),_()}),[e]);let Te=Math.round(h*100),Fe=`translate(-50%, -50%) scale(${h}) translate(${S.x/h}px, ${S.y/h}px)`,qe=(0,p.useMemo)(()=>n?(0,v.jsx)(H,{variant:Y.H2,children:n}):a&&a(t[d]),[n,a,t,d]);return(0,v.jsx)(Le,{size:Ne.LARGE,contentProps:{className:W.modal,onKeyDown:r=>{r.stopPropagation(),fe(r)}},open:g,onOpenChange:r=>{r||m()},header:qe,footerActions:t.length>1&&(0,v.jsx)(le,{screenshots:t,className:W.thumbnails,thumbnailFocusState:{type:"thumbnail",index:d},approvedExplicitContentIndexes:ge,explicitContentErrorIndexes:ye,onSelectedChange:oe,onError:w,thumbnailWidth:64,thumbnailHeight:48,hasContainerFocus:!0}),children:(0,v.jsx)("div",{className:W.content,children:ye.has(d)&&!ge.has(d)?(0,v.jsx)("div",{className:W.explicitContentErrorContainer,children:(0,v.jsx)(ie,{onApprovedExplicitContent:()=>ze(d)})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:W.modalControls,children:[(0,v.jsx)(Ee,{iconName:"zoom-out",iconMode:"line",onClick:y,variant:re.GHOST,"aria-label":`Zoom out (current zoom: ${Te}%)`,disabled:h<=1,size:be.MEDIUM}),(0,v.jsx)(Ee,{iconName:"zoom-in",iconMode:"line",onClick:i,variant:re.GHOST,"aria-label":`Zoom in (current zoom: ${Te}%)`,disabled:h>=5,size:be.MEDIUM})]}),(0,v.jsx)("div",{ref:Z,className:W.imageContainer,onWheel:A,onMouseDown:te,onMouseMove:k,onMouseUp:T,onMouseLeave:T,children:(0,v.jsx)($,{src:t[d].src,alt:`Screenshot ${d+1} of ${t.length}`,className:U(W.image,u&&W.dragging),style:{transform:Fe},onError:r=>w(d,r),shouldShowExplicitContent:ge.has(d)})})]})})})}var O=f(L(),1);function he({assetName:e,renderTitle:t,screenshots:n,largeImagePendoId:a,thumbnailPendoId:I,thumbnailLimit:s,width:g=480}){let[m,C]=(0,P.useState)(!1),[h,E]=(0,P.useState)(null),[S,b]=(0,P.useState)(!1),u=(0,P.useRef)(null),x=(0,P.useRef)(!1);(0,P.useEffect)(()=>{if(x.current&&!m&&u.current){let w=setTimeout(()=>{u.current?.focus()},1);return()=>clearTimeout(w)}x.current=m},[m]);let o=h?.type==="thumbnail"?h.index:0,{imageHeight:N,thumbnailWidth:d,thumbnailHeight:R}=ke(g),{availableScreenshots:l,isImageLoading:Z,explicitContentErrorIndexes:c,approvedExplicitContentIndexes:i,handleImageError:y,handleImageLoad:_,resetFallbackIndex:te,handleShowExplicitContent:k}=J(n,o),T=(0,P.useMemo)(()=>s?l.slice(0,s):l,[l,s]),A=s?l.length>s:!1,oe=(0,P.useCallback)(()=>{x.current=!0,C(!0)},[]),{handleKeyDown:fe}=me({screenshots:T,thumbnailFocusState:h,onThumbnailFocusChange:w=>{E({type:"thumbnail",index:w}),te()},hasMoreScreenshots:A,onMoreButtonFocus:()=>{E({type:"moreButton"})},onMoreButtonClick:oe});if(!n?.length)return null;if(T.length===0)return(0,O.jsxs)("div",{className:B.noScreenshots,role:"status","aria-live":"polite","aria-label":"No screenshots available",style:{width:g,height:N},children:[(0,O.jsx)(q,{name:"file-damage",mode:"line",className:B.noScreenshotsIcon}),(0,O.jsx)(H,{children:"No screenshots available for this service"})]});let ne=T[o]??T[0];return(0,O.jsxs)("div",{ref:u,className:B.carouselContainer,role:"region","aria-label":"Screenshot carousel",tabIndex:0,onKeyDown:fe,onFocus:()=>b(!0),onBlur:()=>b(!1),children:[(0,O.jsx)("div",{className:B.largeImageContainer,style:{width:g,height:N},children:c.has(o)&&!i.has(o)?(0,O.jsx)("div",{className:B.explicitContentErrorContainer,children:(0,O.jsx)(ie,{onApprovedExplicitContent:()=>{u.current?.focus(),k(o)}})}):(0,O.jsx)("button",{type:"button",onClick:oe,className:B.largeImageButton,tabIndex:-1,"data-pendoid":a,children:(0,O.jsx)(se,{children:(0,O.jsx)($,{src:ne.src,alt:ne.description??`Screenshot ${o+1} of ${T.length}`,className:B.largeImage,onError:w=>y(o,w),onLoad:_,shouldShowExplicitContent:i.has(o)})})})}),T.length>1&&!Z&&(0,O.jsx)(le,{screenshots:T,className:B.thumbnails,thumbnailFocusState:h,approvedExplicitContentIndexes:i,onSelectedChange:w=>{E({type:"thumbnail",index:w}),te()},onError:y,thumbnailWidth:d,thumbnailHeight:R,maxWidth:g,pendoId:I,onOpenModal:oe,moreScreenshotsCount:A?l.length-T.length:0,hasContainerFocus:S}),(0,O.jsx)(Ce,{selectedIndex:o,screenshots:l,assetName:e,renderTitle:t,isOpen:m,onClose:()=>{C(!1)},explicitContentErrorIndexes:c,approvedExplicitContentIndexes:i,onApprovedExplicitContent:k})]})}var ve={container:"CQbsC",header:"_3uM1S"};var ee=f(L(),1);function Je({assetName:e,screenshots:t}){return(0,ee.jsxs)("div",{className:ve.container,children:[(0,ee.jsx)("div",{className:ve.header,children:(0,ee.jsx)(H,{variant:Y.H4,children:"Screenshots"})}),(0,ee.jsx)(he,{assetName:e,screenshots:t})]})}export{se as a,$ as b,Ce as c,he as d,Je as e};
