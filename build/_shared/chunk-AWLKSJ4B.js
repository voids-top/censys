import{A as I,pa as m,qa as y,ra as n,x as w,y as v,z as D}from"/censys/build/_shared/chunk-DN2SN5ZC.js";import{b as f}from"/censys/build/_shared/chunk-ZST4CTCB.js";import{a as P}from"/censys/build/_shared/chunk-MOHCJWAV.js";import{e as p}from"/censys/build/_shared/chunk-2TWE7TSA.js";var h={expandableTableWrapper:"L-Fg6",headerContent:"RFeM2",flexStart:"QfC83",flexStartPadded:"_7fd8o",hideOnSmallScreen:"B6imw"};var r=p(f(),1);function A({testId:o="expandable-table",className:t,headerCellClassName:a,columns:l,data:b,renderRow:E,sortSettings:u={},onSort:T}){if(!(!l||!b||!E))return(0,r.jsx)("div",{className:w(h.expandableTableWrapper,t),"data-testid":o,children:(0,r.jsxs)(n.Root,{children:[(0,r.jsx)(n.Header,{children:(0,r.jsx)(n.HeaderRow,{children:l.map(e=>(0,r.jsx)(n.HeaderCell,{className:w(a,e.hideOnSmallScreen&&h.hideOnSmallScreen),children:(0,r.jsxs)("div",{className:w(h.headerContent,e.className?h[e.className]:""),children:[(0,r.jsx)(I,{variant:D.DEFAULT_SEMIBOLD,children:e.label}),e.sortable!==!1&&T&&(0,r.jsx)("span",{"data-testid":`sort-${e.id}`,children:(0,r.jsx)(y,{value:u[e.id]||m.NONE,onChange:T(e.id)})})]})},e.id))})}),(0,r.jsx)(n.Body,{children:b.map((e,d)=>E(e,d))})]})})}var M=p(P(),1);var C=p(P(),1),O=p(f(),1),g=(0,C.createContext)(null);function W({isExpandable:o=!0,children:t}){let[a,l]=(0,C.useState)(!1),b=(0,C.useCallback)(()=>{o&&l(!a)},[o,a]),E=(0,C.useMemo)(()=>({isExpanded:a,isExpandable:o,handleExpand:b}),[a,o,b]);return(0,O.jsx)(g.Provider,{value:E,children:t})}function S(){let o=(0,C.useContext)(g);if(!o)throw new Error("ExpandableRow compound components must be used within ExpandableRow");return o}var i={tableRow:"pAwcK",expandableRow:"huy-Z",expandedRow:"RwaDX",expandCellContent:"i-Q-M",expandIcon:"rPpSp",leftPadding:"Yp71K",expandedCell:"_5thHd",expandedCellContent:"DnsRT"};var x=p(f(),1);function H({isExpandable:o=!0,...t}){return(0,x.jsx)(W,{isExpandable:o,children:(0,x.jsx)(G,{...t})})}function G({className:o,testId:t,onClick:a,expandedContent:l,expandedContentColSpan:b,children:E}){let{isExpanded:u,isExpandable:T,handleExpand:e}=S(),d=(0,M.useCallback)(s=>{e(),a?.(s)},[e,a]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.Row,{className:w(i.tableRow,T&&i.expandableRow,u&&i.expandedRow,o),"data-testid":t,onClick:d,children:E}),u&&l&&(0,x.jsx)(n.Row,{className:i.expandedRow,children:(0,x.jsx)(n.Cell,{className:i.expandedCell,colSpan:b,children:(0,x.jsx)("div",{className:i.expandedCellContent,children:l})})})]})}var N=p(f(),1);function B({className:o,children:t}){let{isExpandable:a,isExpanded:l}=S();return(0,N.jsx)(n.Cell,{className:w(o,!a&&i.leftPadding),children:(0,N.jsxs)("div",{className:i.expandCellContent,children:[a&&(0,N.jsx)(v,{name:l?"arrow-drop-up":"arrow-drop-down",mode:"line",size:"xl",className:i.expandIcon}),t]})})}var R=p(P(),1);function le(o,t){let[a,l]=(0,R.useState)({}),[b,E]=(0,R.useState)([]),u=(0,R.useCallback)(e=>()=>{l(d=>{let s=d[e],c={...d};return s===m.ASCENDING?c[e]=m.DESCENDING:s===m.DESCENDING?delete c[e]:c[e]=m.ASCENDING,c}),E(d=>{let s=d.filter(c=>c!==e);return e in a&&a[e]!==m.NONE?[e,...s]:[e,...d]})},[a]);return{sortedData:(0,R.useMemo)(()=>[...o].sort((e,d)=>{for(let s of b)if(s in a&&t[s]){let c=t[s].internalSort(e,d);if(c!==0)return a[s]===m.ASCENDING?c:-c}return 0}),[o,b,a,t]),sortSettings:a,getSortCallback:u}}export{A as a,H as b,B as c,le as d};
