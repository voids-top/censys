import{b as q}from"/censys/build/_shared/chunk-XSZMCSJH.js";import{a as K,b as X}from"/censys/build/_shared/chunk-NUPTSKAJ.js";import{b as V,e as W,f as $,s as B,u as G}from"/censys/build/_shared/chunk-YZ2VHXR4.js";import{a as Y}from"/censys/build/_shared/chunk-BI4XKJZW.js";import{a as R}from"/censys/build/_shared/chunk-WNJFRA3F.js";import{d as F}from"/censys/build/_shared/chunk-WJEUPJRQ.js";import{a as E}from"/censys/build/_shared/chunk-EZHABQF2.js";import{a as w,d as z}from"/censys/build/_shared/chunk-D5QEORL2.js";import{A as i,B as D,_ as M,da as _,qa as s,va as O,wa as k,x as A,z as v}from"/censys/build/_shared/chunk-GALQBYYN.js";import{a as U,c as h}from"/censys/build/_shared/chunk-XJAPXWKX.js";import{d as C}from"/censys/build/_shared/chunk-2QEWK57A.js";var c={countriesAndTableContainer:"Lxbty",mapCard:"nVYW0",tableCard:"_4y0JA",cardSubHeader:"DPfs1",mapHeader:"BqO9c",mapTitle:"X1T-V",logoContainer:"A9OCn"};var b=C(U(),1);var T={countriesMap:"rnWvO",countriesMapLegend:"t0D3X",countriesMapLegendGradient:"CEZZM",countriesMapLegendGradientItem:"Spv0n",zoomControls:"oSAsH"};var r=C(h(),1),J=2,j=6,Q="rgba(0, 0, 0, 0.5)",oo=t=>Math.pow(t,.2),eo=t=>Math.round(Math.pow(t,5));function S({countsByCountryCode:t,strokeColor:d,colorRange:g,label:u,dotColor:f=Q}){let{theme:p}=z(),{zoom:e}=$(),m=(0,b.useCallback)(({isoA2:l})=>oo(t[l]??0),[t]),y=(0,b.useMemo)(()=>p===w.DARK_MODE?g.dark:g.light,[p]),P=(0,b.useMemo)(()=>p===w.DARK_MODE?d.dark:d.light,[p]),N=(0,b.useMemo)(()=>{let l=0;for(let x of Object.values(t))x>l&&(l=x);return l},[t]),L=(0,b.useCallback)(()=>{e(.25)},[e]),I=(0,b.useCallback)(()=>{e(-.25)},[e]);return(0,r.jsxs)(V,{children:[(0,r.jsxs)("div",{className:T.countriesMap,children:[(0,r.jsx)(B,{getCount:m,dotRadiusMin:J,dotRadiusMax:j,dotColor:f,colorRange:[...y],strokeColor:P}),(0,r.jsxs)(k,{bodyPadding:O.NONE,className:T.countriesMapLegend,children:[(0,r.jsxs)(i,{variant:v.H5,children:["0 ",R(u,0)]}),(0,r.jsx)("div",{className:T.countriesMapLegendGradient,children:y.map((l,x)=>(0,r.jsx)("div",{className:T.countriesMapLegendGradientItem,style:{backgroundColor:l}},x))}),(0,r.jsxs)(i,{variant:v.H5,children:[N.toLocaleString()," ",R(u,N)]})]}),(0,r.jsxs)("div",{className:T.zoomControls,children:[(0,r.jsx)(_,{iconName:"zoom-out",iconMode:"line",variant:D.DEFAULT,"aria-label":"Zoom Out",onClick:I}),(0,r.jsx)(_,{iconName:"zoom-in",iconMode:"line",variant:D.DEFAULT,"aria-label":"Zoom In",onClick:L})]})]}),(0,r.jsx)(G,{className:T.tooltipContainer,render:({data:l})=>(0,r.jsx)(X,{children:(0,r.jsx)(K,{title:(0,r.jsx)(M,{value:eo(l?.count??0)}),subtitle:l?.name??""})}),offsetY:10})]})}var Z=C(U(),1);var a={countriesTable:"DrePL",tableRow:"u3ayN",flagIcon:"Ls-vl",tableCell:"_3-2a6",flagCell:"qOXgI",countCell:"pvcly",noResults:"opuYr"};var o=C(h(),1);function H({countsByCountryCode:t,otherCount:d,shouldDisplayOtherCount:g=!0,getUrlForCountry:u}){let f=(0,Z.useMemo)(()=>Object.entries(t).map(([e,m])=>({country:e,countryName:q(e.toLowerCase()),count:m,link:u(e)})),[t,u]),p=(0,Z.useMemo)(()=>Object.values(t).reduce((e,m)=>e+=m,g?d:0),[t,d]);return(0,o.jsx)("div",{className:a.countriesTable,children:f.length===0?(0,o.jsx)("div",{className:a.noResults,children:(0,o.jsx)(i,{children:"No results to display."})}):(0,o.jsx)(s.Root,{"data-testid":"countries-table",children:(0,o.jsxs)(s.Body,{children:[(0,o.jsxs)(s.Row,{className:a.tableRow,children:[(0,o.jsx)(s.Cell,{className:a.tableCell,children:(0,o.jsx)(i,{children:"All"})}),(0,o.jsx)(s.Cell,{className:A(a.countCell,a.tableCell),children:(0,o.jsx)(E,{href:u(),target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(M,{value:p})})})]},"all"),f.map(({country:e,countryName:m,count:y,link:P})=>{let N=e.toLowerCase();return(0,o.jsxs)(s.Row,{className:a.tableRow,children:[(0,o.jsxs)(s.Cell,{className:a.tableCell,children:[(0,o.jsx)(Y,{countryCode:N,className:a.flagIcon}),(0,o.jsx)(i,{children:m})]}),(0,o.jsx)(s.Cell,{className:A(a.countCell,a.tableCell),children:(0,o.jsx)(E,{href:P,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(M,{value:y})})})]},e)}),g&&(0,o.jsxs)(s.Row,{className:a.tableRow,children:[(0,o.jsx)(s.Cell,{className:a.tableCell,children:(0,o.jsx)(i,{children:"Remaining Results"})}),(0,o.jsx)(s.Cell,{className:A(a.countCell,a.tableCell),children:(0,o.jsx)(i,{children:(0,o.jsx)(M,{value:d??0})})})]},"other")]})})})}var n=C(h(),1);function to({countsByCountryCode:t,strokeColor:d,colorRange:g,dotColor:u,getUrlForCountry:f,label:p,bucketCount:e,renderMap:m=!0,mapTitle:y,tableTitle:P,otherCount:N,shouldDisplayOtherCount:L=!0}){let I=e<200?`Top ${e} `:"",l=y??`${I}${R("Country",e)} by ${p} Count`;return(0,n.jsxs)("div",{className:c.countriesAndTableContainer,children:[(0,n.jsxs)(k,{bodyPadding:O.NONE,className:c.mapCard,children:[(0,n.jsxs)("div",{className:c.mapHeader,children:[(0,n.jsx)(i,{variant:v.H4,className:c.mapTitle,children:l}),(0,n.jsx)("div",{className:c.logoContainer,children:(0,n.jsx)(F,{})})]}),m&&(0,n.jsx)(W,{children:(0,n.jsx)(S,{countsByCountryCode:t,strokeColor:d,colorRange:g,label:p,dotColor:u})})]}),(0,n.jsxs)(k,{bodyPadding:O.NONE,className:c.tableCard,children:[(0,n.jsx)(i,{variant:v.H4,className:c.cardSubHeader,children:P??`Country and Total ${R(p,10)}`}),(0,n.jsx)(H,{countsByCountryCode:t,otherCount:N,shouldDisplayOtherCount:L,getUrlForCountry:f})]})]})}export{to as a};
