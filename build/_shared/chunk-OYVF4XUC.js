import{a as x}from"/censys/build/_shared/chunk-5NXROAJD.js";import{a as b}from"/censys/build/_shared/chunk-H6D6H4VM.js";import{a as D}from"/censys/build/_shared/chunk-O3SGPCPK.js";import{a as N}from"/censys/build/_shared/chunk-CJIEOTRC.js";import{b as L}from"/censys/build/_shared/chunk-JBBGPRTD.js";import{a as R}from"/censys/build/_shared/chunk-XNRXIZZA.js";import{A as f,B as g,C as y,Ta as S,aa as C,ua as T,va as v}from"/censys/build/_shared/chunk-UYH4GQ7Z.js";import{c as d,m,p as h}from"/censys/build/_shared/chunk-Q6RLBVJI.js";import{a as H,c as u}from"/censys/build/_shared/chunk-XJAPXWKX.js";import{d as s}from"/censys/build/_shared/chunk-2QEWK57A.js";var e=s(H(),1);var a={reportDataBody:"VZ9Kb",reportDataHeader:"X-DWe",reportDataTitleRow:"sZiTf",reportDataSubheader:"zI234",reportDataTitleRowRight:"fens-",outletContainer:"NMSD9",searchBar:"TeM2e",searchBarInput:"VVwW-"};var t=s(u(),1);function M(){let B=d(),[r]=h(),o=R(),i=B.pathname.endsWith("/table"),[p,c]=(0,e.useState)(""),E=(0,e.useMemo)(()=>{let n=r.toString();return n?`?${n}`:""},[r]),l=D({value:p,delay:250}),w=(0,e.useCallback)(n=>{c(n.currentTarget.value)},[]),V=(0,e.useCallback)(()=>{c("")},[]),O=(0,e.useMemo)(()=>({...o,searchTerm:l}),[o,l]),k=(0,e.useCallback)(()=>N(JSON.stringify({query:r.get("q")||"",field:r.get("field"),...o.aggregation},L,4)),[o.aggregation]);return(0,t.jsx)(v,{bodyPadding:T.NONE,children:(0,t.jsx)("div",{className:a.reportDataBody,children:(0,t.jsxs)("div",{className:a.reportDataHeader,children:[(0,t.jsxs)("div",{className:a.reportDataTitleRow,children:[(0,t.jsx)(g,{variant:f.H2,children:"Generated Report"}),(0,t.jsxs)("div",{className:a.reportDataTitleRowRight,children:[i&&(0,t.jsx)("div",{className:a.searchBar,children:(0,t.jsx)(x,{value:p,onChange:w,onClear:V,placeholder:"Search Results...",className:a.searchBarInput})}),(0,t.jsx)(b,{activeState:i?"left":"right",title:`Link to report ${i?"json":"table"} data view`,href:`../data/${i?"json":"table"}${E}`,leftText:"Table",rightText:"JSON"}),(0,t.jsx)(S,{content:"Copy report JSON data",children:(0,t.jsx)(C,{"data-testid":"copy-json",variant:y.DEFAULT,iconLeft:"file-copy-2",iconLeftMode:"line",onClick:k,children:"Copy"})})]})]}),(0,t.jsx)("div",{className:a.outletContainer,children:(0,t.jsx)(m,{context:O})})]})})})}export{M as a};
