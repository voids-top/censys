import{a as ae}from"/censys/build/_shared/chunk-TML7PS4H.js";import{b as L}from"/censys/build/_shared/chunk-DT7XMIXP.js";import{a as re}from"/censys/build/_shared/chunk-SZRPTSUZ.js";import{d as oe}from"/censys/build/_shared/chunk-OKZWZKQL.js";import{f as ee,m as te}from"/censys/build/_shared/chunk-B5UNN2SO.js";import{c as z}from"/censys/build/_shared/chunk-EMHGEENV.js";import{a as X}from"/censys/build/_shared/chunk-TTVDHAYB.js";import{h as Q}from"/censys/build/_shared/chunk-ST66DGSY.js";import{D as K,a as l,b as j}from"/censys/build/_shared/chunk-QJVHIZ52.js";import{$ as q,A as m,B as $,Xa as J,sb as G,x as Y,y as u,z as Z}from"/censys/build/_shared/chunk-DN2SN5ZC.js";import{c as V}from"/censys/build/_shared/chunk-F5K75D4K.js";import{b as U}from"/censys/build/_shared/chunk-JMZ2MZXD.js";import{b as a}from"/censys/build/_shared/chunk-ZST4CTCB.js";import{a as k}from"/censys/build/_shared/chunk-MOHCJWAV.js";import{e as r}from"/censys/build/_shared/chunk-2TWE7TSA.js";var T=r(k(),1);var p={expandingTransitionTimeMs:"300ms",summaryOverviewContainer:"_3TJzd",headerSection:"ZKoZV",headerContainer:"OAJCB",summaryHeaderPanel:"TivsM",expandedSummaryHeaderPanel:"Cax7j",expandedContentContainer:"s6jzg",controlContainer:"_0BF0m"};var N={panelControlTab:"lPpjE",trapezoid:"D0CUI",content:"_19YJK"};var h=r(a(),1);function w({isExpanded:e,...t}){return(0,h.jsx)("button",{"data-testid":"panelControl",className:N.panelControlTab,...t,children:(0,h.jsx)("div",{className:N.trapezoid,children:(0,h.jsx)("span",{className:N.content,children:e?(0,h.jsx)(u,{name:"arrow-up-s",mode:"line","aria-hidden":!0}):(0,h.jsx)(u,{name:"arrow-down-s",mode:"line","aria-hidden":!0})})})})}var A={breadcrumbHeader:"eaAIR",breadcrumbSeparator:"mqxM3",trailLink:"_7vlnY"};var f=r(a(),1);function B({children:e}){let t=K();return t?.lastSearch?(0,f.jsx)(he,{children:e,location:t.lastSearch}):e}function he({children:e,location:t}){let i=U(t);return(0,f.jsxs)("div",{className:A.breadcrumbHeader,children:[e,e&&(0,f.jsx)(m,{"aria-hidden":!0,className:A.breadcrumbSeparator,children:"/"}),(0,f.jsxs)(X,{size:"sm",href:i,"aria-label":"Back to search results",className:A.trailLink,"data-testid":"results-breadcrumb-link",children:[(0,f.jsx)(u,{"aria-hidden":!0,icon:"arrow-left-s-line"}),"Results"]})]})}var s=r(a(),1);function Ce({header:e,children:t,toggle:i,shouldShowControls:n=!0,isCollapsed:o,assetType:c,iconName:I,description:P}){let[S,H]=(0,T.useState)(!o),[O,D]=(0,T.useState)(!o);return(0,T.useEffect)(()=>{D(!o);let g=parseInt(p.expandingTransitionTimeMs),b=setTimeout(()=>H(!o),o?g:0);return()=>clearTimeout(b)},[o]),(0,s.jsxs)("div",{className:p.summaryOverviewContainer,id:oe,children:[(0,s.jsxs)("div",{className:p.headerContainer,children:[(0,s.jsx)(re,{assetType:c,iconName:I,description:P}),(0,s.jsxs)("div",{className:p.headerSection,children:[(0,s.jsx)(B,{}),e]})]}),(0,s.jsx)("div",{role:"region",id:"summaryHeaderPanel","aria-labelledby":"summaryHeaderToggle",className:Y(p.summaryHeaderPanel,O&&p.expandedSummaryHeaderPanel),children:S&&(0,s.jsx)("div",{className:p.expandedContentContainer,children:t})}),n&&(0,s.jsx)("div",{className:p.controlContainer,children:(0,s.jsx)(w,{isExpanded:!o,onClick:i,"aria-expanded":!o,"aria-controls":"summaryHeaderPanel","aria-label":o?"Expand Content":"Collapse Content",id:"summaryHeaderToggle","data-testid":"panelControl"})})]})}var W=r(a(),1);function Te({canViewCenseye:e,targetRoute:t,routePattern:i}){let{t:n}=V(),o=Q("th-censeye-historical");return e?o?(0,W.jsx)(L,{id:"discoverPivotsV2","data-testid":"discoverPivotsV2",to:`${t}/pivots`,routePattern:`${i}/pivots`,prefetch:"none",shouldPreserveQueryParams:!1,children:n("Discover Pivots")}):(0,W.jsx)(L,{id:"discoverPivots","data-testid":"discoverPivots",to:`${t}/pivots`,routePattern:`${i}/pivots`,prefetch:"none",shouldPreserveQueryParams:!1,children:n("Discover Pivots")}):null}var _={icon:"qX3fS",heading:"-Z4Pd"};var E=r(a(),1);function ye({iconName:e,children:t}){return(0,E.jsxs)(m,{className:_.heading,children:[(0,E.jsx)(u,{className:_.icon,name:e,mode:"line",size:"md","aria-hidden":!0}),t]})}var y={popoverContent:"_6WfqS",popover:"_8o7WH",popoverWrapper:"jljS2",dismissButton:"mHNGe"};var v=r(a(),1),Pe={["web"]:{disclosureText:"WEB PROPERTY",popoverContent:(0,v.jsx)(m,{children:"An HTTP-based service with deep scan information that is referenced by a host-name and port."}),popoverTitle:"What is a web property?"},["certificate"]:{disclosureText:"CERTIFICATE",popoverContent:(0,v.jsx)(m,{children:"A digital dataset that verifies the identify of an entity and enables secure communication via encryption and authentication."}),popoverTitle:"What is a certificate?"},["host"]:{disclosureText:"HOST",popoverContent:(0,v.jsx)(m,{children:"A network-connected device that has an IP address. Results may contain associated information such as services running, Geolocation, and WHOIS data."}),popoverTitle:"What is a host?"}},Se={popover:y.popover,contentWrapper:y.popoverWrapper,dismissButton:y.dismissButton};function ge({assetType:e}){let t=j(),{disclosureText:i,popoverContent:n,popoverTitle:o}=Pe[e],c=(0,v.jsx)(ae,{children:i});return t?(0,v.jsx)(G,{customClassNames:Se,title:o,trigger:c,contentProps:{align:"start"},"aria-label":o,isDismissible:!0,hasArrow:!0,children:(0,v.jsx)("div",{className:y.popoverContent,children:n})}):c}var ne={headerText:"BzmF-"};var ie=r(a(),1);function be({children:e}){return(0,ie.jsx)(m,{className:ne.headerText,variant:Z.DEFAULT_NUMERAL,"data-testid":"summary-overview-header-text",children:e})}var le=r(k(),1);var se={};var C=l.object({id:l.string(),name:l.string(),createdAt:l.string()}),me=l.record(l.string(),C);function ce(e){let t=Temporal.Now.instant().toZonedDateTimeISO("UTC");return Object.fromEntries(Object.entries(e).filter(([i,n])=>{let o=C.safeParse(n);return o.success?Temporal.ZonedDateTime.compare(t,Temporal.Instant.from(o.data.createdAt).toZonedDateTimeISO("UTC").add({days:7}))<0:!1}))}function de(e,t){if(!e)return;let i=t&&e?t[e]:void 0;if(!i)return;let n=C.safeParse(i);if(n.success){let o=Temporal.Now.instant().toZonedDateTimeISO("UTC"),c=Temporal.Instant.from(n.data.createdAt).toZonedDateTimeISO("UTC").add({days:7});if(Temporal.ZonedDateTime.compare(o,c)<0)return{...n.data,lastUpdated:n.data.createdAt,summary:""}}}var d=r(a(),1);function xe({localStorageKey:e,cacheKey:t,prompt:i,source:n,dataPendoId:o,tooltipText:c,children:I}){let{startChat:P,openChat:S,chatPanelState:H,isOpen:O}=te(),[D,g]=ee(se,e,me),b=H.messageStream.isActive&&O,R=de(t,D),ue=(0,le.useCallback)(async M=>{if(M.preventDefault(),R){S(R);return}let fe=new FormData(M.currentTarget);await P(fe).then(x=>{if(x&&t){let F=C.safeParse({id:x.conversationId,name:x.conversationTitle,createdAt:x.completedAt});F.success&&g(ve=>({...ce(ve),[t]:F.data}))}})},[P,S,g,t,R]);return(0,d.jsxs)("form",{onSubmit:ue,"data-testid":"cached-conversation-pivot",children:[(0,d.jsx)(z,{}),(0,d.jsx)("input",{type:"hidden",name:"prompt",value:i}),(0,d.jsx)("input",{type:"hidden",name:"source",value:n}),(0,d.jsx)(J,{content:b?"Thinking...":c||"Open in Censys Assistant",tabIndex:-1,children:(0,d.jsx)(q,{type:"submit","data-pendoid":o,variant:$.DEFAULT,iconLeft:"sparkling-2",iconLeftMode:"fill",disabled:b,children:I||"Open Chat"})})]})}export{Ce as a,Te as b,ye as c,ge as d,be as e,xe as f};
