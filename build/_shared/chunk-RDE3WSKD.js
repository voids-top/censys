import{b as Y}from"/censys/build/_shared/chunk-XSZMCSJH.js";import{a as V,b as B}from"/censys/build/_shared/chunk-V6YEAJYZ.js";import{b as F,e as W,f as $,s as G,u as K}from"/censys/build/_shared/chunk-YZ2VHXR4.js";import{a as X}from"/censys/build/_shared/chunk-Q3AERUF4.js";import{a as v}from"/censys/build/_shared/chunk-WNJFRA3F.js";import{a as E}from"/censys/build/_shared/chunk-W2GUOEY7.js";import{a as w,d as z}from"/censys/build/_shared/chunk-FH7VNUY3.js";import{A as h,B as l,C as D,_ as M,da as _,qa as s,ua as O,va as k,y as A}from"/censys/build/_shared/chunk-UYH4GQ7Z.js";import{a as U,c as N}from"/censys/build/_shared/chunk-XJAPXWKX.js";import{d as c}from"/censys/build/_shared/chunk-2QEWK57A.js";var R={countriesAndTableContainer:"Lxbty",mapCard:"nVYW0",tableCard:"_4y0JA",cardSubHeader:"DPfs1"};var C=c(U(),1);var g={countriesMap:"rnWvO",countriesMapLegend:"t0D3X",countriesMapLegendGradient:"CEZZM",countriesMapLegendGradientItem:"Spv0n",zoomControls:"oSAsH"};var r=c(N(),1),q=2,J=6,j="rgba(0, 0, 0, 0.5)",Q=t=>Math.pow(t,.2),oo=t=>Math.round(Math.pow(t,5));function S({countsByCountryCode:t,strokeColor:u,colorRange:b,label:d,dotColor:T=j}){let{theme:i}=z(),{zoom:e}=$(),m=(0,C.useCallback)(({isoA2:n})=>Q(t[n]??0),[t]),f=(0,C.useMemo)(()=>i===w.DARK_MODE?b.dark:b.light,[i]),P=(0,C.useMemo)(()=>i===w.DARK_MODE?u.dark:u.light,[i]),y=(0,C.useMemo)(()=>{let n=0;for(let x of Object.values(t))x>n&&(n=x);return n},[t]),I=(0,C.useCallback)(()=>{e(.25)},[e]),L=(0,C.useCallback)(()=>{e(-.25)},[e]);return(0,r.jsxs)(F,{children:[(0,r.jsxs)("div",{className:g.countriesMap,children:[(0,r.jsx)(G,{getCount:m,dotRadiusMin:q,dotRadiusMax:J,dotColor:T,colorRange:[...f],strokeColor:P}),(0,r.jsxs)(k,{bodyPadding:O.NONE,className:g.countriesMapLegend,children:[(0,r.jsxs)(l,{variant:h.H5,children:["0 ",v(d,0)]}),(0,r.jsx)("div",{className:g.countriesMapLegendGradient,children:f.map((n,x)=>(0,r.jsx)("div",{className:g.countriesMapLegendGradientItem,style:{backgroundColor:n}},x))}),(0,r.jsxs)(l,{variant:h.H5,children:[y.toLocaleString()," ",v(d,y)]})]}),(0,r.jsxs)("div",{className:g.zoomControls,children:[(0,r.jsx)(_,{iconName:"zoom-out",iconMode:"line",variant:D.DEFAULT,"aria-label":"Zoom Out",onClick:L}),(0,r.jsx)(_,{iconName:"zoom-in",iconMode:"line",variant:D.DEFAULT,"aria-label":"Zoom In",onClick:I})]})]}),(0,r.jsx)(K,{className:g.tooltipContainer,render:({data:n})=>(0,r.jsx)(B,{children:(0,r.jsx)(V,{title:(0,r.jsx)(M,{value:oo(n?.count??0)}),subtitle:n?.name??""})}),offsetY:10})]})}var Z=c(U(),1);var a={countriesTable:"DrePL",tableRow:"u3ayN",flagIcon:"Ls-vl",tableCell:"_3-2a6",flagCell:"qOXgI",countCell:"pvcly",noResults:"opuYr"};var o=c(N(),1);function H({countsByCountryCode:t,otherCount:u,shouldDisplayOtherCount:b=!0,getUrlForCountry:d}){let T=(0,Z.useMemo)(()=>Object.entries(t).map(([e,m])=>({country:e,countryName:Y(e.toLowerCase()),count:m,link:d(e)})),[t,d]),i=(0,Z.useMemo)(()=>Object.values(t).reduce((e,m)=>e+=m,b?u:0),[t,u]);return(0,o.jsx)("div",{className:a.countriesTable,children:T.length===0?(0,o.jsx)("div",{className:a.noResults,children:(0,o.jsx)(l,{children:"No results to display."})}):(0,o.jsx)(s.Root,{"data-testid":"countries-table",children:(0,o.jsxs)(s.Body,{children:[(0,o.jsxs)(s.Row,{className:a.tableRow,children:[(0,o.jsx)(s.Cell,{className:a.tableCell,children:(0,o.jsx)(l,{children:"All"})}),(0,o.jsx)(s.Cell,{className:A(a.countCell,a.tableCell),children:(0,o.jsx)(E,{href:d(),target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(M,{value:i})})})]},"all"),T.map(({country:e,countryName:m,count:f,link:P})=>{let y=e.toLowerCase();return(0,o.jsxs)(s.Row,{className:a.tableRow,children:[(0,o.jsxs)(s.Cell,{className:a.tableCell,children:[(0,o.jsx)(X,{countryCode:y,className:a.flagIcon}),(0,o.jsx)(l,{children:m})]}),(0,o.jsx)(s.Cell,{className:A(a.countCell,a.tableCell),children:(0,o.jsx)(E,{href:P,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(M,{value:f})})})]},e)}),b&&(0,o.jsxs)(s.Row,{className:a.tableRow,children:[(0,o.jsx)(s.Cell,{className:a.tableCell,children:(0,o.jsx)(l,{children:"Remaining Results"})}),(0,o.jsx)(s.Cell,{className:A(a.countCell,a.tableCell),children:(0,o.jsx)(l,{children:(0,o.jsx)(M,{value:u??0})})})]},"other")]})})})}var p=c(N(),1);function ro({countsByCountryCode:t,strokeColor:u,colorRange:b,dotColor:d,getUrlForCountry:T,label:i,bucketCount:e,renderMap:m=!0,mapTitle:f,tableTitle:P,otherCount:y,shouldDisplayOtherCount:I=!0}){let L=e<200?`Top ${e} `:"",n=f??`${L}${v("Country",e)} by ${i} Count`;return(0,p.jsxs)("div",{className:R.countriesAndTableContainer,children:[(0,p.jsxs)(k,{bodyPadding:O.NONE,className:R.mapCard,children:[(0,p.jsx)(l,{variant:h.H4,className:R.cardSubHeader,children:n}),m&&(0,p.jsx)(W,{children:(0,p.jsx)(S,{countsByCountryCode:t,strokeColor:u,colorRange:b,label:i,dotColor:d})})]}),(0,p.jsxs)(k,{bodyPadding:O.NONE,className:R.tableCard,children:[(0,p.jsx)(l,{variant:h.H4,className:R.cardSubHeader,children:P??`Country and Total ${v(i,10)}`}),(0,p.jsx)(H,{countsByCountryCode:t,otherCount:y,shouldDisplayOtherCount:I,getUrlForCountry:T})]})]})}export{ro as a};
