import{a as h}from"/censys/build/_shared/chunk-P2FXGQA2.js";import{f as p}from"/censys/build/_shared/chunk-FH7VNUY3.js";import{a as R}from"/censys/build/_shared/chunk-XJAPXWKX.js";import{d as f}from"/censys/build/_shared/chunk-2QEWK57A.js";var D=f(R(),1);var F={latestDeps:null,state:0,data:null,error:null};function w(n,s,e){let o=p(),[a,r]=(0,D.useState)(F),t=[...s,o?.organizationId];return(0,D.useEffect)(()=>{let i=new AbortController;return async function(){try{let l=await b(n,i,o?.organizationId,e);if(!l)return;let{data:u,res:d}=l;d.ok?r({latestDeps:t,data:u,error:null,state:1}):r({latestDeps:t,data:null,error:u,state:2})}catch(l){i.signal.aborted||r({latestDeps:t,data:null,error:l,state:2})}}(),()=>{i.abort()}},t),{data:a.data,error:a.error,state:!a.latestDeps||!O(a.latestDeps,t)?0:a.state}}function O(n,s){for(let e=0;e<n.length;e++)if(n[e]!==s[e])return!1;return!0}async function b(n,s,e,o){let a=new URL(n(),typeof window>"u"?"http://localhost":window.location.origin);!a.searchParams.has(h)&&e&&a.searchParams.set(h,e);let r=new Headers;o?.headers?Object.entries(o.headers).forEach(([l,u])=>{r.set(l,u)}):r.set("Accept","application/json");let t=await fetch(a,{headers:r,signal:s.signal,...o}),i=t.headers.get("Content-Type"),c;if(i==="application/json"?c=await t.json():c=await t.blob(),!s.signal.aborted)return{data:c,res:t}}export{w as a,b};
