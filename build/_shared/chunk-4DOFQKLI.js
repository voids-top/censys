import{h as Hr}from"/censys/build/_shared/chunk-MB47ZWHU.js";import{a as Ke}from"/censys/build/_shared/chunk-WK35ORSL.js";import{a as P}from"/censys/build/_shared/chunk-XTODG4BZ.js";import{a as At,b as bt,e as zr,n as $r}from"/censys/build/_shared/chunk-426SZY5O.js";import{a as Nt}from"/censys/build/_shared/chunk-TTVDHAYB.js";import{a as Vn,b as Pr,d as Ur,e as kt}from"/censys/build/_shared/chunk-6EMU7K4F.js";import{b as ne,f as qe}from"/censys/build/_shared/chunk-ZP3FOFQD.js";import{a as pt,b as Dr}from"/censys/build/_shared/chunk-E7FS2ZQL.js";import{c as Ze,e as Lr,f as Rt,g as Mr,h as dt}from"/censys/build/_shared/chunk-ST66DGSY.js";import{B as Br,a as yr,x as mt}from"/censys/build/_shared/chunk-QJVHIZ52.js";import{a as $n}from"/censys/build/_shared/chunk-N7X32FEJ.js";import{$ as te,A as k,B as C,U as Cr,V as Rr,_ as It,ab as Or,la as Nr,n as _r,o as vr,oa as kr,ob as wr,p as Tr,pb as re,q as Ft,qb as Ct,r as jt,rb as Ne,t as xr,u as Er,v as Sr,w as Ir,wa as Ar,x as j,xa as br,y as w,z as Q}from"/censys/build/_shared/chunk-DN2SN5ZC.js";import{c as z}from"/censys/build/_shared/chunk-F5K75D4K.js";import{c as We}from"/censys/build/_shared/chunk-44DVAK2X.js";import{C as gr,c as ve,e as mr,i as fr,p as Et,q as St,t as hr}from"/censys/build/_shared/chunk-JMZ2MZXD.js";import{b as _}from"/censys/build/_shared/chunk-ZST4CTCB.js";import{a as D}from"/censys/build/_shared/chunk-MOHCJWAV.js";import{d as Hn,e as f}from"/censys/build/_shared/chunk-2TWE7TSA.js";var U={container:"iYI-J",content:"WVmCG",icon:"TTvf8",header:"_81kSg",errorText:"koNqI",errorActions:"T62Vm"};var ke=f(_(),1);function Wt({children:r,iconName:e,iconMode:t="fill",header:n,title:a,...s}){return(0,ke.jsxs)("div",{...s,className:j(U.container,s.className),children:[e&&(0,ke.jsx)(w,{"aria-hidden":!0,className:U.icon,mode:t,name:e}),n&&(0,ke.jsx)(k,{variant:Q.H1,className:j(U.errorText,U.header),children:n}),(0,ke.jsx)(k,{variant:Q.H1_SUB_HEADLINE,className:U.errorText,children:a}),(0,ke.jsx)(k,{className:j(U.errorText,U.container,U.content),children:r})]})}var Vr=f(D(),1);function Gr(){let r=Rt(),e=mr();return(0,Vr.useCallback)((t,n)=>{if(typeof t=="number")e(t);else{let a=window.location.origin,s=typeof t=="string"?new URL(t,a):new URL(`${t.pathname||""}${t.search||""}${t.hash||""}`,a);r&&!s.searchParams.has(pt)&&s.searchParams.set(pt,r.organizationId),e({hash:s.hash,pathname:s.pathname,search:`?${s.searchParams.toString()}`},n)}},[r,e])}function Fr(r){let e=[];return r.labels&&e.push(...r.labels.map(t=>({key:"label",value:t.value})).filter(t=>Ke(t.value))),r.services&&r.services.forEach(t=>{t.labels&&e.push(...t.labels.map(n=>({key:"label",value:n.value})).filter(n=>Ke(n.value))),t.threats&&e.push(...t.threats.map(n=>({key:"threat",value:n.name})).filter(n=>Ke(n.value)))}),e}function Fn(r){let e=[];return r.labels&&e.push(...r.labels.map(t=>({key:"label",value:t.value}))),r.threats&&e.push(...r.threats.map(t=>({key:"threat",value:t.name}))),e}function jn(r){return r?r.map(e=>({key:"label",value:e})):[]}function jr(r){let e=new Set,t=[];for(let n of r){let a=`${n.key}:${n.value}`;!e.has(a)&&n.value&&(e.add(a),t.push(n))}return t.sort((n,a)=>{if(n.key!==a.key){if(n.key==="threat")return-1;if(a.key==="threat")return 1}return n.value.localeCompare(a.value)})}function Ls(r){let e=Fr(r);return jr(e)}function Wr(r){if(!r)return null;let e=[],t,n;if(r.host?.host)t="host",n=r.host.host.ip,e=Fr(r.host.host);else if(r.web?.web)t="web",n=`${r.web.web.hostname}:${r.web.web.port}`,e=Fn(r.web.web);else if(r.certificate)t="cert",n=r.certificate.certificate.fingerprint_sha256,e=jn(r.certificate.labels);else return null;return{assetType:t,assetId:n,tags:jr(e)}}var Lt=f(D(),1);var Zr=f(D(),1);var Kr=f(_(),1);function qr({investigationName:r,variant:e=C.PRIMARY,className:t,onClick:n}){let{isSubmitting:a,createInvestigation:s}=Yr(r),i=(0,Zr.useCallback)(()=>{s(),n?.()},[s,n]);return(0,Kr.jsx)(te,{variant:e,onClick:i,iconLeft:"add",iconLeftMode:"line","aria-label":"Create Investigation",className:t,isLoading:a,children:a?"Creating...":"Create Investigation"})}var Te=f(D(),1);var Xr=f(_(),1);function Qr({assetType:r,assetId:e,investigationName:t,query:n}){let a=fr(),[s]=Et(),i=St(),{t:o}=z(),[u,l]=(0,Te.useState)(!1),y=Ot(),N=(0,Te.useMemo)(()=>!n&&!(e&&r),[e,r,n]),ee=(0,Te.useCallback)(()=>{let R=s.get("org");if(!R||N)return;let je=new FormData;je.append("investigationName",t),n&&je.append("query",n),e&&r&&(je.append("assetId",e),je.append("assetType",r)),i(je,{method:"post",action:`/api/investigations/create?org=${R}`})},[e,r,t,n,N,s,i]);return(0,Te.useEffect)(()=>{a.state==="submitting"?l(!0):a.state==="idle"&&l(!1)},[a.state]),N||!y?null:(0,Xr.jsx)(te,{variant:C.DEFAULT,onClick:ee,disabled:u,iconLeft:"node-tree",iconLeftMode:"",children:u?`${o("Investigating...",{ns:"investigation"})}`:`${o("Start Investigation",{ns:"investigation"})}`})}var Zn=f($n(),1);var Zt="New Investigation",wt="investigationName",Wn={[wt]:yr.string({error:r=>r.input===void 0?"Investigation name is required.":void 0}).min(1,{error:"Investigation name is required."}).max(100,{error:"Investigation name must be less than 100 characters."})};function ui(r,e){switch(r){case"host":return mt({kind:0,field:"host.ip",value:e});case"web":{let t=Hr(e);if(!t)return null;let n=mt({kind:0,field:"web.hostname",value:t.hostname}),a=mt({kind:0,field:"web.port",value:t.port});return Br(n,a,"and",!1,!1)}case"cert":return mt({kind:0,field:"cert.fingerprint_sha256",value:e});default:return null}}function li(r){return r?Wr(r):null}function di(r,e){return`asset-${r}-${e}`}async function pi(r){let t=new TextEncoder().encode(r),n=await window.crypto.subtle.digest("SHA-256",t);return`query-${Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}`}function mi(r,e){return`group-${r}-${e}`}function fi(r,e){let t=!1;for(let i of e)if(i.title===r){t=!0;break}if(!t)return r;let n=new Set,a=new RegExp(`^${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")} \\((\\d+)\\)$`);for(let i of e){let o=i.title.match(a);if(o){let u=parseInt(o[1],10);n.add(u)}}let s=2;for(;n.has(s);)s++;return`${r} (${s})`}function Ot(){let[r]=qe([11]),[e]=qe([13]),[t]=qe([16]);return Boolean(r&&e&&t&&dt("th-graphical-explorer"))}function Yr(r){let[e]=Et(),t=St(),[n,a]=(0,Lt.useState)(!1),s=(0,Lt.useCallback)(()=>{let i=e.get("org"),o=new FormData;o.append(wt,r||Zt),a(!0),t(o,{method:"post",action:`/investigate?index&org=${i}`})},[r,e,t]);return{isSubmitting:n,createInvestigation:s}}function Jr(){return gr()}var en=f(_(),1);function qt({...r}){let e=Gr(),t=ve(),n=()=>e(t,{replace:!0});return(0,en.jsx)(te,{...r,variant:r.variant||C.DEFAULT,onClick:n,children:"Refresh"})}var Yn="https://censys.com/contact-us-enterprise",Qn="https://censys.com/search-pricing",Xn="/settings/plan/",tn=r=>`${r?.SUPPORT_SITE_URL||"https://docs.censys.com"}/docs/data-access-tiers-entitlements`,Mt=r=>Yn,Ii=r=>Qn,rn=r=>`${r.SUPPORT_SITE_URL}/docs/data-access-tiers-entitlements`,nn=r=>`${r.ACCOUNTS_SITE_URL}${Xn}`;var an=f(_(),1);function Dt(){let r=ne("ACCOUNTS_SITE_URL");return(0,an.jsx)(P,{link:{to:`${r}/settings/plan`,isExternal:!0,shouldOmitOrg:!1},button:{iconLeft:"shopping-cart",iconLeftMode:"line"},children:"Buy Credits"})}var sn=f(D(),1);var on=f(_(),1);function Pt(){let r=(0,sn.useContext)(We);return(0,on.jsx)(P,{link:{isExternal:!0,to:Mt(r)},button:{iconLeft:"user-2",iconLeftMode:"line",variant:C.PRIMARY},children:"Contact Sales"})}var un=f(D(),1);function cn(r,e){let t=new URL(e,r);return t.protocol="https",t.toString()}function ln(r){let e=ne("APP_SITE_URL"),t=kt();return(0,un.useMemo)(()=>r===null?cn(e,"/home"):r?cn(e,r):t,[e,t,r])}var dn=f(_(),1);function ft({returnTo:r,pendoId:e}){let t=ne("ACCOUNTS_SITE_URL"),n=ln(r);return(0,dn.jsx)(P,{dataPendoId:e,link:{to:Pr(t,n)},button:{iconLeft:"login-box",iconLeftMode:"line",variant:C.TERTIARY},children:"Log in"})}var Un=f(D(),1);var Ht=f(D(),1);var hn=f(D(),1);var Ye={container:"zICmT",lg:"oYd0g","services-paused":"nQlIT",icon:"MomZe",sm:"Za8no",sufficient:"n4HlH","running-low":"VyLCN"};var ht=f(_(),1);var pn={["sufficient"]:"Sufficient",["running-low"]:"Running Low",["services-paused"]:"Services Paused"},Jn={["sufficient"]:"checkbox-circle",["running-low"]:"error-warning",["services-paused"]:"alarm-warning"};function Kt({type:r,size:e="lg"}){return(0,ht.jsxs)("div",{className:j(Ye.container,Ye[e],Ye[r]),children:[(0,ht.jsx)(w,{name:Jn[r],mode:"line",className:Ye.icon,size:e==="lg"?"xl":"md","aria-hidden":"true"}),(0,ht.jsx)(k,{className:Ye.text,variant:e==="lg"?Q.DEFAULT:Q.SMALL,children:pn[r]})]})}var eo={entityLookup:1,standardQueries:5,advancedQueries:8};function mn(r){return r.limit-r.consumed}function fn(r,e){return r<=e*.2}var xe={item:"TH2kx",expanded:"IxVux",cardContent:"XifvP",circleIndicator:"JGQ0i",paused:"j0HX0",low:"_8z5zZ"};var le=f(_(),1);function gn(){let{consumptionState:r}=(0,hn.useContext)(Ze),{isExpanded:e}=Rr();if(!r)return null;let t=mn(r);if(!fn(t,r.limit))return null;let n=t<=0?"services-paused":"running-low",a=(0,le.jsx)(k,{variant:Q.SMALL,children:$r(t)});return e?(0,le.jsx)("li",{className:j(xe.item,xe.expanded),children:(0,le.jsx)(br,{bodyPadding:Ar.NONE,children:(0,le.jsxs)("div",{className:xe.cardContent,children:[(0,le.jsx)(Kt,{type:n,size:"sm"}),a]})})}):(0,le.jsxs)("li",{className:xe.item,children:[(0,le.jsx)("div",{className:j(xe.circleIndicator,n==="services-paused"&&xe.paused,n==="running-low"&&xe.low),"aria-hidden":!0}),a]})}var gt="sidebar";var Yt={["Home"]:["/home"],["Search"]:["/censys","/hosts","/certificates","/web"],["Marketplace"]:["/marketplace"],["Credit Management"]:["/credits"],["Settings"]:["/settings"],["Alerts and Notifications"]:["/settings/webhooks"],["Account Management"]:[],["Explore Threats"]:["/explore/threats"],["Explore Critical Infrastructure"]:["/explore/critical-infrastructure"],["Explore Trends"]:["/explore/trends"],["Collections"]:["/collections"],["Investigate"]:["/investigate"]};function b(r,e){return Array.isArray(r)?r.some(t=>Yt[t].some(n=>e.startsWith(n))):Yt[r].map(t=>e.startsWith(t)).filter(Ke).length>0}var de=f(_(),1);function Qt({hrefParams:r}){let{t:e}=z(),t=ve(),[n,a]=qe([11,21]),s=a&&dt("ics-dashboard"),i=dt("hack-historical-trends");return!n&&!s&&!i?null:n&&!s&&!i?(0,de.jsx)(re,{iconName:"crosshair-2",title:e("Explore Threats"),isActive:b("Explore Threats",t.pathname),linkComponent:H,href:`/explore/threats${r}`}):s&&!n&&!i?(0,de.jsx)(re,{iconName:"crosshair-2",title:e("Critical Infrastructure"),isActive:b("Explore Critical Infrastructure",t.pathname),linkComponent:H,href:`/explore/critical-infrastructure${r}`}):i&&!s&&!n?(0,de.jsx)(re,{iconName:"crosshair-2",title:e("Trends"),isActive:b("Explore Trends",t.pathname),linkComponent:H,href:`/explore/trends${r}`}):(0,de.jsxs)(Ct,{title:e("Explore"),iconName:"crosshair-2",isActive:b(["Explore Threats","Explore Critical Infrastructure","Explore Trends"],t.pathname),children:[n&&(0,de.jsx)(Ne,{linkComponent:H,href:`/explore/threats${r}`,title:e("Threats"),isActive:b("Explore Threats",t.pathname)}),s&&(0,de.jsx)(Ne,{linkComponent:H,href:`/explore/critical-infrastructure${r}`,title:e("Critical Infrastructure"),isActive:b("Explore Critical Infrastructure",t.pathname)}),i&&(0,de.jsx)(Ne,{linkComponent:H,href:`/explore/trends${r}`,title:e("Trends"),isActive:b("Explore Trends",t.pathname)})]})}var _n=f(D(),1);var Qe=f(_(),1),sa=({href:r="#",...e})=>(0,Qe.jsx)(Nt,{...e,variant:"nav",href:r,isExternal:!0,showExternalIcon:!0}),ia={target:"_blank",rel:"noreferrer"};function Xt({hrefParams:r}){let{accessState:e}=(0,_n.useContext)(Ze),{t}=z(),n=ve(),a=At(e,1),s=ne("ACCOUNTS_SITE_URL");return e?(0,Qe.jsxs)(Ct,{title:t("Settings"),iconName:"settings-4",isActive:b("Settings",n.pathname),children:[a&&(0,Qe.jsx)(Ne,{linkComponent:H,href:`/settings/webhooks${r}`,title:t("Alerts and Notifications"),isActive:b("Alerts and Notifications",n.pathname)}),(0,Qe.jsx)(Ne,{linkComponent:sa,title:t("Account Management"),isActive:b("Account Management",n.pathname),href:`${s}/settings${r}`,anchorProps:ia})]}):null}var ue=f(D(),1);var Ut=f(D(),1);var Xe={ctaMessage:"IMw-3",messageBody:"we68-",buttonLink:"_-4uP6",actions:"HVGDu"};var X=f(_(),1);function vn({atTime:r,onDismiss:e}){let t=(0,Ut.useContext)(We),n=!!Lr(),a=kt(),s=(0,Ut.useMemo)(()=>{let o=new URL(a);return r&&o.searchParams.set("at_time",r),o.toString()},[a,r]),i=n?"Historical data requested in the URL is unavailable in your current tier":"Historical data is not available unless you are logged in as a Starter or Enterprise user";return(0,X.jsx)(kr,{open:!0,size:Nr.LARGE,onOpenChange:o=>!o&&e(),children:(0,X.jsx)(Wt,{title:i,iconName:"lock-star",children:(0,X.jsxs)("div",{className:Xe.ctaMessage,children:[(0,X.jsxs)(k,{className:Xe.messageBody,children:[(0,X.jsx)(P,{link:{to:rn(t),isExternal:!0},button:{variant:C.TERTIARY,size:It.SMALL,className:Xe.buttonLink},children:"Learn more"})," ","about accessing historical data or"," ",(0,X.jsx)(P,{link:{to:Mt(t),isExternal:!0},button:{variant:C.TERTIARY,size:It.SMALL,className:Xe.buttonLink},children:"contact"})," ","a Censys representative."]}),(0,X.jsxs)("div",{className:Xe.actions,children:[!n&&(0,X.jsx)(ft,{returnTo:s}),(0,X.jsx)(te,{onClick:e,size:It.MEDIUM,children:"View Current Asset Details"})]})]})})})}var Ee=f(D(),1);var xn=f(_(),1),Tn={iconLeft:"lock-unlock",iconLeftMode:"line",variant:C.TERTIARY},Jt=(0,Ee.forwardRef)(({buttonProps:r=Tn,children:e="Upgrade",pendoId:t},n)=>{let a=(0,Ee.useContext)(We),s=(0,Ee.useRef)(null);return(0,Ee.useImperativeHandle)(n,()=>({focus:()=>{s.current?.focus()}}),[]),(0,xn.jsx)(P,{dataPendoId:t,link:{to:nn(a),isExternal:!0},button:{...Tn,...r},ref:s,children:e})});var ys=f(Vn(),1);var vt={};Hn(vt,{BRAND:()=>wa,DIRTY:()=>Ae,EMPTY_PATH:()=>la,INVALID:()=>h,NEVER:()=>gs,OK:()=>M,ParseStatus:()=>A,Schema:()=>T,ZodAny:()=>Ce,ZodArray:()=>V,ZodBigInt:()=>ie,ZodBoolean:()=>be,ZodBranded:()=>_t,ZodCatch:()=>He,ZodDate:()=>he,ZodDefault:()=>ze,ZodDiscriminatedUnion:()=>at,ZodEffects:()=>K,ZodEnum:()=>oe,ZodError:()=>L,ZodFirstPartyTypeKind:()=>g,ZodFunction:()=>Ie,ZodIntersection:()=>Me,ZodIssueCode:()=>c,ZodLazy:()=>Pe,ZodLiteral:()=>Ue,ZodMap:()=>st,ZodNaN:()=>it,ZodNativeEnum:()=>Be,ZodNever:()=>J,ZodNull:()=>we,ZodNullable:()=>ce,ZodNumber:()=>se,ZodObject:()=>I,ZodOptional:()=>W,ZodParsedType:()=>p,ZodPipeline:()=>$e,ZodPromise:()=>Re,ZodReadonly:()=>Ve,ZodRecord:()=>De,ZodSchema:()=>T,ZodSet:()=>ge,ZodString:()=>$,ZodSymbol:()=>rt,ZodTransformer:()=>K,ZodTuple:()=>q,ZodType:()=>T,ZodUndefined:()=>Oe,ZodUnion:()=>Le,ZodUnknown:()=>fe,ZodVoid:()=>nt,addIssueToContext:()=>d,any:()=>$a,array:()=>ja,bigint:()=>Pa,boolean:()=>wn,coerce:()=>hs,custom:()=>An,date:()=>Ua,datetimeRegex:()=>Nn,defaultErrorMap:()=>pe,discriminatedUnion:()=>Ka,effect:()=>os,enum:()=>as,function:()=>ts,getErrorMap:()=>Je,getParsedType:()=>ae,instanceof:()=>Ma,intersection:()=>Ya,isAborted:()=>Bt,isAsync:()=>et,isDirty:()=>zt,isValid:()=>Se,late:()=>La,lazy:()=>rs,literal:()=>ns,makeIssue:()=>yt,map:()=>Ja,nan:()=>Da,nativeEnum:()=>ss,never:()=>Ga,null:()=>Ha,nullable:()=>us,number:()=>On,object:()=>Wa,objectUtil:()=>er,oboolean:()=>fs,onumber:()=>ms,optional:()=>cs,ostring:()=>ps,pipeline:()=>ds,preprocess:()=>ls,promise:()=>is,quotelessJson:()=>oa,record:()=>Xa,set:()=>es,setErrorMap:()=>ua,strictObject:()=>Za,string:()=>bn,symbol:()=>Ba,transformer:()=>os,tuple:()=>Qa,undefined:()=>za,union:()=>qa,unknown:()=>Va,util:()=>x,void:()=>Fa});var x;(function(r){r.assertEqual=a=>{};function e(a){}r.assertIs=e;function t(a){throw new Error}r.assertNever=t,r.arrayToEnum=a=>{let s={};for(let i of a)s[i]=i;return s},r.getValidEnumValues=a=>{let s=r.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(let o of s)i[o]=a[o];return r.objectValues(i)},r.objectValues=a=>r.objectKeys(a).map(function(s){return a[s]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let s=[];for(let i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},r.find=(a,s)=>{for(let i of a)if(s(i))return i},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}r.joinValues=n,r.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(x||(x={}));var er;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(er||(er={}));var p=x.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ae=r=>{switch(typeof r){case"undefined":return p.undefined;case"string":return p.string;case"number":return Number.isNaN(r)?p.nan:p.number;case"boolean":return p.boolean;case"function":return p.function;case"bigint":return p.bigint;case"symbol":return p.symbol;case"object":return Array.isArray(r)?p.array:r===null?p.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?p.promise:typeof Map<"u"&&r instanceof Map?p.map:typeof Set<"u"&&r instanceof Set?p.set:typeof Date<"u"&&r instanceof Date?p.date:p.object;default:return p.unknown}};var c=x.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oa=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),L=class extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(s){return s.message},n={_errors:[]},a=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let o=n,u=0;for(;u<i.path.length;){let l=i.path[u];u===i.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(t(i))):o[l]=o[l]||{_errors:[]},o=o[l],u++}}};return a(this),n}static assert(e){if(!(e instanceof L))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,x.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let a of this.issues)if(a.path.length>0){let s=a.path[0];t[s]=t[s]||[],t[s].push(e(a))}else n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};L.create=r=>new L(r);var ca=(r,e)=>{let t;switch(r.code){case c.invalid_type:r.received===p.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case c.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,x.jsonStringifyReplacer)}`;break;case c.unrecognized_keys:t=`Unrecognized key(s) in object: ${x.joinValues(r.keys,", ")}`;break;case c.invalid_union:t="Invalid input";break;case c.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${x.joinValues(r.options)}`;break;case c.invalid_enum_value:t=`Invalid enum value. Expected ${x.joinValues(r.options)}, received '${r.received}'`;break;case c.invalid_arguments:t="Invalid function arguments";break;case c.invalid_return_type:t="Invalid function return type";break;case c.invalid_date:t="Invalid date";break;case c.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:x.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case c.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case c.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case c.custom:t="Invalid input";break;case c.invalid_intersection_types:t="Intersection results could not be merged";break;case c.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case c.not_finite:t="Number must be finite";break;default:t=e.defaultError,x.assertNever(r)}return{message:t}},pe=ca;var En=pe;function ua(r){En=r}function Je(){return En}var yt=r=>{let{data:e,path:t,errorMaps:n,issueData:a}=r,s=[...t,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let o="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)o=l(i,{data:e,defaultError:o}).message;return{...a,path:s,message:o}},la=[];function d(r,e){let t=Je(),n=yt({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===pe?void 0:pe].filter(a=>!!a)});r.common.issues.push(n)}var A=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let a of t){if(a.status==="aborted")return h;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let a of t){let s=await a.key,i=await a.value;n.push({key:s,value:i})}return A.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let a of t){let{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return h;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[s.value]=i.value)}return{status:e.value,value:n}}},h=Object.freeze({status:"aborted"}),Ae=r=>({status:"dirty",value:r}),M=r=>({status:"valid",value:r}),Bt=r=>r.status==="aborted",zt=r=>r.status==="dirty",Se=r=>r.status==="valid",et=r=>typeof Promise<"u"&&r instanceof Promise;var m;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(m||(m={}));var Z=class{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Sn=(r,e)=>{if(Se(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new L(r.common.issues);return this._error=t,this._error}}};function v(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:a}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,o)=>{let{message:u}=r;return i.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??n??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:u??t??o.defaultError}},description:a}}var T=class{get description(){return this._def.description}_getType(e){return ae(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new A,ctx:{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(et(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){let n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Sn(n,a)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:t});return Se(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(n=>Se(n)?{value:n.value}:{issues:t.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},a=this._parse({data:e,path:n.path,parent:n}),s=await(et(a)?a:Promise.resolve(a));return Sn(n,s)}refine(e,t){let n=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,s)=>{let i=e(a),o=()=>s.addIssue({code:c.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(u=>u?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof t=="function"?t(n,a):t),!1))}_refinement(e){return new K({schema:this,typeName:g.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return W.create(this,this._def)}nullable(){return ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return V.create(this)}promise(){return Re.create(this,this._def)}or(e){return Le.create([this,e],this._def)}and(e){return Me.create(this,e,this._def)}transform(e){return new K({...v(this._def),schema:this,typeName:g.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new ze({...v(this._def),innerType:this,defaultValue:t,typeName:g.ZodDefault})}brand(){return new _t({typeName:g.ZodBranded,type:this,...v(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new He({...v(this._def),innerType:this,catchValue:t,typeName:g.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return $e.create(this,e)}readonly(){return Ve.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},da=/^c[^\s-]{8,}$/i,pa=/^[0-9a-z]+$/,ma=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fa=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ha=/^[a-z0-9_-]{21}$/i,ga=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ya=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_a=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,va="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",tr,Ta=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ea=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sa=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ia=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ca=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Cn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ra=new RegExp(`^${Cn}$`);function Rn(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);let t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Na(r){return new RegExp(`^${Rn(r)}$`)}function Nn(r){let e=`${Cn}T${Rn(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ka(r,e){return!!((e==="v4"||!e)&&Ta.test(r)||(e==="v6"||!e)&&Ea.test(r))}function Aa(r,e){if(!ga.test(r))return!1;try{let[t]=r.split(".");if(!t)return!1;let n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function ba(r,e){return!!((e==="v4"||!e)&&xa.test(r)||(e==="v6"||!e)&&Sa.test(r))}var $=class extends T{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.string){let s=this._getOrReturnCtx(e);return d(s,{code:c.invalid_type,expected:p.string,received:s.parsedType}),h}let n=new A,a;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),d(a,{code:c.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),d(a,{code:c.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let i=e.data.length>s.value,o=e.data.length<s.value;(i||o)&&(a=this._getOrReturnCtx(e,a),i?d(a,{code:c.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&d(a,{code:c.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")_a.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"email",code:c.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")tr||(tr=new RegExp(va,"u")),tr.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"emoji",code:c.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")fa.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"uuid",code:c.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")ha.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"nanoid",code:c.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")da.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"cuid",code:c.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")pa.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"cuid2",code:c.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")ma.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"ulid",code:c.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),d(a,{validation:"url",code:c.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"regex",code:c.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),d(a,{code:c.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),d(a,{code:c.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),d(a,{code:c.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Nn(s).test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{code:c.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?Ra.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{code:c.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Na(s).test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{code:c.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?ya.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"duration",code:c.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?ka(e.data,s.version)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"ip",code:c.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Aa(e.data,s.alg)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"jwt",code:c.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?ba(e.data,s.version)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"cidr",code:c.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Ia.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"base64",code:c.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Ca.test(e.data)||(a=this._getOrReturnCtx(e,a),d(a,{validation:"base64url",code:c.invalid_string,message:s.message}),n.dirty()):x.assertNever(s);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(a=>e.test(a),{validation:t,code:c.invalid_string,...m.errToObj(n)})}_addCheck(e){return new $({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...m.errToObj(e)})}url(e){return this._addCheck({kind:"url",...m.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...m.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...m.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...m.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...m.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...m.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...m.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...m.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...m.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...m.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...m.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...m.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...m.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...m.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...m.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...m.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...m.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...m.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...m.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...m.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...m.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...m.errToObj(t)})}nonempty(e){return this.min(1,m.errToObj(e))}trim(){return new $({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};$.create=r=>new $({checks:[],typeName:g.ZodString,coerce:r?.coerce??!1,...v(r)});function Oa(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=t>n?t:n,s=Number.parseInt(r.toFixed(a).replace(".","")),i=Number.parseInt(e.toFixed(a).replace(".",""));return s%i/10**a}var se=class extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.number){let s=this._getOrReturnCtx(e);return d(s,{code:c.invalid_type,expected:p.number,received:s.parsedType}),h}let n,a=new A;for(let s of this._def.checks)s.kind==="int"?x.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),d(n,{code:c.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),d(n,{code:c.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),d(n,{code:c.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?Oa(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),d(n,{code:c.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),d(n,{code:c.not_finite,message:s.message}),a.dirty()):x.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,m.toString(t))}gt(e,t){return this.setLimit("min",e,!1,m.toString(t))}lte(e,t){return this.setLimit("max",e,!0,m.toString(t))}lt(e,t){return this.setLimit("max",e,!1,m.toString(t))}setLimit(e,t,n,a){return new se({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:m.toString(a)}]})}_addCheck(e){return new se({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:m.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:m.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:m.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:m.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:m.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:m.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:m.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:m.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:m.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&x.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};se.create=r=>new se({checks:[],typeName:g.ZodNumber,coerce:r?.coerce||!1,...v(r)});var ie=class extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==p.bigint)return this._getInvalidInput(e);let n,a=new A;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),d(n,{code:c.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),d(n,{code:c.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),d(n,{code:c.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):x.assertNever(s);return{status:a.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return d(t,{code:c.invalid_type,expected:p.bigint,received:t.parsedType}),h}gte(e,t){return this.setLimit("min",e,!0,m.toString(t))}gt(e,t){return this.setLimit("min",e,!1,m.toString(t))}lte(e,t){return this.setLimit("max",e,!0,m.toString(t))}lt(e,t){return this.setLimit("max",e,!1,m.toString(t))}setLimit(e,t,n,a){return new ie({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:m.toString(a)}]})}_addCheck(e){return new ie({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:m.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:m.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:m.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:m.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:m.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};ie.create=r=>new ie({checks:[],typeName:g.ZodBigInt,coerce:r?.coerce??!1,...v(r)});var be=class extends T{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==p.boolean){let n=this._getOrReturnCtx(e);return d(n,{code:c.invalid_type,expected:p.boolean,received:n.parsedType}),h}return M(e.data)}};be.create=r=>new be({typeName:g.ZodBoolean,coerce:r?.coerce||!1,...v(r)});var he=class extends T{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.date){let s=this._getOrReturnCtx(e);return d(s,{code:c.invalid_type,expected:p.date,received:s.parsedType}),h}if(Number.isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return d(s,{code:c.invalid_date}),h}let n=new A,a;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),d(a,{code:c.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),d(a,{code:c.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):x.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new he({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:m.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:m.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};he.create=r=>new he({checks:[],coerce:r?.coerce||!1,typeName:g.ZodDate,...v(r)});var rt=class extends T{_parse(e){if(this._getType(e)!==p.symbol){let n=this._getOrReturnCtx(e);return d(n,{code:c.invalid_type,expected:p.symbol,received:n.parsedType}),h}return M(e.data)}};rt.create=r=>new rt({typeName:g.ZodSymbol,...v(r)});var Oe=class extends T{_parse(e){if(this._getType(e)!==p.undefined){let n=this._getOrReturnCtx(e);return d(n,{code:c.invalid_type,expected:p.undefined,received:n.parsedType}),h}return M(e.data)}};Oe.create=r=>new Oe({typeName:g.ZodUndefined,...v(r)});var we=class extends T{_parse(e){if(this._getType(e)!==p.null){let n=this._getOrReturnCtx(e);return d(n,{code:c.invalid_type,expected:p.null,received:n.parsedType}),h}return M(e.data)}};we.create=r=>new we({typeName:g.ZodNull,...v(r)});var Ce=class extends T{constructor(){super(...arguments),this._any=!0}_parse(e){return M(e.data)}};Ce.create=r=>new Ce({typeName:g.ZodAny,...v(r)});var fe=class extends T{constructor(){super(...arguments),this._unknown=!0}_parse(e){return M(e.data)}};fe.create=r=>new fe({typeName:g.ZodUnknown,...v(r)});var J=class extends T{_parse(e){let t=this._getOrReturnCtx(e);return d(t,{code:c.invalid_type,expected:p.never,received:t.parsedType}),h}};J.create=r=>new J({typeName:g.ZodNever,...v(r)});var nt=class extends T{_parse(e){if(this._getType(e)!==p.undefined){let n=this._getOrReturnCtx(e);return d(n,{code:c.invalid_type,expected:p.void,received:n.parsedType}),h}return M(e.data)}};nt.create=r=>new nt({typeName:g.ZodVoid,...v(r)});var V=class extends T{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==p.array)return d(t,{code:c.invalid_type,expected:p.array,received:t.parsedType}),h;if(a.exactLength!==null){let i=t.data.length>a.exactLength.value,o=t.data.length<a.exactLength.value;(i||o)&&(d(t,{code:i?c.too_big:c.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(d(t,{code:c.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(d(t,{code:c.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((i,o)=>a.type._parseAsync(new Z(t,i,t.path,o)))).then(i=>A.mergeArray(n,i));let s=[...t.data].map((i,o)=>a.type._parseSync(new Z(t,i,t.path,o)));return A.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new V({...this._def,minLength:{value:e,message:m.toString(t)}})}max(e,t){return new V({...this._def,maxLength:{value:e,message:m.toString(t)}})}length(e,t){return new V({...this._def,exactLength:{value:e,message:m.toString(t)}})}nonempty(e){return this.min(1,e)}};V.create=(r,e)=>new V({type:r,minLength:null,maxLength:null,exactLength:null,typeName:g.ZodArray,...v(e)});function tt(r){if(r instanceof I){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=W.create(tt(n))}return new I({...r._def,shape:()=>e})}else return r instanceof V?new V({...r._def,type:tt(r.element)}):r instanceof W?W.create(tt(r.unwrap())):r instanceof ce?ce.create(tt(r.unwrap())):r instanceof q?q.create(r.items.map(e=>tt(e))):r}var I=class extends T{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=x.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==p.object){let l=this._getOrReturnCtx(e);return d(l,{code:c.invalid_type,expected:p.object,received:l.parsedType}),h}let{status:n,ctx:a}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof J&&this._def.unknownKeys==="strip"))for(let l in a.data)i.includes(l)||o.push(l);let u=[];for(let l of i){let y=s[l],N=a.data[l];u.push({key:{status:"valid",value:l},value:y._parse(new Z(a,N,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof J){let l=this._def.unknownKeys;if(l==="passthrough")for(let y of o)u.push({key:{status:"valid",value:y},value:{status:"valid",value:a.data[y]}});else if(l==="strict")o.length>0&&(d(a,{code:c.unrecognized_keys,keys:o}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let y of o){let N=a.data[y];u.push({key:{status:"valid",value:y},value:l._parse(new Z(a,N,a.path,y)),alwaysSet:y in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let l=[];for(let y of u){let N=await y.key,ee=await y.value;l.push({key:N,value:ee,alwaysSet:y.alwaysSet})}return l}).then(l=>A.mergeObjectSync(n,l)):A.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return m.errToObj,new I({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{let a=this._def.errorMap?.(t,n).message??n.defaultError;return t.code==="unrecognized_keys"?{message:m.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new I({...this._def,unknownKeys:"strip"})}passthrough(){return new I({...this._def,unknownKeys:"passthrough"})}extend(e){return new I({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new I({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:g.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new I({...this._def,catchall:e})}pick(e){let t={};for(let n of x.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new I({...this._def,shape:()=>t})}omit(e){let t={};for(let n of x.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new I({...this._def,shape:()=>t})}deepPartial(){return tt(this)}partial(e){let t={};for(let n of x.objectKeys(this.shape)){let a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()}return new I({...this._def,shape:()=>t})}required(e){let t={};for(let n of x.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof W;)s=s._def.innerType;t[n]=s}return new I({...this._def,shape:()=>t})}keyof(){return kn(x.objectKeys(this.shape))}};I.create=(r,e)=>new I({shape:()=>r,unknownKeys:"strip",catchall:J.create(),typeName:g.ZodObject,...v(e)});I.strictCreate=(r,e)=>new I({shape:()=>r,unknownKeys:"strict",catchall:J.create(),typeName:g.ZodObject,...v(e)});I.lazycreate=(r,e)=>new I({shape:r,unknownKeys:"strip",catchall:J.create(),typeName:g.ZodObject,...v(e)});var Le=class extends T{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function a(s){for(let o of s)if(o.result.status==="valid")return o.result;for(let o of s)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;let i=s.map(o=>new L(o.ctx.common.issues));return d(t,{code:c.invalid_union,unionErrors:i}),h}if(t.common.async)return Promise.all(n.map(async s=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(a);{let s,i=[];for(let u of n){let l={...t,common:{...t.common,issues:[]},parent:null},y=u._parseSync({data:t.data,path:t.path,parent:l});if(y.status==="valid")return y;y.status==="dirty"&&!s&&(s={result:y,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;let o=i.map(u=>new L(u));return d(t,{code:c.invalid_union,unionErrors:o}),h}}get options(){return this._def.options}};Le.create=(r,e)=>new Le({options:r,typeName:g.ZodUnion,...v(e)});var me=r=>r instanceof Pe?me(r.schema):r instanceof K?me(r.innerType()):r instanceof Ue?[r.value]:r instanceof oe?r.options:r instanceof Be?x.objectValues(r.enum):r instanceof ze?me(r._def.innerType):r instanceof Oe?[void 0]:r instanceof we?[null]:r instanceof W?[void 0,...me(r.unwrap())]:r instanceof ce?[null,...me(r.unwrap())]:r instanceof _t||r instanceof Ve?me(r.unwrap()):r instanceof He?me(r._def.innerType):[],at=class extends T{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.object)return d(t,{code:c.invalid_type,expected:p.object,received:t.parsedType}),h;let n=this.discriminator,a=t.data[n],s=this.optionsMap.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(d(t,{code:c.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),h)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let a=new Map;for(let s of t){let i=me(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of i){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,s)}}return new at({typeName:g.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...v(n)})}};function rr(r,e){let t=ae(r),n=ae(e);if(r===e)return{valid:!0,data:r};if(t===p.object&&n===p.object){let a=x.objectKeys(e),s=x.objectKeys(r).filter(o=>a.indexOf(o)!==-1),i={...r,...e};for(let o of s){let u=rr(r[o],e[o]);if(!u.valid)return{valid:!1};i[o]=u.data}return{valid:!0,data:i}}else if(t===p.array&&n===p.array){if(r.length!==e.length)return{valid:!1};let a=[];for(let s=0;s<r.length;s++){let i=r[s],o=e[s],u=rr(i,o);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return t===p.date&&n===p.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Me=class extends T{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),a=(s,i)=>{if(Bt(s)||Bt(i))return h;let o=rr(s.value,i.value);return o.valid?((zt(s)||zt(i))&&t.dirty(),{status:t.value,value:o.data}):(d(n,{code:c.invalid_intersection_types}),h)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Me.create=(r,e,t)=>new Me({left:r,right:e,typeName:g.ZodIntersection,...v(t)});var q=class extends T{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==p.array)return d(n,{code:c.invalid_type,expected:p.array,received:n.parsedType}),h;if(n.data.length<this._def.items.length)return d(n,{code:c.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),h;!this._def.rest&&n.data.length>this._def.items.length&&(d(n,{code:c.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...n.data].map((i,o)=>{let u=this._def.items[o]||this._def.rest;return u?u._parse(new Z(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>A.mergeArray(t,i)):A.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new q({...this._def,rest:e})}};q.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new q({items:r,typeName:g.ZodTuple,rest:null,...v(e)})};var De=class extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==p.object)return d(n,{code:c.invalid_type,expected:p.object,received:n.parsedType}),h;let a=[],s=this._def.keyType,i=this._def.valueType;for(let o in n.data)a.push({key:s._parse(new Z(n,o,n.path,o)),value:i._parse(new Z(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?A.mergeObjectAsync(t,a):A.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof T?new De({keyType:e,valueType:t,typeName:g.ZodRecord,...v(n)}):new De({keyType:$.create(),valueType:e,typeName:g.ZodRecord,...v(t)})}},st=class extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==p.map)return d(n,{code:c.invalid_type,expected:p.map,received:n.parsedType}),h;let a=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([o,u],l)=>({key:a._parse(new Z(n,o,n.path,[l,"key"])),value:s._parse(new Z(n,u,n.path,[l,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let u of i){let l=await u.key,y=await u.value;if(l.status==="aborted"||y.status==="aborted")return h;(l.status==="dirty"||y.status==="dirty")&&t.dirty(),o.set(l.value,y.value)}return{status:t.value,value:o}})}else{let o=new Map;for(let u of i){let l=u.key,y=u.value;if(l.status==="aborted"||y.status==="aborted")return h;(l.status==="dirty"||y.status==="dirty")&&t.dirty(),o.set(l.value,y.value)}return{status:t.value,value:o}}}};st.create=(r,e,t)=>new st({valueType:e,keyType:r,typeName:g.ZodMap,...v(t)});var ge=class extends T{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==p.set)return d(n,{code:c.invalid_type,expected:p.set,received:n.parsedType}),h;let a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(d(n,{code:c.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(d(n,{code:c.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let s=this._def.valueType;function i(u){let l=new Set;for(let y of u){if(y.status==="aborted")return h;y.status==="dirty"&&t.dirty(),l.add(y.value)}return{status:t.value,value:l}}let o=[...n.data.values()].map((u,l)=>s._parse(new Z(n,u,n.path,l)));return n.common.async?Promise.all(o).then(u=>i(u)):i(o)}min(e,t){return new ge({...this._def,minSize:{value:e,message:m.toString(t)}})}max(e,t){return new ge({...this._def,maxSize:{value:e,message:m.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};ge.create=(r,e)=>new ge({valueType:r,minSize:null,maxSize:null,typeName:g.ZodSet,...v(e)});var Ie=class extends T{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.function)return d(t,{code:c.invalid_type,expected:p.function,received:t.parsedType}),h;function n(o,u){return yt({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Je(),pe].filter(l=>!!l),issueData:{code:c.invalid_arguments,argumentsError:u}})}function a(o,u){return yt({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Je(),pe].filter(l=>!!l),issueData:{code:c.invalid_return_type,returnTypeError:u}})}let s={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Re){let o=this;return M(async function(...u){let l=new L([]),y=await o._def.args.parseAsync(u,s).catch(R=>{throw l.addIssue(n(u,R)),l}),N=await Reflect.apply(i,this,y);return await o._def.returns._def.type.parseAsync(N,s).catch(R=>{throw l.addIssue(a(N,R)),l})})}else{let o=this;return M(function(...u){let l=o._def.args.safeParse(u,s);if(!l.success)throw new L([n(u,l.error)]);let y=Reflect.apply(i,this,l.data),N=o._def.returns.safeParse(y,s);if(!N.success)throw new L([a(y,N.error)]);return N.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ie({...this._def,args:q.create(e).rest(fe.create())})}returns(e){return new Ie({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ie({args:e||q.create([]).rest(fe.create()),returns:t||fe.create(),typeName:g.ZodFunction,...v(n)})}},Pe=class extends T{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Pe.create=(r,e)=>new Pe({getter:r,typeName:g.ZodLazy,...v(e)});var Ue=class extends T{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return d(t,{received:t.data,code:c.invalid_literal,expected:this._def.value}),h}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ue.create=(r,e)=>new Ue({value:r,typeName:g.ZodLiteral,...v(e)});function kn(r,e){return new oe({values:r,typeName:g.ZodEnum,...v(e)})}var oe=class extends T{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return d(t,{expected:x.joinValues(n),received:t.parsedType,code:c.invalid_type}),h}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return d(t,{received:t.data,code:c.invalid_enum_value,options:n}),h}return M(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return oe.create(e,{...this._def,...t})}exclude(e,t=this._def){return oe.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}};oe.create=kn;var Be=class extends T{_parse(e){let t=x.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==p.string&&n.parsedType!==p.number){let a=x.objectValues(t);return d(n,{expected:x.joinValues(a),received:n.parsedType,code:c.invalid_type}),h}if(this._cache||(this._cache=new Set(x.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let a=x.objectValues(t);return d(n,{received:n.data,code:c.invalid_enum_value,options:a}),h}return M(e.data)}get enum(){return this._def.values}};Be.create=(r,e)=>new Be({values:r,typeName:g.ZodNativeEnum,...v(e)});var Re=class extends T{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.promise&&t.common.async===!1)return d(t,{code:c.invalid_type,expected:p.promise,received:t.parsedType}),h;let n=t.parsedType===p.promise?t.data:Promise.resolve(t.data);return M(n.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Re.create=(r,e)=>new Re({type:r,typeName:g.ZodPromise,...v(e)});var K=class extends T{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===g.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:i=>{d(n,i),i.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){let i=a.transform(n.data,s);if(n.common.async)return Promise.resolve(i).then(async o=>{if(t.value==="aborted")return h;let u=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return u.status==="aborted"?h:u.status==="dirty"?Ae(u.value):t.value==="dirty"?Ae(u.value):u});{if(t.value==="aborted")return h;let o=this._def.schema._parseSync({data:i,path:n.path,parent:n});return o.status==="aborted"?h:o.status==="dirty"?Ae(o.value):t.value==="dirty"?Ae(o.value):o}}if(a.type==="refinement"){let i=o=>{let u=a.refinement(o,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?h:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?h:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Se(i))return h;let o=a.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Se(i)?Promise.resolve(a.transform(i.value,s)).then(o=>({status:t.value,value:o})):h);x.assertNever(a)}};K.create=(r,e,t)=>new K({schema:r,typeName:g.ZodEffects,effect:e,...v(t)});K.createWithPreprocess=(r,e,t)=>new K({schema:e,effect:{type:"preprocess",transform:r},typeName:g.ZodEffects,...v(t)});var W=class extends T{_parse(e){return this._getType(e)===p.undefined?M(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};W.create=(r,e)=>new W({innerType:r,typeName:g.ZodOptional,...v(e)});var ce=class extends T{_parse(e){return this._getType(e)===p.null?M(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ce.create=(r,e)=>new ce({innerType:r,typeName:g.ZodNullable,...v(e)});var ze=class extends T{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===p.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};ze.create=(r,e)=>new ze({innerType:r,typeName:g.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...v(e)});var He=class extends T{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return et(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new L(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new L(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};He.create=(r,e)=>new He({innerType:r,typeName:g.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...v(e)});var it=class extends T{_parse(e){if(this._getType(e)!==p.nan){let n=this._getOrReturnCtx(e);return d(n,{code:c.invalid_type,expected:p.nan,received:n.parsedType}),h}return{status:"valid",value:e.data}}};it.create=r=>new it({typeName:g.ZodNaN,...v(r)});var wa=Symbol("zod_brand"),_t=class extends T{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},$e=class extends T{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?h:s.status==="dirty"?(t.dirty(),Ae(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?h:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,t){return new $e({in:e,out:t,typeName:g.ZodPipeline})}},Ve=class extends T{_parse(e){let t=this._def.innerType._parse(e),n=a=>(Se(a)&&(a.value=Object.freeze(a.value)),a);return et(t)?t.then(a=>n(a)):n(t)}unwrap(){return this._def.innerType}};Ve.create=(r,e)=>new Ve({innerType:r,typeName:g.ZodReadonly,...v(e)});function In(r,e){let t=typeof r=="function"?r(e):typeof r=="string"?{message:r}:r;return typeof t=="string"?{message:t}:t}function An(r,e={},t){return r?Ce.create().superRefine((n,a)=>{let s=r(n);if(s instanceof Promise)return s.then(i=>{if(!i){let o=In(e,n),u=o.fatal??t??!0;a.addIssue({code:"custom",...o,fatal:u})}});if(!s){let i=In(e,n),o=i.fatal??t??!0;a.addIssue({code:"custom",...i,fatal:o})}}):Ce.create()}var La={object:I.lazycreate},g;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(g||(g={}));var Ma=(r,e={message:`Input not instance of ${r.name}`})=>An(t=>t instanceof r,e),bn=$.create,On=se.create,Da=it.create,Pa=ie.create,wn=be.create,Ua=he.create,Ba=rt.create,za=Oe.create,Ha=we.create,$a=Ce.create,Va=fe.create,Ga=J.create,Fa=nt.create,ja=V.create,Wa=I.create,Za=I.strictCreate,qa=Le.create,Ka=at.create,Ya=Me.create,Qa=q.create,Xa=De.create,Ja=st.create,es=ge.create,ts=Ie.create,rs=Pe.create,ns=Ue.create,as=oe.create,ss=Be.create,is=Re.create,os=K.create,cs=W.create,us=ce.create,ls=K.createWithPreprocess,ds=$e.create,ps=()=>bn().optional(),ms=()=>On().optional(),fs=()=>wn().optional(),hs={string:r=>$.create({...r,coerce:!0}),number:r=>se.create({...r,coerce:!0}),boolean:r=>be.create({...r,coerce:!0}),bigint:r=>ie.create({...r,coerce:!0}),date:r=>he.create({...r,coerce:!0})};var gs=h;var Ge="free",Pc=vt.literal(Ge).or(vt.string().uuid()).nullable();var G=f(D(),1);var B={trigger:"OZ9vg",triggerContent:"dmdmg",triggerText:"f3a1G",content:"rIPB8",groupLabel:"lp5oQ",labelText:"-UC14",selectSeparator:"zibrm",organizationItem:"B2Aq9",labelPadding:"X5mkc",itemIndicator:"_0ZlK-",spinner:"wXi73"};var nr={[1e5]:"Error. Try again.",[11e4]:"Organization was not found.",[110001]:"Organization ID mismatch."},Tt="switch-organization",ar="organization-switch-home-button",sr="organization-switch-sidebar-menu";var S=f(_(),1),ir=(0,G.forwardRef)(({options:r,currentOrgId:e,isLoading:t,onOrgChange:n,dataTestId:a},s)=>{let{t:i}=z(),o=(0,G.useRef)(null),u=(0,G.useMemo)(()=>r.find(R=>R.id===e),[r,e]),[l,y]=(0,G.useState)(!1),N=(0,G.useCallback)(()=>{y(R=>!R)},[]),ee=(0,G.useCallback)(R=>{if(R.key==="ArrowDown"||R.key==="ArrowUp"){R.preventDefault();return}R.key==="Escape"&&(R.preventDefault(),R.stopPropagation(),y(!1))},[]);return(0,G.useImperativeHandle)(s,()=>({focus:()=>{o.current?.focus()}}),[]),(0,S.jsxs)(_r,{open:l,onOpenChange:N,children:[(0,S.jsxs)(vr,{"aria-label":"Open to change to a different organization","data-testid":a,className:B.trigger,tabIndex:-1,role:"menuitem",onKeyDown:ee,id:Tt,onClick:()=>y(!0),disabled:t,ref:o,children:[(0,S.jsx)("div",{className:B.triggerContent,children:u?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w,{name:"building",mode:"line"}),(0,S.jsx)(k,{className:B.triggerText,children:u.displayName})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w,{name:"user",mode:"line"}),(0,S.jsx)(k,{className:B.triggerText,children:i("Free Plan")})]})}),t?(0,S.jsx)(w,{"aria-label":"loading","aria-live":"polite",role:"status",name:"loader-4",mode:"line",className:B.spinner}):(0,S.jsx)(w,{name:l?"arrow-drop-up":"arrow-drop-down",mode:"line",size:"2xl","aria-hidden":!0})]}),(0,S.jsx)(Tr,{className:B.content,sideOffset:10,children:(0,S.jsxs)(xr,{value:e,onValueChange:n,onKeyDown:ee,children:[(0,S.jsxs)(Ft,{children:[(0,S.jsx)(jt,{className:B.groupLabel,children:(0,S.jsx)(k,{variant:Q.H4,as:"span",className:B.labelText,children:i("Organization")})}),r.map(R=>(0,S.jsx)(Mn,{name:R.displayName,value:R.id,leftIcon:"building"},R.id))]}),(0,S.jsx)(Ir,{className:B.selectSeparator}),(0,S.jsxs)(Ft,{children:[(0,S.jsx)(jt,{className:B.groupLabel,children:(0,S.jsx)(k,{variant:Q.H4,as:"span",className:B.labelText,children:i("Personal")})}),(0,S.jsx)(Mn,{name:i("Free Plan"),value:Ge,leftIcon:"user"})]})]})})]})});function Mn({name:r,value:e,leftIcon:t}){return(0,S.jsxs)(Er,{value:e,className:B.organizationItem,children:[(0,S.jsxs)("div",{className:B.labelPadding,children:[(0,S.jsx)(w,{name:t,mode:"line"}),(0,S.jsx)(k,{children:r})]}),(0,S.jsx)(Sr,{className:B.itemIndicator,children:(0,S.jsx)(w,{"aria-hidden":!0,name:"check"})})]})}var Fe={organizationSwitcher:"qG7Sg",switcherContainer:"Dg8is",orgForm:"GdsCV",trigger:"rcCHN",freePlanIcon:"DAd88",freePlanText:"OSvhC"};var Y=f(_(),1),or=(0,ue.forwardRef)(({organization:r,availableOrganizations:e,onOrganizationChange:t,errorText:n,isLoading:a,dataTestId:s},i)=>{let{t:o}=z(),u=(0,ue.useRef)(null),l=(0,ue.useRef)(null),y=(0,ue.useMemo)(()=>Boolean(e?.length),[e]),N=(0,ue.useMemo)(()=>e?.map(ee=>({id:ee.organizationId,displayName:ee.displayName}))||[],[e]);return(0,ue.useImperativeHandle)(i,()=>({focus:()=>{y?u.current?.focus():l.current?.focus()}}),[y]),(0,Y.jsx)("div",{className:Fe.organizationSwitcher,children:(0,Y.jsx)("div",{className:Fe.switcherContainer,children:y?(0,Y.jsx)(hr,{className:Fe.orgForm,children:(0,Y.jsx)(Or,{errorText:n,children:(0,Y.jsx)(ir,{options:N,isLoading:a,currentOrgId:r?.organizationId||Ge,onOrgChange:t,ref:u,dataTestId:s})})}):(0,Y.jsxs)("div",{className:Fe.trigger,"data-testid":"planUpgradeContainer",children:[(0,Y.jsx)("div",{className:Fe.freePlanIcon,children:(0,Y.jsx)(w,{name:"user",mode:"line"})}),(0,Y.jsx)(k,{className:Fe.freePlanText,children:o("Free Plan")}),(0,Y.jsx)(Jt,{buttonProps:{variant:C.TERTIARY,iconLeftMode:"line",iconLeft:"lock-star"},ref:l})]})})})});var ot=f(D(),1);var Dn="preferredOrg",Pn="/api/preferredOrganization";function cr(){let[r,e]=(0,ot.useState)(null),t=Jr(),n=t.state==="submitting"||t.state==="loading",a=(0,ot.useCallback)(async s=>{if(!s)return;e(null);let i=new FormData;i.set(Dn,s),t.submit(i,{method:"POST",action:Pn})},[t,n]);return(0,ot.useEffect)(()=>{let s=t.data;if(!s||n)return;if("code"in s){let u=nr[s.code];e(u??nr[1e5]);return}let i=new URL("/home",window.location.origin),o=s.preferredOrg===Ge?null:s.preferredOrg;o?i.searchParams.set("org",o):i.searchParams.delete("org"),window.history.replaceState({},"",i.toString()),location.reload()},[t.data,n]),{errorText:r,isLoading:n,onOrganizationChange:a}}var ct={orgContainer:"zdgM8",orgIcon:"kotTU",orgIconContainer:"kVmdG",organizationSwitcher:"IQ09F",spinner:"d2vh8"};var ye=f(_(),1);function ur({organization:r,availableOrganizations:e,isExpandedView:t}){let{errorText:n,isLoading:a,onOrganizationChange:s}=cr();return(0,ye.jsxs)("li",{className:ct.orgContainer,"data-testid":"sidenav-org-switcher",children:[!t&&(0,ye.jsx)("div",{className:ct.orgIconContainer,children:(0,ye.jsx)("div",{className:ct.orgIcon,children:a?(0,ye.jsx)(w,{name:"loader-4",mode:"line",className:ct.spinner}):(0,ye.jsx)(w,{name:r?"building":"user",mode:"line"})})}),t&&(0,ye.jsx)("div",{className:ct.organizationSwitcher,children:(0,ye.jsx)(or,{organization:r,availableOrganizations:e,onOrganizationChange:s,errorText:n,isLoading:a,dataTestId:sr})})]})}var ut={censysLogo:"oVdju",censysLogoContainer:"hoKHz",censysLogoExpanded:"_6AvMc","expanding-logo":"ZvtuW",separator:"IXr5i"};var O=f(_(),1),H=({href:r="#",...e})=>(0,O.jsx)(Nt,{...e,variant:"nav",href:r});function _s(){let{t:r}=z(),e=Rt(),t=Mr(),{accessState:n}=(0,Ht.useContext)(Ze),a=e?`?${pt}=${e.organizationId}`:"",s=Ot(),i=At(n,1),o=ve(),[u,l]=(0,Ht.useState)(!1),y={isExpanded:u,setIsExpanded:l};return(0,O.jsx)(Cr.Provider,{value:y,children:(0,O.jsxs)(wr,{id:gt,children:[(0,O.jsx)("li",{className:j(ut.censysLogoContainer,u&&ut.expanded),role:"none",children:(0,O.jsx)(Dr,{to:"/home",className:j(ut.censysLogo,u&&ut.censysLogoExpanded),"aria-label":"Link to Censys homepage",role:"menuitem",tabIndex:0,children:(0,O.jsx)(zr,{})})}),!!n&&(0,O.jsx)(ur,{organization:e,availableOrganizations:t,isExpandedView:u}),(0,O.jsx)(re,{iconName:"home",title:r("Home"),isActive:b("Home",o.pathname),linkComponent:H,href:`/home${a}`}),(0,O.jsx)(re,{iconName:"search",title:r("Search"),isActive:b("Search",o.pathname),linkComponent:H,href:`/censys${a}`}),s&&(0,O.jsx)(re,{iconName:"node-tree",iconMode:"",title:r("Investigate"),isActive:b("Investigate",o.pathname),linkComponent:H,href:`/investigate${a}`}),(0,O.jsx)(Qt,{hrefParams:a}),(0,O.jsx)(re,{iconName:"stack",title:r("Collections"),isActive:b("Collections",o.pathname),linkComponent:H,href:`/collections${a}`}),(0,O.jsx)("li",{className:ut.separator,role:"separator"}),(0,O.jsx)(gn,{}),n&&(0,O.jsx)(re,{iconName:"line-chart",title:r("Credit Management"),isActive:b("Credit Management",o.pathname),linkComponent:H,href:i?`/credits/organization${a}`:`/credits${a}`}),(0,O.jsx)(Xt,{hrefParams:a})]})})}var Bn=f(_(),1);function xt({buttonVariant:r=C.PRIMARY}){let{t:e}=z(),t=(0,Un.useCallback)(()=>{if(typeof document>"u")return;let n=document.getElementById(gt);n?.focus(),n?.addEventListener("animationend",()=>{let a=n?.querySelector(`#${Tt}`);a instanceof HTMLElement&&a.click()},{once:!0})},[]);return(0,Bn.jsx)(te,{variant:r,iconLeft:"arrow-left-right",onClick:t,"aria-label":"Click to focus on the switch organization menu","data-testid":ar,children:e("Switch")})}var zn=f(_(),1);function lr({pendoId:r}){let e=ne("ACCOUNTS_SITE_URL");return(0,zn.jsx)(P,{dataPendoId:r,link:{to:Ur(e)},button:{iconLeft:"lock-star",iconLeftMode:"line",variant:C.PRIMARY},children:"Register"})}var E=f(_(),1);function lt(r){return(0,E.jsx)(P,{link:{isExternal:!0,to:tn(r)},button:{iconLeft:"booklet",iconLeftMode:"line",variant:C.SECONDARY},children:"Learn More"})}function Vt(r){return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(k,{children:"Contact your Censys sales representative for more information."}),(0,E.jsx)("div",{children:lt(r)})]})}var dr="Data Unavailable to Free Tier",$t="Add-on Module Required";function Gt(r){let e={iconName:"lock-star",iconMode:"line",title:"Data unavailable on your current tier",message:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:"To view this data, you must upgrade to a higher tier."}),(0,E.jsx)("div",{className:U.errorActions,children:lt()})]})};if(!r)return e;let{accessState:t,env:n,minSku:a}=r??{accessState:null,env:null},s=bt(t),i=a;if(i!==null&&typeof i<"u")switch(s){case 2:i===1&&(i=null);break;case 3:(i===1||i===2)&&(i=null);break;default:break}if(s===0&&!t)e.title="Register to Unlock Data",e.message=(0,E.jsxs)(E.Fragment,{children:["To view this data, you must be logged in to a Censys account.",(0,E.jsxs)("div",{className:U.errorActions,children:[(0,E.jsx)(ft,{}),(0,E.jsx)(lr,{})]})]});else if(s===1)e.title=dr,e.message=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:"Switch to your Organization account."}),(0,E.jsx)(xt,{})]});else if(typeof i<"u")switch(i){case null:s===3&&(e.title=$t,e.message=Vt(n));break;case 1:e.title=dr,e.message=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:"To view this data, you must upgrade to the Starter tier."}),(0,E.jsxs)("div",{className:U.errorActions,children:[(0,E.jsx)(Dt,{}),lt(n)]})]});break;case 2:case 5:case 3:case 4:s===3?(e.title=$t,e.message=Vt(n)):(e.title=i===2?"Enterprise Tier Required":$t,e.message=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:"To view this data, you must upgrade to the Enterprise tier."}),(0,E.jsxs)("div",{className:U.errorActions,children:[(0,E.jsx)(Pt,{}),lt(n)]})]}));break}else switch(s){case 2:e.title="Data Unavailable to Starter Tier",e.message=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:"To view this data, you must upgrade to the Enterprise tier."}),(0,E.jsxs)("div",{className:U.errorActions,children:[(0,E.jsx)(Pt,{}),lt(n)]})]});break;case 3:e.title=$t,e.message=Vt(n);break;case 0:e.title=dr;break;default:break}return e}var F=f(_(),1),_e={CONSUMPTION_LIMIT_REACHED:{iconName:"emotion-sad",iconMode:"line",title:"You have run out of credits",message:(0,F.jsx)(Dt,{})},DATA_LOCKED:Gt(),GENERIC:{iconName:"pulse",title:"Internal Server Error",message:"Our fault. We'll look into it!"},RESOURCE_EXHAUSTED:{iconName:"pulse",title:"Something went wrong",message:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{children:"Try refreshing the page."}),(0,F.jsx)(qt,{})]})},COLLECTION_NOT_FOUND:{iconName:"alert",title:"Collection not found",message:"We were unable to find the collection you requested."}},Ts={CONSUMPTION_LIMIT_REACHED:(r,e)=>{let t;switch(bt(r)){case 1:t={title:"You have run out of credits on your Free account.",message:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{children:"Switch to your Organization account."}),(0,F.jsx)(xt,{})]})};break;case 3:t={message:(0,F.jsx)("span",{children:"Contact your Censys Sales Representative."})};break;case 0:case 2:default:break}return{iconName:_e.CONSUMPTION_LIMIT_REACHED.iconName,iconMode:_e.CONSUMPTION_LIMIT_REACHED.iconMode,title:t?.title??_e.CONSUMPTION_LIMIT_REACHED.title,message:t?.message??_e.CONSUMPTION_LIMIT_REACHED.message}},DATA_LOCKED:(r,e)=>Gt({accessState:r,env:e}),GENERIC:()=>_e.GENERIC,RESOURCE_EXHAUSTED:()=>_e.RESOURCE_EXHAUSTED,COLLECTION_NOT_FOUND:()=>_e.COLLECTION_NOT_FOUND},pr={[1e5]:"GENERIC",[12e4]:"COLLECTION_NOT_FOUND",[100001]:"CONSUMPTION_LIMIT_REACHED",[100003]:"DATA_LOCKED",[170001]:"RESOURCE_EXHAUSTED"};function xs(r,e){let t=r in pr?pr[r]:pr[1e5];return e?Ts[t](e.accessState,e.env):_e[t]}export{ft as a,lr as b,Wt as c,Gr as d,Mt as e,Ii as f,Dt as g,Pt as h,qr as i,Qr as j,Zt as k,Ls as l,ui as m,li as n,di as o,pi as p,mi as q,fi as r,Yr as s,pn as t,Kt as u,eo as v,mn as w,fn as x,Jr as y,_s as z,xt as A,lt as B,Gt as C,xs as D,vn as E,Jt as F};
