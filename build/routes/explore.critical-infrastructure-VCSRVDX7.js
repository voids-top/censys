import{c as cr,d as ks}from"/censys/build/_shared/chunk-DT7XMIXP.js";import{a as Gs,b as pr,c as Ws,d as Us}from"/censys/build/_shared/chunk-Y2IQJ4EL.js";import{a as Hs}from"/censys/build/_shared/chunk-BGO373KW.js";import"/censys/build/_shared/chunk-ARWSWGZJ.js";import"/censys/build/_shared/chunk-WW7MKZVD.js";import"/censys/build/_shared/chunk-RLL7RAJO.js";import{a as It}from"/censys/build/_shared/chunk-MB2LZLPU.js";import{a as ur}from"/censys/build/_shared/chunk-SZRPTSUZ.js";import{b as Bs}from"/censys/build/_shared/chunk-BXMBML5J.js";import{a as Fs,c as Ct,d as gt}from"/censys/build/_shared/chunk-OGHUWDRA.js";import{a as Ds}from"/censys/build/_shared/chunk-XSZMCSJH.js";import"/censys/build/_shared/chunk-4KKS33MW.js";import"/censys/build/_shared/chunk-IUMSQHOS.js";import{a as Kt}from"/censys/build/_shared/chunk-AEM63NKL.js";import{a as ft}from"/censys/build/_shared/chunk-WNJFRA3F.js";import"/censys/build/_shared/chunk-JAEJ7XSF.js";import"/censys/build/_shared/chunk-FYP76FCX.js";import{a as lr}from"/censys/build/_shared/chunk-OFRBI5JW.js";import"/censys/build/_shared/chunk-OKZWZKQL.js";import"/censys/build/_shared/chunk-IO4OV3HV.js";import"/censys/build/_shared/chunk-BS7TM7GR.js";import{a as Vo}from"/censys/build/_shared/chunk-IC5AY47K.js";import{A as os,B as ns,C as as,D as is,E as ls,F as cs,G as us,H as ps,I as ds,J as ms,K as hs,L as fs,N as Cs,a as Hr,b as Gr,c as Wr,d as Ur,e as Vr,f as $r,g as Yr,h as Gt,i as Kr,j as zr,k as qr,l as Ot,m as Qr,n as Xr,o as Jr,p as jr,q as At,r as xe,s as Je,t as de,u as Wt,v as Zr,w as es,x as ts,y as rs,z as ss}from"/censys/build/_shared/chunk-IWE2FGTN.js";import{b as Ns}from"/censys/build/_shared/chunk-ITDGECXQ.js";import{c as ar,r as Yt}from"/censys/build/_shared/chunk-B5UNN2SO.js";import"/censys/build/_shared/chunk-TUDXVIEL.js";import"/censys/build/_shared/chunk-7C4UGOB7.js";import"/censys/build/_shared/chunk-EI6HYVQX.js";import"/censys/build/_shared/chunk-J22KWXE5.js";import"/censys/build/_shared/chunk-JDWADSGD.js";import"/censys/build/_shared/chunk-EMHGEENV.js";import"/censys/build/_shared/chunk-4WX73TCZ.js";import"/censys/build/_shared/chunk-CJIEOTRC.js";import"/censys/build/_shared/chunk-5OP2ERYU.js";import{a as $t,b as Ue}from"/censys/build/_shared/chunk-LOKTUJJ3.js";import"/censys/build/_shared/chunk-BU2LL35M.js";import"/censys/build/_shared/chunk-IRHQADG7.js";import"/censys/build/_shared/chunk-KSE2ZBRQ.js";import"/censys/build/_shared/chunk-FP2KPINM.js";import"/censys/build/_shared/chunk-VKYVKQW2.js";import"/censys/build/_shared/chunk-HVTNNTFL.js";import"/censys/build/_shared/chunk-5HYWBZZN.js";import"/censys/build/_shared/chunk-OQUAXVLV.js";import{a as xs}from"/censys/build/_shared/chunk-BWODHJE6.js";import"/censys/build/_shared/chunk-RWVGPSU7.js";import{c as Is,d as Ms,y as Ls}from"/censys/build/_shared/chunk-4DOFQKLI.js";import{e as ir}from"/censys/build/_shared/chunk-MB47ZWHU.js";import"/censys/build/_shared/chunk-URNZPFSF.js";import"/censys/build/_shared/chunk-WK35ORSL.js";import"/censys/build/_shared/chunk-XTODG4BZ.js";import"/censys/build/_shared/chunk-426SZY5O.js";import"/censys/build/_shared/chunk-HPK4AUA3.js";import{a as je}from"/censys/build/_shared/chunk-TTVDHAYB.js";import"/censys/build/_shared/chunk-6EMU7K4F.js";import{a as As}from"/censys/build/_shared/chunk-M5RKE22T.js";import{f as _s}from"/censys/build/_shared/chunk-ZP3FOFQD.js";import"/censys/build/_shared/chunk-E7FS2ZQL.js";import{f as Ps}from"/censys/build/_shared/chunk-ST66DGSY.js";import{B as $e,a as gs,b as bs,x as Be,y as Os}from"/censys/build/_shared/chunk-QJVHIZ52.js";import"/censys/build/_shared/chunk-N7X32FEJ.js";import{$ as Ss,A as me,B as Ut,Xa as vs,aa as ys,ca as Rs,gb as ws,ta as Ts,wa as Vt,x as Es,xa as ht,z as be}from"/censys/build/_shared/chunk-DN2SN5ZC.js";import"/censys/build/_shared/chunk-F5K75D4K.js";import"/censys/build/_shared/chunk-44DVAK2X.js";import"/censys/build/_shared/chunk-OLCKCRUU.js";import{a as Nr,c as Fr,i as Dr,k as kr,p as ye,t as Br,z as Le}from"/censys/build/_shared/chunk-JMZ2MZXD.js";import{a as nr,b as te}from"/censys/build/_shared/chunk-ZST4CTCB.js";import{a as Y}from"/censys/build/_shared/chunk-MOHCJWAV.js";import{e as f}from"/censys/build/_shared/chunk-2TWE7TSA.js";var or=f(Y(),1);var it=f(Y(),1);var at=f(Y(),1);var D={COUNTRY:"country",HOSTNAME:"hostname",VENDOR:"vendor",PRODUCT:"product",PROTOCOL:"protocol"},Ye=Object.values(D);var Te="view",Vs="nextPageToken",$s="previousPageToken",Ys="sort",zt=100;var Ks="host.services.labels.value";var dr="host.location.country",zs="host.services.protocol",Yo="host.services.screenshots.handle",mr="host.services.screenshots.extracted_text",Ko="host.services.screenshots.phash",hr="host.hardware.vendor",fr="host.hardware.product",qs="web.labels.value",Cr="web.hostname",zo="web.endpoints.screenshots.handle",gr="web.endpoints.screenshots.extracted_text",qo="web.endpoints.screenshots.phash",Qs="web.hardware.vendor",Xs="web.hardware.product",Js="HONEYPOT",Er=["ICS","ELECTRICAL","OIL_AND_GAS"],Qo=Be({kind:0,field:Ks,value:Js}),Xo=Be({kind:0,field:qs,value:Js}),Jo=$e(Be({kind:4,field:Ks,values:Er}),Qo,"and not"),jo=$e(Be({kind:4,field:qs,values:Er}),Xo,"and not"),Zo=Be({kind:0,field:Ko,value:ir,escape:!1}),Ca=$e($e(Jo,Be({kind:1,field:Yo,value:"*",escape:!1}),"and"),Zo,"and not"),en=Be({kind:0,field:qo,value:ir,escape:!1}),ga=$e($e(jo,Be({kind:1,field:zo,value:"*",escape:!1}),"and"),en,"and not");function Et(){let[e]=ye(),t=Ms(),r=Fr(),{addToast:s}=Ns(),o=(0,at.useMemo)(()=>Ye.reduce((u,c)=>(u[c]=e.get(c)??"",u),{}),[e]),i=(0,at.useCallback)((u,c,R)=>{let g=new URLSearchParams(e);g.set(u,c);let d=e.get(Te);if(R){let E=`Showing ${d==="host"?"hosts":"web properties"} with ${It(u)}: ${It(c)}.`;s(`dashboard/filter/${u}`,{title:"Filter Applied",children:E})}t({pathname:r.pathname,search:`?${g.toString()}`})},[t,r.pathname,e]),l=(0,at.useCallback)(()=>{let u=new URLSearchParams(e);Ye.forEach(c=>{u.delete(c)}),t({pathname:r.pathname,search:`?${u.toString()}`})},[t,r.pathname,e]),a=(0,at.useMemo)(()=>Ye.some(u=>e.get(u)),[e]);return(0,at.useMemo)(()=>({filters:o,setFilter:i,clearFilters:l,isFiltering:a}),[o,i,l,a])}var js="icsFilters",Mt=gs.string().optional(),Zs={[D.COUNTRY]:Mt,[D.HOSTNAME]:Mt,[D.VENDOR]:Mt,[D.PRODUCT]:Mt,[D.PROTOCOL]:Mt};var et={filterBar:"U7c5L",form:"lRLzp",filters:"QyEOk",filterSelect:"oaImj",filterSelectList:"_7-33w",filterSelectListOptions:"Gqq9o",buttons:"vDzot",showInSearchResultsLink:"eqDk-"};function St(e,t=!1){return e.buckets.map(r=>({label:t?It(r.key):r.key,value:r.key}))}var eo=e=>e.replaceAll("_"," ").replaceAll(/\b\w/g,t=>t.toUpperCase());function to(e){return e.buckets.reduce((t,r)=>(t[r.key]=r.count,t),{})}function qt(e){let t=Ps();return t?.organizationId?`/censys/report/data/table?${Os(e)}&org=${t?.organizationId}`:null}var M={COPY_QUERY:"copy-query",FILTER:"filter",HOST_MAP:"host-map",HOST_TAB:"host-tab",HOST_TABLE_IP_LINK:"host-table-ip-link",OCR_TEXT_VIEW_ALL:"ocr-text-view-all",OCR_TEXT_VALUE:"ocr-text-value",SCREENSHOTS_GALLERY_ASSET_LINK:"screenshots-gallery-asset-link",SCREENSHOTS_TABLE_CELL_MORE:"screenshots-table-cell-more",SCREENSHOTS_TABLE_CELL_THUMBNAIL:"screenshots-table-cell-thumbnail",SCREENSHOTS_THUMBNAIL_LARGE:"screenshots-thumbnail-large",SCREENSHOTS_THUMBNAIL_SMALL:"screenshots-thumbnail-small",SHOW_SEARCH_RESULTS:"show-search-results",WEB_TAB:"web-tab",WEB_TABLE_HOSTNAME_LINK:"web-table-hostname-link",WIDGET_COUNTER_VIEW_ALL:"metric-view-all",WIDGET_COUNTER:"widget-counter"},X=(e,t="")=>{switch(e){case M.COPY_QUERY:return"explore-ci-copy-query";case M.FILTER:return`explore-ci-filter-${t}`;case M.HOST_MAP:return"explore-ci-map-host-distribution-by-country";case M.HOST_TAB:return"explore-ci-tab-hosts";case M.HOST_TABLE_IP_LINK:return"explore-ci-table-host-ip";case M.OCR_TEXT_VIEW_ALL:return"explore-ci-widget-ocr-text-view-all";case M.OCR_TEXT_VALUE:return"explore-ci-widget-ocr-text-value";case M.SCREENSHOTS_GALLERY_ASSET_LINK:return"explore-ci-screenshots-gallery-asset-link";case M.SCREENSHOTS_TABLE_CELL_MORE:return"explore-ci-table-screenshots-more";case M.SCREENSHOTS_TABLE_CELL_THUMBNAIL:return"explore-ci-table-screenshots-thumbnail";case M.SCREENSHOTS_THUMBNAIL_LARGE:return"explore-ci-widget-screenshots-thumbnail-large";case M.SCREENSHOTS_THUMBNAIL_SMALL:return"explore-ci-widget-screenshots-thumbnail-small";case M.SHOW_SEARCH_RESULTS:return"explore-ci-show-search-results";case M.WEB_TAB:return"explore-ci-tab-web-properties";case M.WEB_TABLE_HOSTNAME_LINK:return"explore-ci-table-web-hostname";case M.WIDGET_COUNTER:return`explore-ci-widget-counter-${t}-value`;case M.WIDGET_COUNTER_VIEW_ALL:return`explore-ci-widget-counter-${t}-view-all`}};var Oe=f(te(),1);function Sr(){let{allCountries:e,allHostnames:t,allVendors:r,allProducts:s,allProtocols:o}=Le(),i=Dr(),l=Hs(),a=i.state==="loading",{filters:n,setFilter:u,clearFilters:c,isFiltering:R}=Et(),g=e?St(e):[],d=t?St(t):[],E=r?St(r,!0):[],S=s?St(s,!0):[],C=o?St(o):[],{handleValueChange:p,handleSubmit:O,formState:P}=Bs(Zs,{[D.COUNTRY]:n[D.COUNTRY]??[],[D.HOSTNAME]:n[D.HOSTNAME]??[],[D.VENDOR]:n[D.VENDOR]??[],[D.PRODUCT]:n[D.PRODUCT]??[],[D.PROTOCOL]:n[D.PROTOCOL]??[]},js,l,!0);(0,it.useEffect)(()=>{Ye.forEach(_=>{p(_,n[_])})},[n,p,Ye]);let m=(0,it.useCallback)((_,Q)=>{let B=Q.map(L=>L.value).join(",");p(_,B),u(_,B)},[u,p]),h=(0,it.useCallback)(()=>{Ye.forEach(_=>{p(_,"")}),c()},[p,c,Ye]),N=(0,it.useCallback)((_,Q)=>{let B=Q.split(",");return _.filter(L=>B.includes(L.value))},[]);return(0,Oe.jsx)("div",{className:et.filterBar,children:(0,Oe.jsx)(Br,{"data-testid":"ics-filters-form",onSubmit:O,className:et.form,children:(0,Oe.jsxs)("div",{className:et.filters,children:[(0,Oe.jsx)(Lt,{name:D.COUNTRY,options:g,selectedOptions:N(g,P.values[D.COUNTRY]),onChange:m,label:"Location",disabled:a}),(0,Oe.jsx)(Lt,{name:D.HOSTNAME,options:d,selectedOptions:N(d,P.values[D.HOSTNAME]),onChange:m,label:"Hostname",disabled:a}),(0,Oe.jsx)(Lt,{name:D.VENDOR,options:E,selectedOptions:N(E,P.values[D.VENDOR]),onChange:m,label:"Vendor",disabled:a}),(0,Oe.jsx)(Lt,{name:D.PRODUCT,options:S,selectedOptions:N(S,P.values[D.PRODUCT]),onChange:m,label:"Product",disabled:a}),(0,Oe.jsx)(Lt,{name:D.PROTOCOL,options:C,selectedOptions:N(C,P.values[D.PROTOCOL]),onChange:m,label:"Protocols",disabled:a}),R&&(0,Oe.jsx)(Ss,{"data-testid":"clear-filters-button",className:et.clearFiltersButton,variant:Ut.TERTIARY,onClick:h,type:"button",children:"Clear Filters"})]})})})}function Lt({name:e,options:t,selectedOptions:r,onChange:s,label:o,disabled:i}){let l=(0,it.useCallback)(a=>{s(e,a)},[s,e]);return t.length===0?null:(0,Oe.jsx)("div",{"data-pendoid":X(M.FILTER,e),children:(0,Oe.jsx)(Ts,{name:e,options:t,selectedOptions:r,onChange:l,contentLeft:(0,Oe.jsx)(ws,{iconName:"filter-3",label:o}),disabled:i,placeholder:"All",className:et.filterSelect,listClassName:et.filterSelectList,listOptionsClassName:et.filterSelectListOptions,visibleSelectionsLimit:2})})}var Jt=f(Y(),1),x=f(Y(),1);var $=f(Y(),1);var Tr=f(Y(),1),xt=f(Y(),1),co=f(nr(),1);var ze=f(Y(),1),ho=f(Y(),1),fo=f(Y(),1),Co=f(nr(),1);var z=f(Y(),1);var A=f(Y(),1);var he=f(Y(),1);var Ce=f(Y(),1);var ne=f(Y(),1);var re=f(Y(),1);var U=f(Y(),1);var q=f(Y(),1);var So=f(Y(),1),K=f(Y(),1);var W=f(Y(),1);var w=f(Y(),1);var ct=f(Y(),1),rt=f(Y(),1),yo=f(nr(),1);var Ke=f(Y(),1),ut=f(Y(),1),tt=f(Y(),1),fe=f(Y(),1);var ca=f(Y(),1),Re=Tr.default.createContext({}),lo=Tr.default.createContext("default"),Ft=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;let i=e.newAgStackInstance(),l,a,n=!1;return i.then(u=>{if(n){t.destroyBean(u);return}l=u,a=l.getGui(),r.appendChild(a),ro(s,l)}),()=>{n=!0,l&&(a?.remove(),t.destroyBean(l),s&&ro(s,void 0))}},ro=(e,t)=>{if(e)if(e instanceof Function)e(t);else{let r=e;r.current=t}},Ne=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),Fe=class uo{constructor(...t){this.classesMap={};for(let r of t)this.classesMap[r]=!0}setClass(t,r){if(!!this.classesMap[t]==r)return this;let o=new uo;return o.classesMap={...this.classesMap},o.classesMap[t]=r,o}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},yt=e=>{let t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Rr=xt.default.version?.split(".")[0],po=Rr==="16"||Rr==="17";function tn(){return Rr==="19"}var Qt=!1;function rn(e){return Qt||setTimeout(()=>Qt=!1,0),Qt=!0,e()}var Nt=(e,t)=>{!po&&e&&!Qt?co.default.flushSync(t):t()},sn=e=>{po?e():xt.default.startTransition(e)};function on(e,t,r){return xt.default.useSyncExternalStore?xt.default.useSyncExternalStore(e,t):r}function Xt(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;let s=[],o=[],i=new Map,l=new Map;for(let a=0;a<t.length;a++){let n=t[a];l.set(n.instanceId,n)}for(let a=0;a<e.length;a++){let n=e[a];i.set(n.instanceId,n),l.has(n.instanceId)&&s.push(n)}for(let a=0;a<t.length;a++){let n=t[a],u=n.instanceId;i.has(u)||o.push(n)}return s.length===e.length&&o.length===0?e:s.length===0&&o.length===t.length?t:s.length===0?o:o.length===0?s:[...s,...o]}var mo=(0,$.forwardRef)((e,t)=>{let{registry:r,context:s}=(0,$.useContext)(Re),o=(0,$.useRef)(null),i=(0,$.useRef)(null),l=(0,$.useRef)(null),a=(0,$.useRef)(null),n=(0,$.useRef)(null),u=(0,$.useRef)(),[c,R]=(0,$.useState)(),[g,d]=(0,$.useState)(),[E,S]=(0,$.useState)(),[C,p]=(0,$.useState)(()=>new Fe),[O,P]=(0,$.useState)(()=>new Fe("ag-hidden")),[m,h]=(0,$.useState)(()=>new Fe("ag-hidden")),[N,_]=(0,$.useState)(()=>new Fe("ag-invisible"));(0,$.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,$.useLayoutEffect)(()=>Ft(c,s,i.current),[c]);let Q=(0,$.useCallback)(j=>{if(o.current=j,!j||s.isDestroyed()){u.current=s.destroyBean(u.current);return}let k={setInnerRenderer:(H,ee)=>{R(H),S(ee)},setChildCount:H=>d(H),toggleCss:(H,ee)=>p(G=>G.setClass(H,ee)),setContractedDisplayed:H=>h(ee=>ee.setClass("ag-hidden",!H)),setExpandedDisplayed:H=>P(ee=>ee.setClass("ag-hidden",!H)),setCheckboxVisible:H=>_(ee=>ee.setClass("ag-invisible",!H)),setCheckboxSpacing:H=>_(ee=>ee.setClass("ag-group-checkbox-spacing",H))},Z=r.createDynamicBean("groupCellRendererCtrl",!0);Z&&(u.current=s.createBean(Z),u.current.init(k,j,l.current,a.current,n.current,mo,e))},[]),B=(0,$.useMemo)(()=>`ag-cell-wrapper ${C.toString()}`,[C]),L=(0,$.useMemo)(()=>`ag-group-expanded ${O.toString()}`,[O]),T=(0,$.useMemo)(()=>`ag-group-contracted ${m.toString()}`,[m]),v=(0,$.useMemo)(()=>`ag-group-checkbox ${N.toString()}`,[N]),y=c?.componentFromFramework,b=y?c.componentClass:void 0,I=c==null&&E!=null,ce=Hr(E);return $.default.createElement("span",{className:B,ref:Q,...e.colDef?{}:{role:u.current?.getCellAriaRole()}},$.default.createElement("span",{className:L,ref:a}),$.default.createElement("span",{className:T,ref:n}),$.default.createElement("span",{className:v,ref:l}),$.default.createElement("span",{className:"ag-group-value",ref:i},I?ce:y?$.default.createElement(b,{...c.params}):null),$.default.createElement("span",{className:"ag-group-child-count"},g))}),so=mo,vr=(0,ho.createContext)({setMethods:()=>{}}),nn=e=>{let{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:o}=e,[{key:i,...l},a]=(0,ze.useState)(t);return(0,ze.useEffect)(()=>{r(n=>a(n))},[]),ze.default.createElement(vr.Provider,{value:{setMethods:o}},ze.default.createElement(s,{key:i,...l}))},an=(0,ze.memo)(nn),ln=0;function oo(){return`agPortalKey_${++ln}`}var go=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=oo(),this.portalKey=oo(),this.instanceCreated=this.isStatelessComponent()?de.resolve(!1):new de(o=>{this.resolveInstanceCreated=o})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();let e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){let t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){let t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){let r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}let s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new de(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,Co.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,fo.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){let r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function jt(e,t,r){for(let s of e){let o=t[s];o&&(r[s]=o)}}var De=class extends go{constructor(){super(...arguments),this.awaitUpdateCallback=new de(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=an}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new de(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,jt(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new de(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},cn=class extends De{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},un=class extends De{refresh(e){this.sourceParams=e,this.refreshProps()}},pn=class extends De{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){let e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},dn=class extends De{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){let e=super.getProps(),{label:t,icon:r,shake:s}=this;return e.label=t,e.icon=r,e.shake=s,e}},mn=class extends De{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new de(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){let t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();let t=new de(r=>{this.resolveFilterPassCallback=r});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){let e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},hn=class extends De{constructor(){super(...arguments),this.awaitSetMethodsCallback=new de(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){let t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function Eo(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||de.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var fn=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){jt(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Eo(this.floatingFilterParams,e)}},Cn=class extends De{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Eo(this.sourceParams,e)}getProps(){let e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},gn=class extends De{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},En=class extends De{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Sn=class extends De{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){let t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){let e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},yn=class extends De{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Rn=class extends De{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){let e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function wr(){Ot(231)}var Tn=1e3,vn=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Tn}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Nt(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},wn=({ctrl:e})=>{let t=e.isAlive(),{context:r}=(0,re.useContext)(Re),[s,o]=(0,re.useState)(),[i,l]=(0,re.useState)(),a=(0,re.useRef)(),n=(0,re.useRef)(null),u=(0,re.useRef)(null),c=(0,re.useRef)(null),R=(0,re.useRef)(),g=(0,re.useRef)();t&&!g.current&&(g.current=new Je(()=>n.current));let d=(0,re.useCallback)(p=>{if(n.current=p,!p||!e.isAlive()||r.isDestroyed()){a.current=r.destroyBean(a.current);return}a.current=r.createBean(new xe);let O=()=>{let m=e.getSelectAllGui();m&&(u.current?.insertAdjacentElement("afterend",m),a.current.addDestroyFunc(()=>m.remove()))},P={setWidth:m=>{n.current&&(n.current.style.width=m)},toggleCss:(m,h)=>g.current.toggleCss(m,h),setUserStyles:m=>l(m),setAriaSort:m=>{n.current&&(m?Vr(n.current,m):$r(n.current))},setUserCompDetails:m=>o(m),getUserCompInstance:()=>R.current||void 0,refreshSelectAllGui:O,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(P,p,u.current,c.current,a.current),O()},[]);(0,re.useLayoutEffect)(()=>Ft(s,r,c.current,R),[s]),(0,re.useEffect)(()=>{e.setDragSource(n.current)},[s]);let E=(0,re.useMemo)(()=>!!(s?.componentFromFramework&&yt(s.componentClass)),[s]),S=s?.componentFromFramework,C=s?.componentClass;return re.default.createElement("div",{ref:d,style:i,className:"ag-header-cell",role:"columnheader"},re.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),re.default.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},S?E?re.default.createElement(C,{...s.params}):re.default.createElement(C,{...s.params,ref:R}):null))},Pn=(0,re.memo)(wn),_n=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){jt(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},bn=({ctrl:e})=>{let{context:t,gos:r}=(0,U.useContext)(Re),[s,o]=(0,U.useState)(),[i,l]=(0,U.useState)(()=>new Fe("ag-header-cell","ag-floating-filter")),[a,n]=(0,U.useState)(()=>new Fe),[u,c]=(0,U.useState)(()=>new Fe("ag-floating-filter-button","ag-hidden")),[R,g]=(0,U.useState)("false"),[d,E]=(0,U.useState)(),[,S]=(0,U.useState)(1),C=(0,U.useRef)(),p=(0,U.useRef)(null),O=(0,U.useRef)(null),P=(0,U.useRef)(null),m=(0,U.useRef)(null),h=(0,U.useRef)(),N=(0,U.useRef)(),_=H=>{H!=null&&h.current&&h.current(H)},Q=(0,U.useCallback)(H=>{if(p.current=H,!H||!e.isAlive()||t.isDestroyed()){C.current=t.destroyBean(C.current);return}C.current=t.createBean(new xe),N.current=new de(G=>{h.current=G});let ee={toggleCss:(G,J)=>l(Ee=>Ee.setClass(G,J)),setUserStyles:G=>o(G),addOrRemoveBodyCssClass:(G,J)=>n(Ee=>Ee.setClass(G,J)),setButtonWrapperDisplayed:G=>{c(J=>J.setClass("ag-hidden",!G)),g(G?"false":"true")},setWidth:G=>{p.current&&(p.current.style.width=G)},setCompDetails:G=>E(G),getFloatingFilterComp:()=>N.current?N.current:null,setMenuIcon:G=>m.current?.appendChild(G)};e.setComp(ee,H,m.current,O.current,C.current)},[]);(0,U.useLayoutEffect)(()=>Ft(d,t,O.current,_),[d]);let B=(0,U.useMemo)(()=>i.toString(),[i]),L=(0,U.useMemo)(()=>a.toString(),[a]),T=(0,U.useMemo)(()=>u.toString(),[u]),v=(0,U.useMemo)(()=>!!(d&&d.componentFromFramework&&yt(d.componentClass)),[d]),y=(0,U.useMemo)(()=>r.get("reactiveCustomComponents"),[]),b=(0,U.useMemo)(()=>r.get("enableFilterHandlers"),[]),[I,ce]=(0,U.useState)();(0,U.useEffect)(()=>{if(d?.componentFromFramework)if(y){let H=b?_n:fn,ee=new H(d.params,()=>S(G=>G+1));_(ee),ce(ee)}else wr()},[d]);let j=I?.getProps(),k=d?.componentFromFramework,Z=d?.componentClass;return U.default.createElement("div",{ref:Q,style:s,className:B,role:"gridcell"},U.default.createElement("div",{ref:O,className:L,role:"presentation"},k?y?j&&U.default.createElement(vr.Provider,{value:{setMethods:H=>I.setMethods(H)}},U.default.createElement(Z,{...j})):U.default.createElement(Z,{...d.params,ref:v?()=>{}:_}):null),U.default.createElement("div",{ref:P,"aria-hidden":R,className:T,role:"presentation"},U.default.createElement("button",{ref:m,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},On=(0,U.memo)(bn),An=({ctrl:e})=>{let{context:t}=(0,q.useContext)(Re),[r,s]=(0,q.useState)(),[o,i]=(0,q.useState)(()=>new Fe),[l,a]=(0,q.useState)(()=>new Fe),[n,u]=(0,q.useState)("false"),[c,R]=(0,q.useState)(),[g,d]=(0,q.useState)(),E=(0,q.useRef)(),S=(0,q.useRef)(null),C=(0,q.useRef)(null),p=(0,q.useRef)(null),O=(0,q.useRef)(),P=(0,q.useCallback)(B=>{if(S.current=B,!B||!e.isAlive()||t.isDestroyed()){E.current=t.destroyBean(E.current);return}E.current=t.createBean(new xe);let L={setWidth:T=>{S.current&&(S.current.style.width=T)},toggleCss:(T,v)=>i(y=>y.setClass(T,v)),setUserStyles:T=>s(T),setHeaderWrapperHidden:T=>{let v=p.current;v&&(T?v.style.setProperty("display","none"):v.style.removeProperty("display"))},setHeaderWrapperMaxHeight:T=>{let v=p.current;v&&(T!=null?v.style.setProperty("max-height",`${T}px`):v.style.removeProperty("max-height"),v.classList.toggle("ag-header-cell-comp-wrapper-limited-height",T!=null))},setUserCompDetails:T=>d(T),setResizableDisplayed:T=>{a(v=>v.setClass("ag-hidden",!T)),u(T?"false":"true")},setAriaExpanded:T=>R(T),getUserCompInstance:()=>O.current||void 0};e.setComp(L,B,C.current,p.current,E.current)},[]);(0,q.useLayoutEffect)(()=>Ft(g,t,p.current),[g]),(0,q.useEffect)(()=>{S.current&&e.setDragSource(S.current)},[g]);let m=(0,q.useMemo)(()=>!!(g?.componentFromFramework&&yt(g.componentClass)),[g]),h=(0,q.useMemo)(()=>"ag-header-group-cell "+o.toString(),[o]),N=(0,q.useMemo)(()=>"ag-header-cell-resize "+l.toString(),[l]),_=g?.componentFromFramework,Q=g?.componentClass;return q.default.createElement("div",{ref:P,style:r,className:h,role:"columnheader","aria-expanded":c},q.default.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},_?m?q.default.createElement(Q,{...g.params}):q.default.createElement(Q,{...g.params,ref:O}):null),q.default.createElement("div",{ref:C,"aria-hidden":n,className:N}))},In=(0,q.memo)(An),Mn=({ctrl:e})=>{let{gos:t,context:r}=(0,ne.useContext)(Re),{topOffset:s,rowHeight:o}=(0,ne.useMemo)(()=>e.getTopAndHeight(),[]),i=(0,ne.useMemo)(()=>t.get("tabIndex"),[]),[l,a]=(0,ne.useState)(()=>e.getAriaRowIndex()),n=e.headerRowClass,[u,c]=(0,ne.useState)(()=>o+"px"),[R,g]=(0,ne.useState)(()=>s+"px"),d=(0,ne.useRef)(null),[E,S]=(0,ne.useState)(()=>e.getUpdatedHeaderCtrls()),C=(0,ne.useRef)(),p=(0,ne.useRef)(null),O=(0,ne.useCallback)(h=>{if(p.current=h,!h||!e.isAlive()||r.isDestroyed()){C.current=r.destroyBean(C.current);return}C.current=r.createBean(new xe);let N={setHeight:_=>c(_),setTop:_=>g(_),setHeaderCtrls:(_,Q,B)=>{let L=d.current,T=Xt(L,_,Q);T!==L&&(d.current=T,Nt(B,()=>S(T)))},setWidth:_=>{p.current&&(p.current.style.width=_)},setRowIndex:_=>{a(_)}};e.setComp(N,C.current,!1)},[]),P=(0,ne.useMemo)(()=>({height:u,top:R}),[u,R]),m=(0,ne.useCallback)(h=>{switch(e.type){case"group":return ne.default.createElement(In,{ctrl:h,key:h.instanceId});case"filter":return ne.default.createElement(On,{ctrl:h,key:h.instanceId});default:return ne.default.createElement(Pn,{ctrl:h,key:h.instanceId})}},[]);return ne.default.createElement("div",{ref:O,className:n,role:"row",style:P,tabIndex:i,"aria-rowindex":l},E.map(m))},Ln=(0,ne.memo)(Mn),xn=({pinned:e})=>{let[t,r]=(0,Ce.useState)(!0),[s,o]=(0,Ce.useState)([]),{context:i}=(0,Ce.useContext)(Re),l=(0,Ce.useRef)(null),a=(0,Ce.useRef)(null),n=(0,Ce.useRef)(),u=e==="left",c=e==="right",R=!u&&!c,g=(0,Ce.useCallback)(S=>{if(l.current=S,!S||i.isDestroyed()){n.current=i.destroyBean(n.current);return}n.current=i.createBean(new ls(e));let C={setDisplayed:r,setCtrls:p=>o(p),setCenterWidth:p=>{a.current&&(a.current.style.width=p)},setViewportScrollLeft:p=>{l.current&&(l.current.scrollLeft=p)},setPinnedContainerWidth:p=>{l.current&&(l.current.style.width=p,l.current.style.minWidth=p,l.current.style.maxWidth=p)}};n.current.setComp(C,l.current)},[]),d=t?"":"ag-hidden",E=()=>s.map(S=>Ce.default.createElement(Ln,{ctrl:S,key:S.instanceId}));return u?Ce.default.createElement("div",{ref:g,className:"ag-pinned-left-header "+d,"aria-hidden":!t,role:"rowgroup"},E()):c?Ce.default.createElement("div",{ref:g,className:"ag-pinned-right-header "+d,"aria-hidden":!t,role:"rowgroup"},E()):R?Ce.default.createElement("div",{ref:g,className:"ag-header-viewport "+d,role:"rowgroup",tabIndex:-1},Ce.default.createElement("div",{ref:a,className:"ag-header-container",role:"presentation"},E())):null},yr=(0,Ce.memo)(xn),Nn=()=>{let[e,t]=(0,he.useState)(()=>new Fe),[r,s]=(0,he.useState)(),{context:o}=(0,he.useContext)(Re),i=(0,he.useRef)(null),l=(0,he.useRef)(),a=(0,he.useCallback)(c=>{if(i.current=c,!c||o.isDestroyed()){l.current=o.destroyBean(l.current);return}l.current=o.createBean(new is);let R={toggleCss:(g,d)=>t(E=>E.setClass(g,d)),setHeightAndMinHeight:g=>s(g)};l.current.setComp(R,c,c)},[]),n=(0,he.useMemo)(()=>"ag-header "+e.toString(),[e]),u=(0,he.useMemo)(()=>({height:r,minHeight:r}),[r]);return he.default.createElement("div",{ref:a,className:n,style:u,role:"presentation"},he.default.createElement(yr,{pinned:"left"}),he.default.createElement(yr,{pinned:null}),he.default.createElement(yr,{pinned:"right"}))},Fn=(0,he.memo)(Nn),Dn=(e,t)=>{(0,So.useEffect)(()=>{let r=t.current;if(r){let s=r.parentElement;if(s){let o=document.createComment(e);return s.insertBefore(o,r),()=>{o.remove()}}}},[e])},lt=Dn,kn=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new de(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){jt(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},Bn=e=>{let t=(0,Ke.useRef)(e),r=(0,Ke.useRef)(),s=(0,Ke.useRef)(!1),o=(0,Ke.useRef)(!1),[,i]=(0,Ke.useState)(0);s.current&&(o.current=!0),(0,Ke.useEffect)(()=>(s.current||(r.current=t.current(),s.current=!0),i(l=>l+1),()=>{o.current&&r.current?.()}),[])},Hn=e=>{let[t,r]=(0,rt.useState)(),s=(0,rt.useContext)(Re),{context:o,popupSvc:i,gos:l,editSvc:a}=s,{editDetails:n,cellCtrl:u,eParentCell:c}=e;return Bn(()=>{let{compDetails:R}=n,g=l.get("stopEditingWhenCellsLoseFocus"),d,E;if(!o.isDestroyed()){E=o.createBean(a.createPopupEditorWrapper(R.params));let S=E.getGui();if(e.jsChildComp){let h=e.jsChildComp.getGui();h&&S.appendChild(h)}let{column:C,rowNode:p}=u,O={column:C,rowNode:p,type:"popupCellEditor",eventSource:c,ePopup:S,position:n.popupPosition,keepWithinBounds:!0},P=i?.positionPopupByComponent.bind(i,O),m=i?.addPopup({modal:g,eChild:S,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:c,positionCallback:P,ariaOwns:c});d=m?m.hideFunc:void 0,r(E),e.jsChildComp?.afterGuiAttached?.()}return()=>{d?.(),o.destroyBean(E)}}),(0,rt.useLayoutEffect)(()=>()=>{u.isCellFocused()&&t?.getGui().contains(Gr(s))&&c.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?(0,yo.createPortal)(e.wrappedContent,t.getGui()):null},no=(0,rt.memo)(Hn),Gn=(e,t,r)=>{let{compProxy:s}=e;r(s);let o=s.getProps(),i=yt(t);return ct.default.createElement(vr.Provider,{value:{setMethods:l=>s.setMethods(l)}},i?ct.default.createElement(t,{...o}):ct.default.createElement(t,{...o,ref:l=>s.setRef(l)}))},ao=(e,t,r)=>e.compProxy?Gn(e,t,r):ct.default.createElement(t,{...e.compDetails.params,ref:r}),Wn=(e,t,r,s,o)=>{let i=e.compDetails,l=i.componentClass,a=i.componentFromFramework&&!e.popup,n=i.componentFromFramework&&e.popup,u=!i.componentFromFramework&&e.popup;return a?ao(e,l,t):n?ct.default.createElement(no,{editDetails:e,cellCtrl:s,eParentCell:r,wrappedContent:ao(e,l,t)}):u&&o?ct.default.createElement(no,{editDetails:e,cellCtrl:s,eParentCell:r,jsChildComp:o}):null},Un=(e,t,r,s,o,i,l=!1)=>{let{context:a}=(0,ut.useContext)(Re),n=(0,ut.useCallback)(()=>{let u=o.current;if(!u)return;let c=u.getGui();c&&c.parentElement&&c.remove(),a.destroyBean(u),o.current=void 0},[]);(0,ut.useEffect)(()=>{let u=e!=null&&!l,c=e?.compDetails&&!e.compDetails.componentFromFramework,R=t&&r==null;if(!(u&&c&&!R)){n();return}let d=e.compDetails;if(o.current){let S=o.current,p=S.refresh!=null&&e.force==!1?S.refresh(d.params):!1;if(p===!0||p===void 0)return;n()}d.newAgStackInstance().then(S=>{if(!S)return;let C=S.getGui();if(!C)return;(t?r:i.current).appendChild(C),o.current=S})},[e,t,s,l]),(0,ut.useEffect)(()=>n,[])},Ro=Un,Vn=({cellCtrl:e,parent:t})=>{let r=(0,tt.useRef)(),s=(0,tt.useMemo)(()=>{let{loadingComp:o}=e.getDeferLoadingCellRenderer();return o?{value:void 0,compDetails:o,force:!1}:void 0},[e]);if(Ro(s,!1,void 0,1,r,t),s?.compDetails?.componentFromFramework){let o=s.compDetails.componentClass;return tt.default.createElement(o,{...s.compDetails.params})}return tt.default.createElement(tt.default.Fragment,null)},$n=({cellCtrl:e,printLayout:t,editingCell:r})=>{let s=(0,w.useContext)(Re),{context:o}=s,{column:{colIdSanitised:i},instanceId:l}=e,a=(0,w.useRef)(),[n,u]=(0,w.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[c,R]=(0,w.useState)(),[g,d]=(0,w.useState)(1),[E,S]=(0,w.useState)(),[C,p]=(0,w.useState)(!1),[O,P]=(0,w.useState)(!1),[m,h]=(0,w.useState)(!1),[N,_]=(0,w.useState)(),Q=(0,w.useMemo)(()=>e.isForceWrapper(),[e]),B=(0,w.useMemo)(()=>e.getCellAriaRole(),[e]),L=(0,w.useRef)(null),T=(0,w.useRef)(null),v=(0,w.useRef)(null),y=(0,w.useRef)(),b=(0,w.useRef)(),I=(0,w.useRef)(),ce=(0,w.useRef)([]),j=(0,w.useRef)(),k=(0,w.useRef)(),[Z,H]=(0,w.useState)(0),ee=(0,w.useCallback)(V=>{k.current=V,H(se=>se+1)},[]),G=n!=null&&(C||m||O)&&(c==null||!!c.popup),J=Q||G,Ee=(0,w.useMemo)(()=>e.getCellValueClass(),[e]),Ge=(0,w.useCallback)(V=>{if(b.current=V,V){let se=V.isCancelBeforeStart&&V.isCancelBeforeStart();setTimeout(()=>{se?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(V))})}},[e]),ve=(0,w.useRef)();ve.current||(ve.current=new Je(()=>L.current));let dt=!!c&&!c.popup;Ro(n,J,k.current,Z,y,L,dt);let mt=(0,w.useRef)();(0,w.useLayoutEffect)(()=>{let V=mt.current,se=n;if(mt.current=n,V==null||V.compDetails==null||se==null||se.compDetails==null)return;j.current?.refreshVisibility();let Se=V.compDetails,pe=se.compDetails;if(Se.componentClass!=pe.componentClass||v.current?.refresh==null)return;v.current.refresh(pe.params)!=!0&&d(ae=>ae+1)},[n]),(0,w.useLayoutEffect)(()=>{if(!(c&&!c.compDetails.componentFromFramework)||o.isDestroyed())return;let se=c.compDetails,Se=c.popup===!0,pe=se.newAgStackInstance();return pe.then(F=>{if(!F)return;let ae=F.getGui();Ge(F),Se||((Q?I:L).current?.appendChild(ae),F.afterGuiAttached?.()),_(F)}),()=>{pe.then(F=>{let ae=F.getGui();e.disableEditorTooltipFeature(),o.destroyBean(F),Ge(void 0),_(void 0),ae?.remove()})}},[c]);let _t=(0,w.useCallback)(V=>{if(I.current=V,!V||o.isDestroyed()||!e.isAlive()){let pe=ce.current;ce.current=[];for(let F of pe)F();return}let se,Se=pe=>{pe&&(V.insertAdjacentElement("afterbegin",pe.getGui()),ce.current.push(()=>{Yr(pe.getGui()),o.destroyBean(pe),j.current===se&&(j.current=void 0)}))};C&&Se(e.createSelectionCheckbox()),m&&Se(e.createDndSource()),O&&(se=e.createRowDragComp(),j.current=se,se&&(Se(se),se.refreshVisibility()))},[e,o,m,O,C]),oe=(0,w.useCallback)(()=>{let V=!e.isCellSpanning()||T.current,se=L.current;if(!se||!V||!e||!e.isAlive()||o.isDestroyed()){a.current=o.destroyBean(a.current);return}a.current=o.createBean(new xe);let Se={toggleCss:(F,ae)=>ve.current.toggleCss(F,ae),setUserStyles:F=>S(F),getFocusableElement:()=>L.current,setIncludeSelection:F=>p(F),setIncludeRowDrag:F=>P(F),setIncludeDndSource:F=>h(F),getCellEditor:()=>b.current??null,getCellRenderer:()=>v.current??y.current,getParentOfValue:()=>k.current??I.current??L.current,setRenderDetails:(F,ae,Pe)=>{let We=()=>{u(_e=>_e?.compDetails!==F||_e?.value!==ae||_e?.force!==Pe?{value:ae,compDetails:F,force:Pe}:_e)};if(F?.params?.deferRender&&!e.rowNode.group){let{loadingComp:_e,onReady:bt}=e.getDeferLoadingCellRenderer();if(_e){u({value:void 0,compDetails:_e,force:!1}),bt.then(()=>sn(We));return}}We()},setEditDetails:(F,ae,Pe,We)=>{if(F){let _e;F.componentFromFramework&&(We?_e=new kn(F.params,()=>d(bt=>bt+1)):wr()),R({compDetails:F,popup:ae,popupPosition:Pe,compProxy:_e}),ae||u(void 0)}else e.hasBrowserFocus()&&Se.getFocusableElement().focus({preventScroll:!0}),b.current=void 0,R(void 0)},refreshEditStyles:(F,ae)=>{if(!L.current)return;let{current:Pe}=ve;Pe.toggleCss("ag-cell-value",!J),Pe.toggleCss("ag-cell-inline-editing",!!F&&!ae),Pe.toggleCss("ag-cell-popup-editing",!!F&&!!ae),Pe.toggleCss("ag-cell-not-inline-editing",!F||!!ae)}},pe=I.current||void 0;e.setComp(Se,se,T.current??void 0,pe,t,r,a.current)},[]),nt=(0,w.useCallback)(V=>{L.current=V,oe()},[]),we=(0,w.useCallback)(V=>{T.current=V,oe()},[]),ke=(0,w.useMemo)(()=>!!(n?.compDetails?.componentFromFramework&&yt(n.compDetails.componentClass)),[n]);(0,w.useLayoutEffect)(()=>{if(!L.current)return;let{current:V}=ve;V.toggleCss("ag-cell-value",!J),V.toggleCss("ag-cell-inline-editing",!!c&&!c.popup),V.toggleCss("ag-cell-popup-editing",!!c&&!!c.popup),V.toggleCss("ag-cell-not-inline-editing",!c||!!c.popup)});let Ve=()=>{let{compDetails:V,value:se}=n;if(!V)return se?.toString?.()??se;if(V.componentFromFramework){let Se=V.componentClass;return w.default.createElement(w.Suspense,{fallback:w.default.createElement(Vn,{cellCtrl:e,parent:L})},ke?w.default.createElement(Se,{...V.params,key:g}):w.default.createElement(Se,{...V.params,key:g,ref:v}))}},Xe=()=>{let V=()=>n==null?null:J?w.default.createElement("span",{role:"presentation",id:`cell-${l}`,className:Ee,ref:ee},Ve()):Ve(),se=Se=>Wn(Se,Ge,L.current,e,N);return c!=null?c.popup?w.default.createElement(w.default.Fragment,null,V(),se(c)):se(c):V()},Ht=()=>w.default.createElement("div",{ref:nt,style:E,role:B,"col-id":i},J?w.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:_t},Xe()):Xe());return e.isCellSpanning()?w.default.createElement("div",{ref:we,className:"ag-spanned-cell-wrapper",role:"presentation"},Ht()):Ht()},Yn=(0,w.memo)($n),Kn=({rowCtrl:e,containerType:t})=>{let{context:r,gos:s,editSvc:o}=(0,W.useContext)(Re),i=(0,W.useContext)(lo)==="default",l=(0,W.useRef)(),a=(0,W.useRef)(e.getDomOrder()),n=e.isFullWidth(),u=e.rowNode.displayed,[c,R]=(0,W.useState)(()=>u?e.rowNode.getRowIndexString():null),[g,d]=(0,W.useState)(()=>e.rowId),[E,S]=(0,W.useState)(()=>e.businessKey),[C,p]=(0,W.useState)(()=>e.rowStyles),O=(0,W.useRef)(null),[P,m]=(0,W.useState)(()=>null),[h,N]=(0,W.useState)(),[_,Q]=(0,W.useState)(()=>u?e.getInitialRowTop(t):void 0),[B,L]=(0,W.useState)(()=>u?e.getInitialTransform(t):void 0),T=(0,W.useRef)(null),v=(0,W.useRef)(),y=(0,W.useRef)(),b=(0,W.useRef)(!1),[I,ce]=(0,W.useState)(0);(0,W.useEffect)(()=>{if(b.current||!h||I>10)return;let oe=T.current?.firstChild;oe?(e.setupDetailRowAutoHeight(oe),b.current=!0):ce(nt=>nt+1)},[h,I]);let j=(0,W.useRef)();j.current||(j.current=new Je(()=>T.current));let k=(0,W.useRef)(()=>{}),Z=(0,W.useCallback)(oe=>(k.current=oe,()=>{k.current=()=>{}}),[]),H=on(Z,()=>O.current,[]),ee=i?H:P,G=(0,W.useCallback)(oe=>{if(T.current=oe,l.current=oe?r.createBean(new xe):r.destroyBean(l.current),!oe){e.unsetComp(t);return}if(!e.isAlive()||r.isDestroyed())return;let nt={setTop:Q,setTransform:L,toggleCss:(we,ke)=>j.current.toggleCss(we,ke),setDomOrder:we=>a.current=we,setRowIndex:R,setRowId:d,setRowBusinessKey:S,setUserStyles:p,setCellCtrls:(we,ke)=>{let Ve=O.current,Xe=Xt(Ve,we,a.current);Xe!==Ve&&(O.current=Xe,i?k.current():Nt(ke,()=>m(Xe)))},showFullWidth:we=>{y.current=we.params,N(we)},getFullWidthCellRenderer:()=>v.current,getFullWidthCellRendererParams:()=>y.current,refreshFullWidth:we=>{let ke=we();return y.current=ke,dt.current?(N(Ve=>({...Ve,params:ke})),!0):!v.current||!v.current.refresh?!1:v.current.refresh(ke)}};e.setComp(nt,oe,t,l.current)},[]);(0,W.useLayoutEffect)(()=>Ft(h,r,T.current,v),[h]);let J=(0,W.useMemo)(()=>{let oe={top:_,transform:B};return Object.assign(oe,C),oe},[_,B,C]),Ee=n&&h?.componentFromFramework,Ge=!n&&ee!=null,ve=(0,W.useMemo)(()=>!!(h?.componentFromFramework&&yt(h.componentClass)),[h]),dt=(0,W.useRef)(!1);(0,W.useEffect)(()=>{dt.current=ve&&!!h&&!!s.get("reactiveCustomComponents")},[ve,h]);let mt=()=>ee?.map(oe=>W.default.createElement(Yn,{cellCtrl:oe,editingCell:o?.isEditing(oe,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:oe.instanceId})),_t=()=>{let oe=h.componentClass;return ve?W.default.createElement(oe,{...h.params}):W.default.createElement(oe,{...h.params,ref:v})};return W.default.createElement("div",{ref:G,role:"row",style:J,"row-index":c,"row-id":g,"row-business-key":E},Ge?mt():Ee?_t():null)},io=(0,W.memo)(Kn),zn=({name:e})=>{let{context:t,gos:r}=(0,K.useContext)(Re),s=(0,K.useMemo)(()=>rs(e),[e]),o=(0,K.useRef)(null),i=(0,K.useRef)(null),l=(0,K.useRef)(null),a=(0,K.useRef)([]),n=(0,K.useRef)([]),[u,c]=(0,K.useState)(()=>[]),R=!!r.get("enableCellSpan")&&!!s.getSpannedRowCtrls,g=(0,K.useRef)([]),d=(0,K.useRef)([]),[E,S]=(0,K.useState)(()=>[]),C=(0,K.useRef)(!1),p=(0,K.useRef)(),O=(0,K.useMemo)(()=>Ne("ag-viewport",Zr(e)),[e]),P=(0,K.useMemo)(()=>Ne(es(e)),[e]),m=(0,K.useMemo)(()=>Ne("ag-spanning-container",ts(e)),[e]),h=s.type==="center"||R,N=h?o:i;lt(" AG Row Container "+e+" ",N);let _=(0,K.useCallback)(()=>{let I=!h||o.current!=null,ce=i.current!=null,j=!R||l.current!=null;return I&&ce&&j},[]),Q=(0,K.useCallback)(()=>o.current==null&&i.current==null&&l.current==null,[]),B=(0,K.useCallback)(()=>{if(Q()&&(p.current=t.destroyBean(p.current)),!t.isDestroyed()&&_()){let I=k=>{let Z=Xt(n.current,a.current,C.current);Z!==n.current&&(n.current=Z,Nt(k,()=>c(Z)))},ce=k=>{let Z=Xt(d.current,g.current,C.current);Z!==d.current&&(d.current=Z,Nt(k,()=>S(Z)))},j={setHorizontalScroll:k=>{o.current&&(o.current.scrollLeft=k)},setViewportHeight:k=>{o.current&&(o.current.style.height=k)},setRowCtrls:({rowCtrls:k,useFlushSync:Z})=>{let H=!!Z&&a.current.length>0&&k.length>0;a.current=k,I(H)},setSpannedRowCtrls:(k,Z)=>{let H=!!Z&&g.current.length>0&&k.length>0;g.current=k,ce(H)},setDomOrder:k=>{C.current!=k&&(C.current=k,I(!1))},setContainerWidth:k=>{i.current&&(i.current.style.width=k)},setOffsetTop:k=>{i.current&&(i.current.style.transform=`translateY(${k})`)}};p.current=t.createBean(new ss(e)),p.current.setComp(j,i.current,l.current??void 0,o.current)}},[_,Q]),L=(0,K.useCallback)(I=>{i.current=I,B()},[B]),T=(0,K.useCallback)(I=>{l.current=I,B()},[B]),v=(0,K.useCallback)(I=>{o.current=I,B()},[B]),y=()=>K.default.createElement("div",{className:P,ref:L,role:h?"presentation":"rowgroup"},u.map(I=>K.default.createElement(io,{rowCtrl:I,containerType:s.type,key:I.instanceId})));if(!h)return y();let b=()=>K.default.createElement("div",{className:m,ref:T,role:"presentation"},E.map(I=>K.default.createElement(io,{rowCtrl:I,containerType:s.type,key:I.instanceId})));return K.default.createElement("div",{className:O,ref:v,role:"rowgroup"},y(),R?b():null)},qn=(0,K.memo)(zn),Qn=()=>{let e=(0,A.useContext)(Re),{context:t,overlays:r}=e,[s,o]=(0,A.useState)(""),[i,l]=(0,A.useState)(0),[a,n]=(0,A.useState)(0),[u,c]=(0,A.useState)("0px"),[R,g]=(0,A.useState)("0px"),[d,E]=(0,A.useState)("100%"),[S,C]=(0,A.useState)("0px"),[p,O]=(0,A.useState)("0px"),[P,m]=(0,A.useState)("100%"),[h,N]=(0,A.useState)(!0),[_,Q]=(0,A.useState)(!0),[B,L]=(0,A.useState)(null),[T,v]=(0,A.useState)(""),[y,b]=(0,A.useState)(null),[I,ce]=(0,A.useState)("ag-layout-normal"),j=(0,A.useRef)();j.current||(j.current=new Je(()=>k.current));let k=(0,A.useRef)(null),Z=(0,A.useRef)(null),H=(0,A.useRef)(null),ee=(0,A.useRef)(null),G=(0,A.useRef)(null),J=(0,A.useRef)(null),Ee=(0,A.useRef)(null),Ge=(0,A.useRef)([]),ve=(0,A.useRef)([]);lt(" AG Grid Body ",k),lt(" AG Pinned Top ",Z),lt(" AG Sticky Top ",H),lt(" AG Middle ",J),lt(" AG Pinned Bottom ",Ee);let dt=(0,A.useCallback)(F=>{if(k.current=F,!F||t.isDestroyed()){Ge.current=t.destroyBeans(Ge.current);for(let ie of ve.current)ie();ve.current=[];return}let ae=(ie,Me)=>{ie.appendChild(Me),ve.current.push(()=>Me.remove())},Pe=ie=>{let Me=t.createBean(new ie);return Ge.current.push(Me),Me},We=(ie,Me,Uo)=>{ae(ie,document.createComment(Uo)),ae(ie,Pe(Me).getGui())};We(F,ns," AG Fake Horizontal Scroll ");let _e=r?.getOverlayWrapperCompClass();_e&&We(F,_e," AG Overlay Wrapper "),G.current&&We(G.current,as," AG Fake Vertical Scroll ");let bt={setRowAnimationCssOnBodyViewport:o,setColumnCount:ie=>{k.current&&Ur(k.current,ie)},setRowCount:ie=>{k.current&&Wr(k.current,ie)},setTopHeight:l,setBottomHeight:n,setStickyTopHeight:c,setStickyTopTop:g,setStickyTopWidth:E,setTopInvisible:N,setBottomInvisible:Q,setColumnMovingCss:(ie,Me)=>j.current.toggleCss(ie,Me),updateLayoutClasses:ce,setAlwaysVerticalScrollClass:L,setPinnedTopBottomOverflowY:v,setCellSelectableCss:(ie,Me)=>b(Me?ie:null),setBodyViewportWidth:ie=>{J.current&&(J.current.style.width=ie)},registerBodyViewportResizeListener:ie=>{if(J.current){let Me=Gt(e,J.current,ie);ve.current.push(()=>Me())}},setStickyBottomHeight:C,setStickyBottomBottom:O,setStickyBottomWidth:m,setGridRootRole:ie=>F.setAttribute("role",ie)},xr=t.createBean(new os);Ge.current.push(xr),xr.setComp(bt,F,J.current,Z.current,Ee.current,H.current,ee.current)},[]),mt=(0,A.useMemo)(()=>Ne("ag-root","ag-unselectable",I),[I]),_t=(0,A.useMemo)(()=>Ne("ag-body-viewport",s,I,B,y),[s,I,B,y]),oe=(0,A.useMemo)(()=>Ne("ag-body",I),[I]),nt=(0,A.useMemo)(()=>Ne("ag-floating-top",h?"ag-invisible":null,y),[y,h]),we=(0,A.useMemo)(()=>Ne("ag-sticky-top",y),[y]),ke=(0,A.useMemo)(()=>Ne("ag-sticky-bottom",S==="0px"?"ag-invisible":null,y),[y,S]),Ve=(0,A.useMemo)(()=>Ne("ag-floating-bottom",_?"ag-invisible":null,y),[y,_]),Xe=(0,A.useMemo)(()=>({height:i,minHeight:i,overflowY:T}),[i,T]),Ht=(0,A.useMemo)(()=>({height:u,top:R,width:d}),[u,R,d]),V=(0,A.useMemo)(()=>({height:S,bottom:p,width:P}),[S,p,P]),se=(0,A.useMemo)(()=>({height:a,minHeight:a,overflowY:T}),[a,T]),Se=F=>A.default.createElement(qn,{name:F,key:`${F}-container`}),pe=({section:F,children:ae,className:Pe,style:We})=>A.default.createElement("div",{ref:F,className:Pe,role:"presentation",style:We},ae.map(Se));return A.default.createElement("div",{ref:dt,className:mt},A.default.createElement(Fn,null),pe({section:Z,className:nt,style:Xe,children:["topLeft","topCenter","topRight","topFullWidth"]}),A.default.createElement("div",{className:oe,ref:G,role:"presentation"},pe({section:J,className:_t,children:["left","center","right","fullWidth"]})),pe({section:H,className:we,style:Ht,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),pe({section:ee,className:ke,style:V,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),pe({section:Ee,className:Ve,style:se,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Xn=(0,A.memo)(Qn),Jn=(e,t)=>{let{children:r,eFocusableElement:s,onTabKeyDown:o,gridCtrl:i,forceFocusOutWhenTabGuardsAreEmpty:l,isEmpty:a}=e,{context:n}=(0,fe.useContext)(Re),u=(0,fe.useRef)(null),c=(0,fe.useRef)(null),R=(0,fe.useRef)(),g=p=>{let O=p==null?void 0:parseInt(p,10).toString();for(let P of[u,c])O===void 0?P.current?.removeAttribute("tabindex"):P.current?.setAttribute("tabindex",O)};(0,fe.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(p){R.current?.forceFocusOutOfContainer(p)}}));let d=(0,fe.useCallback)(()=>{let p=u.current,O=c.current;if(!p&&!O||n.isDestroyed()){R.current=n.destroyBean(R.current);return}if(p&&O){let P={setTabIndex:g};R.current=n.createBean(new cs({comp:P,eTopGuard:p,eBottomGuard:O,eFocusableElement:s,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:l,focusInnerElement:m=>i.focusInnerElement(m),isEmpty:a}))}},[]),E=(0,fe.useCallback)(p=>{u.current=p,d()},[d]),S=(0,fe.useCallback)(p=>{c.current=p,d()},[d]),C=p=>{let O=p==="top"?Wt.TAB_GUARD_TOP:Wt.TAB_GUARD_BOTTOM;return fe.default.createElement("div",{className:`${Wt.TAB_GUARD} ${O}`,role:"presentation",ref:p==="top"?E:S})};return fe.default.createElement(fe.default.Fragment,null,C("top"),r,C("bottom"))},jn=(0,fe.forwardRef)(Jn),Zn=(0,fe.memo)(jn),ea=({context:e})=>{let[t,r]=(0,z.useState)(""),[s,o]=(0,z.useState)(""),[i,l]=(0,z.useState)(null),[a,n]=(0,z.useState)(null),[u,c]=(0,z.useState)(!1),[R,g]=(0,z.useState)(),d=(0,z.useRef)(),E=(0,z.useRef)(null),S=(0,z.useRef)(),[C,p]=(0,z.useState)(null),O=(0,z.useRef)(()=>{}),P=(0,z.useRef)(),m=(0,z.useRef)([]),h=(0,z.useCallback)(()=>{},[]);lt(" AG Grid ",E);let N=(0,z.useCallback)(v=>{if(E.current=v,d.current=v?e.createBean(new ps):e.destroyBean(d.current),!v||e.isDestroyed())return;let y=d.current;O.current=y.focusInnerElement.bind(y);let b={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:I=>{if(!I&&P.current?.isDisplayed()){P.current.forceFocusOutOfContainer(I);return}S.current?.forceFocusOutOfContainer(I)},updateLayoutClasses:o,getFocusableContainers:()=>{let I=[],ce=E.current?.querySelector(".ag-root");ce&&I.push({getGui:()=>ce});for(let j of m.current)j.isDisplayed()&&I.push(j);return I},setCursor:l,setUserSelect:n};y.setComp(b,v,v),c(!0)},[]);(0,z.useEffect)(()=>{let v=d.current,y=E.current;if(!R||!v||!C||!y||e.isDestroyed())return;let b=[],{watermarkSelector:I,paginationSelector:ce,sideBarSelector:j,statusBarSelector:k,gridHeaderDropZonesSelector:Z}=v.getOptionalSelectors(),H=[];if(Z){let G=e.createBean(new Z.component),J=G.getGui();y.insertAdjacentElement("afterbegin",J),H.push(J),b.push(G)}if(j){let G=e.createBean(new j.component),J=G.getGui(),Ee=C.querySelector(".ag-tab-guard-bottom");Ee&&(Ee.insertAdjacentElement("beforebegin",J),H.push(J)),b.push(G),m.current.push(G)}let ee=G=>{let J=e.createBean(new G),Ee=J.getGui();return y.insertAdjacentElement("beforeend",Ee),H.push(Ee),b.push(J),J};if(k&&ee(k.component),ce){let G=ee(ce.component);P.current=G,m.current.push(G)}return I&&ee(I.component),()=>{e.destroyBeans(b);for(let G of H)G.remove()}},[R,C,e]);let _=(0,z.useMemo)(()=>Ne("ag-root-wrapper",t,s),[t,s]),Q=(0,z.useMemo)(()=>Ne("ag-root-wrapper-body","ag-focus-managed",s),[s]),B=(0,z.useMemo)(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:i??""}),[a,i]),L=(0,z.useCallback)(v=>{S.current=v,g(v!==null)},[]),T=(0,z.useCallback)(()=>!d.current?.isFocusable(),[]);return z.default.createElement("div",{ref:N,className:_,style:B,role:"presentation"},z.default.createElement("div",{className:Q,ref:p,role:"presentation"},u&&C&&!e.isDestroyed()&&z.default.createElement(Re.Provider,{value:e.getBeans()},z.default.createElement(Zn,{ref:L,eFocusableElement:C,onTabKeyDown:h,gridCtrl:d.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:T},z.default.createElement(Xn,null)))))},ta=(0,z.memo)(ea),ra=class extends Kr{postConstruct(){if(this.beans.colAutosize){let e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){let e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},To={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},sa={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...To},vo=new Set(Object.keys(sa)),oa=new Set(Object.keys(To)),wo=e=>{let t=(0,x.useRef)(),r=(0,x.useRef)(null),s=(0,x.useRef)(null),o=(0,x.useRef)([]),i=(0,x.useRef)([]),l=(0,x.useRef)(e),a=(0,x.useRef)(),n=(0,x.useRef)(),u=(0,x.useRef)(!1),[c,R]=(0,x.useState)(void 0),[,g]=(0,x.useState)(0),d=(0,x.useRef)(),E=P=>{let m=r.current?.classList,h=(N="")=>N.trim().split(/\s+/g).filter(Boolean);if(d.current!==P){for(let N of h(d.current))m?.contains(N)&&m.remove(N);for(let N of h(P))m?.contains(N)||m?.add(N);d.current=P}};(0,x.useLayoutEffect)(()=>{E(e.className)},[e.className]);let S=(0,x.useCallback)(P=>{if(r.current=P,E(e.className),!P){for(let y of o.current)y();o.current.length=0;return}let m=e.modules||[];s.current||(s.current=new vn(()=>g(y=>y+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push(()=>{s.current?.destroy(),s.current=null}));let h=Jr(e.gridOptions,e,Object.keys(e).filter(y=>!vo.has(y))),N=()=>{if(u.current){let y=()=>a.current?.shouldQueueUpdates()?void 0:i.current.shift(),b=y();for(;b;)b(),b=y()}},_=new la(N);a.current=_;let Q=new ra,B={providedBeanInstances:{frameworkCompWrapper:new aa(s.current,h),renderStatus:Q},modules:m,frameworkOverrides:_,setThemeOnGridDiv:!0},L=y=>{R(y),y.createBean(Q),o.current.push(()=>{y.destroy()}),y.getBean("ctrlsSvc").whenReady({addDestroyFunc:b=>{o.current.push(b)}},()=>{if(y.isDestroyed())return;let b=t.current;b&&e.passGridApi?.(b)})},T=y=>{y.getBean("ctrlsSvc").whenReady({addDestroyFunc:b=>{o.current.push(b)}},()=>{for(let b of i.current)b();i.current.length=0,u.current=!0})},v=new hs;h.gridId??(h.gridId=n.current),t.current=v.create(P,h,L,T,B),o.current.push(()=>{t.current=void 0}),t.current&&(n.current=t.current.getGridId())},[]),C=(0,x.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),p=(0,x.useCallback)(P=>{u.current&&!a.current?.shouldQueueUpdates()?P():i.current.push(P)},[]);(0,x.useEffect)(()=>{let P=na(l.current,e);l.current=e,p(()=>{t.current&&jr(P,t.current)})},[e]);let O=!x.default.useSyncExternalStore||At(e,"renderingMode")==="legacy"?"legacy":"default";return x.default.createElement("div",{style:C,ref:S},x.default.createElement(lo.Provider,{value:O},c&&!c.isDestroyed()?x.default.createElement(ta,{key:c.instanceId,context:c}):null,s.current?.getPortals()??null))};function na(e,t){let r={};for(let s of Object.keys(t)){if(vo.has(s)){oa.has(s)&&Ot(274,{prop:s});continue}let o=t[s];e[s]!==o&&(r[s]=o)}return r}var aa=class extends fs{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){let r=this.gridOptions;if(At(r,"reactiveCustomComponents")){let l=(a=>{switch(a){case"filter":return At(r,"enableFilterHandlers")?hn:mn;case"floatingFilterComponent":return At(r,"enableFilterHandlers")?gn:Cn;case"dateComponent":return pn;case"dragAndDropImageComponent":return dn;case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":return un;case"statusPanel":return yn;case"toolPanel":return Rn;case"menuItem":return Sn;case"cellRenderer":return cn;case"innerHeaderComponent":return En}})(t.name);if(l)return new l(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":wr();break}let o=!t.cellRenderer&&t.name!=="toolPanel";return new go(e,this.parent,t,o)}},ia=(0,x.forwardRef)((e,t)=>{let r=(0,x.useContext)(Re),{registry:s,context:o,gos:i,rowModel:l}=r,[a,n]=(0,x.useState)(()=>new Fe),[u,c]=(0,x.useState)(()=>new Fe),[R,g]=(0,x.useState)(),[d,E]=(0,x.useState)(),S=(0,x.useRef)(),C=(0,x.useRef)(null),p=(0,x.useRef)(),O=(0,x.useMemo)(()=>zr(e.api.getGridId(),R?.rowModelType??"clientSide"),[e]),P=(0,x.useMemo)(()=>a.toString()+" ag-details-row",[a]),m=(0,x.useMemo)(()=>u.toString()+" ag-details-grid",[u]);t&&(0,x.useImperativeHandle)(t,()=>({refresh(){return S.current?.refresh()??!1}})),e.template&&Ot(230);let h=(0,x.useCallback)(_=>{if(C.current=_,!_||o.isDestroyed()){S.current=o.destroyBean(S.current),p.current?.();return}let Q={toggleCss:(L,T)=>n(v=>v.setClass(L,T)),toggleDetailGridCss:(L,T)=>c(v=>v.setClass(L,T)),setDetailGrid:L=>g(L),setRowData:L=>E(L),getGui:()=>C.current},B=s.createDynamicBean("detailCellRendererCtrl",!0);if(B&&(o.createBean(B),B.init(Q,e),S.current=B,i.get("detailRowAutoHeight"))){let L=()=>{if(C.current==null)return;let T=C.current.clientHeight;T!=null&&T>0&&setTimeout(()=>{e.node.setRowHeight(T),(Qr(i,l)||Xr(i,l))&&l.onRowHeightChanged()},0)};p.current=Gt(r,_,L),L()}},[]),N=(0,x.useCallback)(_=>{S.current?.registerDetailWithMaster(_)},[]);return x.default.createElement("div",{className:P,ref:h},R&&x.default.createElement(wo,{className:m,...R,modules:O,rowData:d,passGridApi:N}))}),la=class extends us{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:so,agGroupRowRenderer:so,agDetailCellRenderer:ia},this.wrapIncoming=(t,r)=>r==="ensureVisible"?rn(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;let t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return tn()}},Po=class extends Jt.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(let t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Jt.default.createElement(wo,{...this.props,passGridApi:this.setGridApi})}};var Ie=f(Y(),1);var bo=f(te(),1);function _o({assetType:e}){let t=e==="host"?"hosts":"web properties";return(0,bo.jsxs)(me,{children:["No ",t," found."]})}var st={tableWrapper:"CxYLg",title:"LI7Nz",flexContent:"Kx36F",icon:"_3MoKr",icsTable:"x-gWq"};var Ao=f(te(),1);function Oo({title:e,total:t}){return(0,Ao.jsxs)(me,{variant:be.H4,className:st.title,children:[e," (",t.toLocaleString(),")"]})}var kt=f(Y(),1);var qe={screenshotCell:"_2CMfy",screenshotCellContent:"hSmJs",screenshotThumbnail:"_4lzBj",screenshotMore:"E5Dqz",subtleText:"l5f38"};var Dt={section:"A9U-4",container:"SDDhd",modalTitleContainer:"_7EBcc"};var Rt=f(te(),1);function Zt(e){let{view:t,screenshot:r,pendoId:s}=e,o=t==="host"?"Host":"Web Property";return(0,Rt.jsxs)("div",{className:Dt.modalTitleContainer,children:[(0,Rt.jsx)(me,{variant:be.H2,children:o}),(0,Rt.jsx)(As,{variant:"line--vertical",spacing:8}),(0,Rt.jsx)(je,{href:r.href??"",isExternal:!0,shouldOmitOrg:!0,pendoId:s,children:r.description})]})}var Ae=f(te(),1);function er({identifier:e,screenshots:t}){let[r,s]=(0,kt.useState)(!1),[o]=ye(),i=o.get(Te)??"host",l=(0,kt.useCallback)(()=>{s(g=>!g)},[]);if(t.length===0)return(0,Ae.jsx)("div",{className:qe.screenshotCell});let[a,n,...u]=t,c=u.length>0,R=(0,kt.useCallback)(g=>Zt({view:i,screenshot:g,pendoId:X(M.SCREENSHOTS_GALLERY_ASSET_LINK)}),[i,t]);return(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:qe.screenshotCell,children:(0,Ae.jsx)(Gs,{children:(0,Ae.jsxs)("div",{onClick:l,className:qe.screenshotCellContent,"data-pendoId":X(M.SCREENSHOTS_TABLE_CELL_THUMBNAIL),children:[(0,Ae.jsx)(pr,{src:a.src,alt:`Screenshot for ${e}`,className:qe.screenshotThumbnail,shouldShowExplicitContent:!1}),n&&!c&&(0,Ae.jsx)(pr,{src:n.src,alt:`Screenshot two for ${e}`,className:qe.screenshotThumbnail,shouldShowExplicitContent:!1}),c&&(0,Ae.jsx)("div",{className:Es(qe.screenshotMore,qe.screenshotThumbnail),"data-pendoid":X(M.SCREENSHOTS_TABLE_CELL_MORE),children:(0,Ae.jsxs)(me,{variant:be.SMALL,className:qe.subtleText,children:["+",u.length]})})]})})}),r&&(0,Ae.jsx)(Ws,{selectedIndex:0,explicitContentErrorIndexes:new Set,approvedExplicitContentIndexes:new Set,onApprovedExplicitContent:()=>{},isOpen:r,screenshots:t,onClose:l,renderTitle:R})]})}var le=f(te(),1);function Io(e,t){if(e==="host"){let s=[{headerName:"IP Address",field:"ip",cellRenderer:o=>(0,le.jsxs)("div",{className:st.flexContent,children:[(0,le.jsx)(ur,{assetType:"host",iconName:o.data.hardwareIconName,description:o.data.hardwareDescription,showBorder:!1,size:"sm"}),(0,le.jsx)(je,{href:`/hosts/${o.value}`,variant:"nav",isExternal:!0,pendoId:X(M.HOST_TABLE_IP_LINK),children:o.value})]})},{headerName:"Country",field:"country",cellRenderer:o=>(0,le.jsxs)("div",{className:st.flexContent,children:[(0,le.jsx)(Kt,{countryCode:o.data.countryCode??""}),(0,le.jsx)(me,{children:o.value})]})},{headerName:"Vendor",field:"vendor",cellRenderer:o=>(0,le.jsx)("span",{children:o.value})},{headerName:"Product",field:"product",cellRenderer:o=>(0,le.jsx)("span",{children:o.value})},{headerName:"Protocol",field:"protocol",flex:.8,sortable:!1,cellRenderer:o=>(0,le.jsx)("span",{children:o.value})},{headerName:"Port",field:"port",flex:.6,sortable:!1,cellRenderer:o=>(0,le.jsx)("span",{children:o.value})},{headerName:"Last seen",field:"lastSeen",flex:1.2,sortable:!1,cellRenderer:o=>(0,le.jsx)(lr,{timestamp:o.value,variant:"short"})}];return t&&s.splice(s.length-1,0,{headerName:"Screenshots",field:"screenshots",sortable:!1,flex:1,cellRenderer:o=>(0,le.jsx)(er,{identifier:o.data.ip??"",screenshots:o.data.screenshots??[]})}),s}let r=[{headerName:"Hostname",field:"hostname",cellRenderer:s=>(0,le.jsxs)("div",{className:st.flexContent,children:[(0,le.jsx)(ur,{assetType:"web",iconName:s.data.hardwareIconName,description:s.data.hardwareDescription,showBorder:!1,size:"sm"}),(0,le.jsx)(je,{href:`/web/${s.value}:${s.data.port}`,variant:"nav",isExternal:!0,pendoId:X(M.WEB_TABLE_HOSTNAME_LINK),children:s.value})]})},{headerName:"Port",field:"port",sortable:!1,cellRenderer:s=>(0,le.jsx)("span",{children:s.value})},{headerName:"Vendor",field:"vendor",sortable:!1,cellRenderer:s=>(0,le.jsx)("span",{children:s.value})},{headerName:"Product",field:"product",sortable:!1,cellRenderer:s=>(0,le.jsx)("span",{children:s.value})},{headerName:"Last seen",field:"lastSeen",flex:1.2,sortable:!1,cellRenderer:s=>(0,le.jsx)(lr,{timestamp:s.value,variant:"short"})}];return t&&r.splice(r.length-1,0,{headerName:"Screenshots",field:"screenshots",sortable:!1,flex:1,cellRenderer:s=>(0,le.jsx)(er,{identifier:s.data.ip??"",screenshots:s.data.screenshots??[]})}),r}var Mo=ms.withPart(ds).withParams({headerBackgroundColor:Ue.SURFACE_BG_SECTION_HEADER_2,backgroundColor:Ue.SURFACE_BG_CARD_1,headerTextColor:Ue.TEXT_PRIMARY,menuTextColor:Ue.TEXT_PRIMARY,headerFontSize:14,cellTextColor:Ue.TEXT_PRIMARY,menuBackgroundColor:Ue.SURFACE_BG_CARD_1,rowHoverColor:Ue.FEEDBACK_INFO_HOVER,textColor:Ue.TEXT_PRIMARY,accentColor:Ue.INPUT_MARK_BG_SELECTED,headerHeight:52,fontSize:14}),Lo={flex:1,sortable:!0,resizable:!0,unSortIcon:!0,mainMenuItems:e=>{let t=["columnChooser"];return e.defaultItems.filter(r=>!t.includes(r))}};var pt=f(te(),1);qr.registerModules([Cs]);function xo({assetType:e,hasScreenshots:t,totalHits:r}){let s=Ls(),[o]=ye(),i=bs(),l=(0,Ie.useRef)(null),a=(0,Ie.useRef)(null),n=(0,Ie.useRef)(0),u=(0,Ie.useRef)(""),c=(0,Ie.useRef)(null);(0,Ie.useEffect)(()=>{l.current=null,a.current=null,n.current=0,u.current=""},[o]),(0,Ie.useEffect)(()=>{if(!s.data||!c.current)return;let E=s.data,S=e==="host"?E.hostRows:E.webRows,C=c.current,p=Math.floor((C.request?.startRow??0)/zt);l.current=E.previousPageToken??null,a.current=E.nextPageToken??null,C.success({rowData:S,rowCount:E.totalHits??r}),c.current=null,n.current=p},[s.data,e,r]);let R=(0,Ie.useMemo)(()=>({getRows:E=>{let S=Math.floor((E.request?.startRow??0)/zt),C=E.request?.sortModel||[],p=JSON.stringify(C),O=p!==u.current;O&&(l.current=null,a.current=null,n.current=0,u.current=p,E.api.paginationGoToFirstPage());let P=S>n.current,m=null,h=null;S===0||O?m=null:P?(m=a.current,h=Vs):(m=l.current,h=$s),c.current=E;let N=new URLSearchParams(o);m&&h&&N.set(h,m),C.length>0&&N.set(Ys,p),s.load(`?${N.toString()}`)}}),[o,s.load]),g=(0,Ie.useMemo)(()=>Io(e,t),[e,t]),d=(0,Ie.useCallback)(E=>(0,pt.jsx)(_o,{...E,assetType:e}),[e]);return i?(0,pt.jsxs)(ht,{bodyPadding:Vt.NONE,children:[(0,pt.jsx)(Oo,{title:e==="host"?"Hosts":"Web Properties",total:r}),(0,pt.jsx)("div",{className:st.icsTable,children:(0,pt.jsx)(Po,{serverSideDatasource:R,columnDefs:g,defaultColDef:Lo,theme:Mo,domLayout:"normal",embedFullWidthRows:!0,noRowsOverlayComponent:d,suppressContextMenu:!0,pagination:!0,rowModelType:"serverSide",paginationPageSize:zt,paginationPageSizeSelector:!1,suppressScrollOnNewData:!0,suppressServerSideFullWidthLoadingRow:!0,alwaysMultiSort:!0})})]}):null}var No=f(te(),1);function _r(){let{totalHits:e,screenshots:t}=Le(),[r]=ye(),[s]=_s([15]),o=r.get(Te)??"host",i=s&&t.length>0;return(0,No.jsx)(xo,{assetType:o==="host"?"host":"web",hasScreenshots:i,totalHits:e})}var br=f(Y(),1);var Do={light:$t.WHITE,dark:$t.BLACK},Fo=["#B8CACD","#A7C0C3","#95B7BA","#84ADB1","#73A4A7","#619A9E","#509194","#2D7E81"],ko={light:["#DBDDE0",...Fo],dark:[$t.GRAY7,...Fo]},Bo="#225E61";var Ho=f(te(),1);function Or({countsByCountryCode:e}){let{setFilter:t}=Et(),r=(0,br.useCallback)(o=>{t(D.COUNTRY,o.name,!0)},[t]),s=(0,br.useCallback)(({countryProperties:o,count:i})=>i>0?()=>r(o):void 0,[r]);return(0,Ho.jsx)(Fs,{title:"Host Distribution By Country",renderMap:!0,countsByCountryCode:e,strokeColor:Do,colorRange:ko,label:"Host",dotColor:Bo,getOnCountryClickHandler:s,pendoId:X(M.HOST_MAP)})}var Go=f(Y(),1);var Ar={header:"Hm4yR",screenshotsContainer:"_6hNxy"};var Bt=f(te(),1);function Ir({screenshots:e}){let[t]=ye(),r=t.get(Te)??"host",s=(0,Go.useCallback)(o=>Zt({view:r,screenshot:o,pendoId:X(M.SCREENSHOTS_GALLERY_ASSET_LINK)}),[r,e]);return e.length===0?null:(0,Bt.jsxs)("div",{className:Ar.screenshotsContainer,children:[(0,Bt.jsxs)(me,{variant:be.H4,className:Ar.header,children:["Screenshots (",e.length,")"]}),(0,Bt.jsx)(Us,{renderTitle:s,screenshots:e,width:432,largeImagePendoId:X(M.SCREENSHOTS_THUMBNAIL_LARGE),thumbnailPendoId:X(M.SCREENSHOTS_THUMBNAIL_SMALL),thumbnailLimit:5})]})}var tr=f(Y(),1);var Qe={container:"O4HU5",header:"HHq2Y",entriesContainer:"_3MWE1",item:"petxh",textWrapper:"D4n45",text:"vY0uw",count:"_2uXMC",tooltip:"uApKe"};var He=f(te(),1);function rr(){let{filteredQuery:e,ocrTextAggregation:t}=Le(),[r]=ye(),s=r.get(Te)??"host",o=qt(e),i=(0,tr.useMemo)(()=>`${o}&field=${s==="host"?mr:gr}`,[o,s]),l=(0,tr.useCallback)(n=>{let u=s==="host"?mr:gr,c=$e(e,Be({kind:0,field:u,value:n}));return`/censys?q=${encodeURIComponent(c)}`},[e,s]);return t.buckets.length>0?(0,He.jsxs)("div",{className:Qe.container,children:[(0,He.jsxs)("header",{className:Qe.header,children:[(0,He.jsx)(me,{variant:be.H4,children:"Top Extracted Text"}),(0,He.jsx)(je,{href:i,isExternal:!0,shouldOmitOrg:!0,pendoId:X(M.OCR_TEXT_VIEW_ALL),children:"View all"})]}),(0,He.jsx)("div",{className:Qe.entriesContainer,children:t.buckets.map(n=>(0,He.jsxs)("div",{className:Qe.item,children:[(0,He.jsx)(vs,{content:n.key,contentClassName:Qe.tooltip,triggerClassName:Qe.textWrapper,children:(0,He.jsx)(je,{className:Qe.text,href:l(n.key),isExternal:!0,pendoId:X(M.OCR_TEXT_VALUE),children:n.key})}),(0,He.jsx)(me,{className:Qe.count,children:n.count})]},n.key))})]}):null}var ot=f(te(),1);function Mr(){let{countryCodeAggregation:e,screenshots:t,ocrTextAggregation:r}=Le(),s=e&&to(e),o=t.length>0,i=r.buckets.length>0;return!s&&!o&&!i?null:(0,ot.jsxs)("div",{className:Dt.section,children:[s&&(0,ot.jsx)(Or,{countsByCountryCode:s}),(o||i)&&(0,ot.jsx)(ht,{children:(0,ot.jsxs)("div",{className:Dt.container,children:[(0,ot.jsx)(Ir,{screenshots:t}),(0,ot.jsx)(rr,{})]})})]})}var wt=f(Y(),1);var sr={cardWrapper:"_8kopL",cardHeader:"Z7MYG",countCards:"x7-Bq"};function Tt(e,t=!1){if(e)return e.buckets.slice(0,10).map(r=>({key:r.key,name:t?eo(r.key):r.key,count:r.count}))}function vt(e){return!e||!e.buckets?0:e.buckets.length}var ge=f(te(),1);function Lr(){let{filteredQuery:e,countryAggregation:t,hostnameAggregation:r,vendorAggregation:s,productAggregation:o,protocolAggregation:i}=Le(),[l]=ye(),{setFilter:a}=Et(),[n,u]=(0,wt.useState)(!0),c=(0,wt.useCallback)(()=>u(!n),[n]),R=qt(e),g=l.get(Te)??"host",d=dr,E=Cr,S=g==="host"?hr:Qs,C=g==="host"?fr:Xs,p=zs,O=Tt(t),P=Tt(r),m=Tt(s,!0),h=Tt(o,!0),N=Tt(i),_=vt(t),Q=vt(r),B=vt(s),L=vt(o),T=vt(i),v=(0,wt.useCallback)((b,I)=>{a(b,I,!0)},[a]),y=(0,wt.useCallback)(b=>`${R}&field=${b}`,[R]);return(0,ge.jsx)(ht,{bodyPadding:Vt.NONE,children:(0,ge.jsxs)("div",{className:sr.cardWrapper,children:[(0,ge.jsxs)("header",{className:sr.cardHeader,children:[(0,ge.jsx)(me,{variant:be.H4,children:"Top 10 Metrics"}),(0,ge.jsx)(Rs,{iconName:n?"arrow-up-s":"arrow-down-s",iconMode:"line","aria-label":n?"Hide lists":"Show lists",onClick:c,variant:Ut.GHOST,size:ys.LARGE})]}),(0,ge.jsxs)("div",{className:sr.countCards,children:[O&&(0,ge.jsx)(Ct,{icon:"earth",title:ft("Country",_),count:_,showList:n,viewAllHref:y(d),pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.COUNTRY),children:O.map(b=>(0,ge.jsx)(gt,{item:b,icon:(0,ge.jsx)(Kt,{"aria-hidden":!0,countryCode:Ds(b.key)}),totalCount:t?.total_count||0,onApplyFilter:v,filterKey:D.COUNTRY,pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.COUNTRY)},b.key))}),P&&(0,ge.jsx)(Ct,{icon:"computer",title:ft("Hostname",Q),count:Q,showList:n,viewAllHref:y(E),pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.HOSTNAME),children:P.map(b=>(0,ge.jsx)(gt,{item:b,totalCount:r?.total_count||0,onApplyFilter:v,filterKey:D.HOSTNAME,pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.HOSTNAME)},b.key))}),m&&(0,ge.jsx)(Ct,{icon:"building",title:ft("Vendor",B),count:B,showList:n,viewAllHref:y(S),pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.VENDOR),children:m.map(b=>(0,ge.jsx)(gt,{item:b,totalCount:s?.total_count||0,filterKey:D.VENDOR,onApplyFilter:v,pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.VENDOR)},b.name))}),h&&(0,ge.jsx)(Ct,{icon:"code",title:ft("Product",L),count:L,showList:n,viewAllHref:y(C),pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.PRODUCT),children:h.map(b=>(0,ge.jsx)(gt,{item:b,totalCount:o?.total_count||0,filterKey:D.PRODUCT,onApplyFilter:v,pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.PRODUCT)},b.name))}),N&&(0,ge.jsx)(Ct,{icon:"shield-keyhole",title:ft("Protocol",T),count:T,showList:n,viewAllHref:y(p),pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.PROTOCOL),children:N.map(b=>(0,ge.jsx)(gt,{item:b,totalCount:i?.total_count||0,filterKey:D.PROTOCOL,onApplyFilter:v,pendoId:X(M.WIDGET_COUNTER_VIEW_ALL,D.PROTOCOL)},b.name))})]})]})})}var Pt={stickyHeader:"UruOb",stickyNavTabs:"YTPL0",contentContainer:"XohbP",mainContent:"qPweJ",filtersWrapper:"_6bAyc"};var da=f(Vo(),1),ue=f(te(),1),ua=()=>[{title:"Critical Infrastructure - Censys"}];function Wo(){let{hostCount:e,webCount:t,filteredQuery:r}=Le(),[s,o]=ye(),i=s.get(Te)??"host",[l,a]=(0,or.useState)(i),n=(0,or.useCallback)(u=>{a(u),o({[Te]:u})},[o]);return(0,ue.jsx)(Yt,{breadcrumbs:[{pathName:"Explore"}],initialQuery:r,slots:{header:(0,ue.jsx)(me,{variant:be.H1,children:"Critical Infrastructure"}),navTabs:(0,ue.jsxs)(ks,{children:[(0,ue.jsxs)(cr,{id:"hosts-tab",isActive:l==="host",onClick:()=>n("host"),"data-pendoid":X(M.HOST_TAB),children:["Hosts (",e.toLocaleString(),")"]}),(0,ue.jsxs)(cr,{id:"web-properties-tab",isActive:l==="web",onClick:()=>n("web"),"data-pendoid":X(M.WEB_TAB),children:["Web Properties (",t.toLocaleString(),")"]})]})},headerClassName:Pt.stickyHeader,navTabClassName:Pt.stickyNavTabs,children:(0,ue.jsxs)("div",{className:Pt.contentContainer,children:[(0,ue.jsx)("div",{className:Pt.filtersWrapper,children:(0,ue.jsx)(Sr,{})}),(0,ue.jsxs)("div",{className:Pt.mainContent,children:[(0,ue.jsx)(Mr,{}),(0,ue.jsx)(Lr,{}),(0,ue.jsx)(_r,{})]})]})})}function pa(){let e=kr(),t=[{pathName:"Explore"}],r="Error Loading Critical Infrastructure Data";return Nr(e)?(e.status===400&&(r="Invalid Request"),(0,ue.jsx)(Yt,{breadcrumbs:t,children:(0,ue.jsx)(ar,{children:(0,ue.jsx)(Is,{iconName:"alert",title:r,children:(0,ue.jsx)(me,{children:"We encountered a problem while loading the critical infrastructure information. Please try again later."})})})})):(0,ue.jsx)(Yt,{breadcrumbs:t,children:(0,ue.jsx)(ar,{children:(0,ue.jsx)(xs,{error:e})})})}export{pa as ErrorBoundary,Wo as default,ua as meta};
